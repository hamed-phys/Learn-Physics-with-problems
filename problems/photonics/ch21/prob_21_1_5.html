<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Magneto-Optic Modulator — Faraday Rotator as Intensity Modulator</title>
<style>
:root{
  --bg:#0f172a;
  --card:#111827;
  --accent:#22d3ee;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --border:#1f2937;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.65;
}
header{
  padding:2rem 1rem;
  background:linear-gradient(135deg,#0f172a,#111827);
  border-bottom:1px solid var(--border);
}
header h1{margin:0;font-size:1.9rem}
header p{color:var(--muted);margin-top:.5rem}
main{
  display:grid;
  grid-template-columns:260px 1fr;
  gap:2rem;
  padding:2rem 1rem;
  max-width:1400px;
  margin:auto;
}
nav{
  position:sticky;
  top:1rem;
  align-self:start;
  background:var(--card);
  padding:1rem;
  border:1px solid var(--border);
  border-radius:12px;
}
nav h3{margin-top:0;font-size:1rem;color:var(--accent)}
nav a{
  display:block;
  color:var(--muted);
  text-decoration:none;
  margin:.4rem 0;
  font-size:.9rem;
}
nav a:hover{color:var(--accent)}
section{margin-bottom:3rem}
h2{
  border-bottom:1px solid var(--border);
  padding-bottom:.4rem;
}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:1.2rem;
  margin:1rem 0;
}
.highlight{
  border-left:4px solid var(--accent);
  padding-left:1rem;
}
button.copy{
  background:var(--accent);
  color:#000;
  border:none;
  padding:.4rem .6rem;
  border-radius:6px;
  cursor:pointer;
  font-size:.8rem;
  margin-top:.5rem;
}
details{
  background:var(--card);
  padding:1rem;
  border-radius:10px;
  border:1px solid var(--border);
  margin:1rem 0;
}
canvas{
  width:100%;
  max-width:700px;
  background:#fff;
  border-radius:10px;
}
figure{margin:1rem 0;text-align:center}
footer{
  border-top:1px solid var(--border);
  padding:2rem 1rem;
  text-align:center;
  color:var(--muted);
}
@media(max-width:1000px){
  main{grid-template-columns:1fr}
  nav{position:relative}
}
@media print{
  body{background:#fff;color:#000}
  nav{display:none}
  header{background:#fff;color:#000}
}
</style>
</head>
<body>

<header id="top">
<h1>Magneto-Optic Modulator: Using a Faraday Rotator as an Intensity Modulator</h1>
<p>Complete theoretical explanation and derivation</p>
</header>

<main>

<nav>
<h3>Contents</h3>
<a href="#summary">Quick Summary</a>
<a href="#primer">Part 0 — Concept Primer</a>
<a href="#analysis">Part 1 — Problem Analysis</a>
<a href="#strategy">Part 2 — Strategy</a>
<a href="#solution">Part 3 — Full Solution</a>
<a href="#deeper">Part 4 — Deeper Understanding</a>
<a href="#plotguide">Part 5 — Plot Guide</a>
<a href="#top">Back to top ↑</a>
</nav>

<article>

<section id="summary">
<h2>Quick Summary</h2>
<ul>
<li>The problem asks how a Faraday rotator can act as an optical intensity modulator.</li>
<li>Key idea: magnetic-field-induced polarization rotation (Faraday effect).</li>
<li>Rotation angle: θ = V B L (V = Verdet constant).</li>
<li>With crossed polarizers, transmitted intensity follows Malus’ law.</li>
<li>Intensity becomes I(B) = I₀ sin²(VBL).</li>
<li>Thus magnetic field controls optical intensity.</li>
<li>Result is symbolic; plot uses example values only.</li>
</ul>
</section>

<section id="primer">
<h2>PART 0 — Concept Primer (THEORY BEFORE SOLVING)</h2>

<div class="card">
<strong>Faraday Effect</strong><br>
When linearly polarized light travels through a magneto-optic medium subjected to a magnetic field parallel to propagation, its polarization rotates.
</div>

<h3>Core definitions (symbols + SI units)</h3>
<ul>
<li><strong>B</strong> — magnetic field (tesla, T)</li>
<li><strong>L</strong> — interaction length (m)</li>
<li><strong>V</strong> — Verdet constant (rad·T⁻¹·m⁻¹)</li>
<li><strong>θ</strong> — Faraday rotation angle (rad)</li>
<li><strong>I₀</strong> — incident intensity (W·m⁻²) or power proportionality constant</li>
</ul>

<h3>Physical meaning (intuition)</h3>
<p>
A linearly polarized wave can be decomposed into right- and left-circularly polarized components. In a magnetized medium these two components acquire different phase shifts. Their recombination yields a rotated linear polarization. The rotation direction is set by the magnetic field direction and is <em>non-reciprocal</em> (it does not reverse upon back-propagation the way ordinary optical activity does).
</p>

<div class="card highlight">
<strong>Key equation: Faraday rotation</strong><br>
θ = V B L
<button class="copy" onclick="copyText('theta = V * B * L')">Copy</button>
</div>

<h3>Key law: Malus’ law (projection into an analyzer)</h3>
<p>
A polarizer transmits the component of the electric field along its transmission axis. If the incoming polarization makes angle Δ with that axis, transmitted intensity is:
</p>
<div class="card highlight">
I = I_in cos²(Δ)
<button class="copy" onclick="copyText('I = I_in * cos^2(Delta)')">Copy</button>
</div>

<h3>Validity conditions (assumptions, regime, limitations)</h3>
<ul>
<li><strong>Linear regime:</strong> θ proportional to B (true when magneto-optic response is linear; saturations ignored).</li>
<li><strong>Uniform field and material:</strong> B and V approximately constant over the optical path.</li>
<li><strong>Negligible absorption/scattering:</strong> to isolate modulation mechanism; losses can be included as a multiplicative factor.</li>
<li><strong>Polarizers idealized:</strong> finite extinction ratio in real devices slightly reduces modulation contrast.</li>
</ul>

<h3>Common approximations and why they’re used</h3>
<ul>
<li><strong>Small-angle:</strong> for biasing around a working point, sin²θ can be linearized to get a nearly linear modulator.</li>
<li><strong>Jones calculus:</strong> matrix method for full polarization tracking; often overkill for this conceptual question.</li>
</ul>

<h3>Mini intuition examples (quick)</h3>
<ul>
<li>If polarizers are crossed (90° apart), no light passes when θ=0; any rotation “leaks” light through.</li>
<li>If polarizers are parallel, maximum light passes when θ=0; rotation reduces transmission.</li>
<li>To get a <em>linear</em> intensity response, bias the static rotation near 45° so small changes in θ change intensity approximately linearly.</li>
</ul>

<h3>What to watch for (pitfalls)</h3>
<ul>
<li><strong>Rotation alone doesn’t modulate intensity</strong>—you need an analyzer (polarizer) to convert polarization change into intensity change.</li>
<li><strong>cos² vs sin²:</strong> depends on whether analyzer is parallel or crossed relative to the input.</li>
<li><strong>Non-reciprocity:</strong> Faraday rotation adds in a double pass; this is useful in isolators and some modulator geometries.</li>
</ul>

<details>
  <summary><strong>Deeper note:</strong> why Faraday rotation is non-reciprocal</summary>
  <p>
  The magnetized medium breaks time-reversal symmetry for the polarization eigenmodes (circular polarizations), so the rotation has the same sign for forward and backward propagation relative to the lab frame when B is fixed. This differs from optical activity in chiral media, which reverses upon reversing propagation direction.
  </p>
</details>

</section>

<section id="analysis">
<h2>PART 1 — Problem Analysis (no solving yet)</h2>

<p><strong>Problem rewritten:</strong> Explain a practical optical setup that uses a Faraday rotator to modulate the transmitted optical intensity, and derive the intensity as a function of the applied magnetic field.</p>

<h3>Given quantities</h3>
<ul>
<li>A Faraday rotator material with Verdet constant <strong>V</strong> and length <strong>L</strong>.</li>
<li>An applied magnetic field <strong>B</strong> (typically generated by a coil; can be time-varying for modulation).</li>
<li>An input optical beam (assume linearly polarized for a clean modulator).</li>
</ul>

<h3>Unknowns / what must be found</h3>
<ul>
<li>How to arrange optical elements to convert Faraday rotation into intensity modulation.</li>
<li>Expression for transmitted intensity <strong>I(B)</strong> (or <strong>I(t)</strong> if B(t) is driven).</li>
</ul>

<h3>Relevant principles and why they apply</h3>
<ul>
<li><strong>Faraday rotation:</strong> sets polarization rotation controlled by B through θ=VBL.</li>
<li><strong>Polarization projection (Malus’ law):</strong> analyzer converts angle changes into transmitted intensity changes.</li>
</ul>

<h3>Explicit assumptions</h3>
<div class="card">
<ul>
<li>Input light is linearly polarized with intensity I₀.</li>
<li>Polarizers are ideal (infinite extinction) unless noted.</li>
<li>Losses in the rotator are neglected (can be included as factor e^{-αL} if needed).</li>
<li>Magnetic field is collinear with optical propagation (maximizes Faraday effect).</li>
</ul>
</div>

<h3>Possible approaches (compare)</h3>
<ul>
<li><strong>Approach A (Malus’ law):</strong> Use simple angle geometry. <em>Pros:</em> fastest, clearest for concept questions. <em>Cons:</em> less general for arbitrary polarization states.</li>
<li><strong>Approach B (Jones matrices):</strong> Multiply polarizer and rotator matrices. <em>Pros:</em> systematic and general. <em>Cons:</em> heavier than needed here.</li>
<li><strong>Approach C (Stokes/Mueller):</strong> For partially polarized light. <em>Pros:</em> includes depolarization. <em>Cons:</em> unnecessary unless specified.</li>
</ul>

<p><strong>Chosen method:</strong> Approach A (Malus’ law) because the problem is conceptual and the physics is most transparent as “rotation + analyzer = intensity control.”</p>

</section>

<section id="strategy">
<h2>PART 2 — Strategy & Tips (roadmap only)</h2>

<ol>
<li><strong>Define the optical train:</strong> input polarizer → Faraday rotator (B-driven) → analyzer polarizer. (Goal: create polarization-to-intensity conversion.)</li>
<li><strong>Write the rotation law:</strong> θ(B)=VBL. (Tool: Faraday effect.)</li>
<li><strong>Choose analyzer orientation:</strong> crossed for maximum contrast, or biased near 45° for linear response. (Meaning: sets transfer function.)</li>
<li><strong>Apply Malus’ law:</strong> I = I₀ cos²(Δ) where Δ is angle between rotated polarization and analyzer axis. (Meaning: gives intensity vs θ.)</li>
<li><strong>Substitute θ(B):</strong> obtain I(B). (Meaning: intensity modulated by B.)</li>
<li><strong>Optional small-signal linearization:</strong> expand around a bias θ₀ to show linear modulation for small AC fields. (Meaning: practical modulator operation.)</li>
</ol>

<div class="card highlight">
<strong>Common mistakes</strong>
<ul>
<li>Placing only a Faraday rotator without an analyzer (no intensity modulation in lossless case).</li>
<li>Not specifying analyzer orientation (parallel vs crossed changes cos² ↔ sin²).</li>
<li>Assuming the response is automatically linear in B (it’s sinusoidal unless biased and small-signal).</li>
</ul>
</div>

</section>

<section id="solution">
<h2>PART 3 — Full Solution (DETAILED + TEACHING)</h2>

<h3>Qualitative expectation (before equations)</h3>
<p>
A Faraday rotator rotates the plane of polarization by an amount proportional to magnetic field. If we place a second polarizer (analyzer) after it, the analyzer transmits only the component along its axis. Therefore the transmitted intensity will vary periodically with the rotation angle—and hence with the magnetic field. Driving the magnetic field in time makes the light intensity oscillate in time: an intensity modulator.
</p>

<h3>Step 1 — Define the optical arrangement</h3>
<p>
Use three elements in order:
</p>
<ul>
<li><strong>Input polarizer:</strong> prepares a known linear polarization (defines “0°” axis).</li>
<li><strong>Faraday rotator:</strong> under field B, rotates polarization by angle θ(B).</li>
<li><strong>Analyzer polarizer:</strong> converts polarization rotation into an intensity transmission factor.</li>
</ul>

<details>
  <summary><strong>Practical note:</strong> how B is driven</summary>
  <p>
  In practice, B is produced by a solenoid/coil surrounding the magneto-optic crystal. Applying an AC current produces B(t) and hence θ(t), so the optical intensity becomes time-modulated.
  </p>
</details>

<h3>Step 2 — Faraday rotation law (define symbols)</h3>
<p>
Let:
</p>
<ul>
<li>V = Verdet constant (rad·T⁻¹·m⁻¹)</li>
<li>B = magnetic flux density along propagation (T)</li>
<li>L = length of the magneto-optic medium (m)</li>
</ul>
<p>
Then the polarization rotation is:
</p>

<div class="card highlight">
<strong>Faraday rotation:</strong> θ(B) = V B L
<button class="copy" onclick="copyText('theta(B) = V * B * L')">Copy</button>
</div>

<h3>Step 3 — Convert rotation to intensity using Malus’ law</h3>
<p>
Let the analyzer transmission axis be at an angle φ relative to the input polarizer axis. After the rotator, the polarization is rotated by θ, so the angle between the polarization and analyzer axis is:
</p>
<div class="card">
Δ = (θ − φ)
</div>
<p>
Malus’ law gives the transmitted intensity:
</p>

<div class="card highlight">
I(B) = I₀ cos²(θ(B) − φ)
<button class="copy" onclick="copyText('I(B) = I0 * cos^2(theta(B) - phi)')">Copy</button>
</div>

<p>
Substitute θ(B)=VBL:
</p>

<div class="card highlight">
I(B) = I₀ cos²(V B L − φ)
<button class="copy" onclick="copyText('I(B) = I0 * cos^2(V*B*L - phi)')">Copy</button>
</div>

<h3>Step 4 — Special cases (how to get a useful modulator transfer function)</h3>

<div class="card">
<strong>Case A: Crossed polarizers</strong> (φ = 90° = π/2)<br>
Then cos²(x − π/2) = sin²(x), so:
<div class="card highlight" style="margin:.8rem 0;">
I(B) = I₀ sin²(V B L)
<button class="copy" onclick="copyText('I(B) = I0 * sin^2(V*B*L)  (crossed polarizers)')">Copy</button>
</div>
This yields high contrast: I=0 at B=0 and maximum when VBL = π/2 (plus multiples of π).
</div>

<div class="card">
<strong>Case B: Parallel polarizers</strong> (φ = 0)<br>
I(B) = I₀ cos²(VBL). Rotation reduces transmission from the maximum at B=0.
</div>

<div class="card">
<strong>Case C: Biased for linear modulation</strong><br>
To make small changes in B produce approximately linear changes in I, choose φ so the operating point is near quadrature (maximum slope). One common choice is to bias the static rotation so that (VBL − φ) ≈ π/4.
</div>

<h3>Small-signal linearization (why modulators are often biased)</h3>
<p>
Let B(t) = B₀ + b(t) where b(t) is a small AC field (|b| ≪ |B₀|). Define:
</p>
<div class="card">
θ(t) = V L (B₀ + b(t)) = θ₀ + δθ(t), with θ₀ = VLB₀ and δθ = VL b(t).
</div>
<p>
Around a bias point, the intensity is:
</p>
<div class="card highlight">
I(t) = I₀ cos²(θ₀ − φ + δθ(t))
</div>
<p>
For small δθ, expand to first order. Using d/dx[cos²x] = -sin(2x):
</p>
<div class="card highlight">
I(t) ≈ I₀ cos²(θ₀ − φ) − I₀ sin(2(θ₀ − φ)) · δθ(t)
<button class="copy" onclick="copyText('I(t) ≈ I0 cos^2(theta0-phi) - I0 sin(2(theta0-phi)) * delta_theta(t)  with delta_theta=V*L*b(t)')">Copy</button>
</div>
<p>
So the modulation is maximized when |sin(2(θ₀−φ))| is largest, i.e., when (θ₀−φ) ≈ π/4 (45°): the “quadrature” operating point.
</p>

<h3>Sanity checks</h3>
<ul>
<li><strong>Units:</strong> V (rad·T⁻¹·m⁻¹) × B (T) × L (m) → rad (dimensionless), valid for sin/cos arguments.</li>
<li><strong>Limiting cases:</strong> If B→0 and φ=π/2 (crossed), I→0 as expected. If B is set so VBL=π/2, transmission is maximal for crossed polarizers.</li>
<li><strong>Physical interpretation:</strong> The magnetic field rotates polarization; the analyzer turns that rotation into a tunable projection and therefore tunable intensity.</li>
</ul>

<div class="card highlight">
<strong>Final Answer (boxed)</strong><br>
A Faraday rotator becomes an intensity modulator when placed between an input polarizer and an analyzer. The magnetic field changes the rotation angle θ = VBL, and the analyzer converts this to intensity via Malus’ law:
<br><br>
<strong>I(B) = I₀ cos²(VBL − φ)</strong>
<br><br>
In particular, for crossed polarizers (φ = π/2):
<br>
<strong>I(B) = I₀ sin²(VBL)</strong>
<button class="copy" onclick="copyText('Final: Use polarizer → Faraday rotator → analyzer. θ=VBL, so I(B)=I0 cos^2(VBL-phi); for crossed polarizers I(B)=I0 sin^2(VBL).')">Copy</button>
</div>

</section>

<section id="deeper">
<h2>PART 4 — Deeper Understanding (THEORY AROUND THE RESULT)</h2>

<h3>Re-interpreting the formula</h3>
<ul>
<li><strong>I₀</strong> sets the maximum available optical power (before analyzer losses).</li>
<li><strong>V</strong> (material property) controls magneto-optic strength; larger V means more rotation per tesla per meter.</li>
<li><strong>L</strong> increases interaction: doubling L doubles θ and changes modulation depth/sensitivity.</li>
<li><strong>φ</strong> is the analyzer angle and sets the working point (bias) and transfer function shape.</li>
</ul>

<h3>Parameter dependence (qualitative)</h3>
<ul>
<li>Increase <strong>B</strong>: θ increases linearly; intensity varies sinusoidally because of cos²/sin².</li>
<li>Increase <strong>V</strong> or <strong>L</strong>: shifts the I(B) curve faster versus B (more sensitive).</li>
<li>Choose <strong>φ</strong>: sets whether output is near zero at B=0 (crossed) or near maximum (parallel), and whether small-signal response is linear (quadrature bias).</li>
</ul>

<h3>Alternative derivation idea (brief)</h3>
<p>
Using Jones matrices: represent the input polarizer, the rotation matrix R(θ), and the analyzer as matrices; multiply them and compute transmitted field amplitude. Squaring the amplitude yields the same cos² dependence, confirming the geometric Malus’ law derivation.
</p>

<h3>Concept check (self-test with answers)</h3>
<ul>
<li><strong>Q:</strong> If you remove the analyzer, does intensity change with B (ignoring absorption)?<br><strong>A:</strong> No—only polarization changes; total intensity stays the same.</li>
<li><strong>Q:</strong> Why is the response generally not linear in B?<br><strong>A:</strong> Because the analyzer transmission depends on cos²/sin² of the rotation angle, which is nonlinear.</li>
<li><strong>Q:</strong> How do you make it approximately linear?<br><strong>A:</strong> Bias near maximum slope (θ₀−φ≈45°) and apply a small AC field.</li>
<li><strong>Q:</strong> What sets the modulation depth for crossed polarizers?<br><strong>A:</strong> How far θ can swing; reaching θ≈π/2 gives near-maximum transmission.</li>
</ul>

</section>

<section id="plotguide">
<h2>PART 5 — Optional Plot Guide</h2>

<figure class="card">
<figcaption style="margin-bottom:.75rem;color:var(--muted)">
<strong>Static plot:</strong> Normalized transmitted intensity I/I₀ versus magnetic field B for crossed polarizers (example values).
</figcaption>
<canvas id="plot" aria-label="Plot of intensity vs magnetic field"></canvas>
</figure>

<div class="card">
<p>
<strong>Why a plot helps here:</strong> it makes the <em>sin²</em> transfer function visually obvious (periodic and nonlinear), and clarifies why modulators are often biased for linear operation around a steep slope.
</p>
<ul>
<li><strong>x-axis:</strong> Magnetic field B (T)</li>
<li><strong>y-axis:</strong> Normalized intensity I/I₀ (dimensionless)</li>
<li><strong>Example values (for the plot only):</strong> V = 50 rad·T⁻¹·m⁻¹, L = 0.01 m</li>
<li><strong>What to notice:</strong> I starts at 0 when B=0 (crossed polarizers), rises as B increases, and reaches a maximum when VBL≈π/2; the curve is not linear.</li>
</ul>
</div>

<p style="margin-top:1rem"><a href="#top" style="color:var(--accent);text-decoration:none">Back to top ↑</a></p>
</section>

<footer>
<p>End of article. Print-friendly layout enabled.</p>
</footer>

<script>
function copyText(text){
  if(!navigator.clipboard){
    // Fallback
    const ta = document.createElement('textarea');
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    try{ document.execCommand('copy'); }catch(e){}
    document.body.removeChild(ta);
    return;
  }
  navigator.clipboard.writeText(text);
}

function drawPlot(){
  const canvas = document.getElementById('plot');
  const dpr = window.devicePixelRatio || 1;

  const cssW = Math.min(canvas.parentElement.clientWidth - 2, 900);
  const cssH = 380;

  canvas.style.width = cssW + "px";
  canvas.style.height = cssH + "px";
  canvas.width = Math.floor(cssW * dpr);
  canvas.height = Math.floor(cssH * dpr);

  const ctx = canvas.getContext('2d');
  ctx.setTransform(dpr,0,0,dpr,0,0);

  // Background
  ctx.fillStyle = "#ffffff";
  ctx.fillRect(0,0,cssW,cssH);

  // Plot box
  const m = {l:62,r:18,t:36,b:56};
  const W = cssW - m.l - m.r;
  const H = cssH - m.t - m.b;

  // Title
  ctx.fillStyle="#000";
  ctx.font="600 15px system-ui, sans-serif";
  ctx.fillText("Crossed-polarizer transfer:  I/I₀ = sin²(VBL)  (example values)", m.l, 22);

  // Gridlines + ticks
  ctx.lineWidth = 1;

  // Axes ranges (example)
  const Bmin = 0;
  const Bmax = 0.12; // T
  const ymin = 0;
  const ymax = 1;

  function xOf(B){ return m.l + (B - Bmin) / (Bmax - Bmin) * W; }
  function yOf(y){ return m.t + (1 - (y - ymin)/(ymax - ymin)) * H; }

  // Grid
  ctx.strokeStyle="#e6e6e6";
  for(let i=0;i<=10;i++){
    const x = m.l + i*W/10;
    ctx.beginPath(); ctx.moveTo(x,m.t); ctx.lineTo(x,m.t+H); ctx.stroke();
  }
  for(let j=0;j<=10;j++){
    const y = m.t + j*H/10;
    ctx.beginPath(); ctx.moveTo(m.l,y); ctx.lineTo(m.l+W,y); ctx.stroke();
  }

  // Axes
  ctx.strokeStyle="#000";
  ctx.lineWidth=1.6;
  ctx.beginPath();
  ctx.moveTo(m.l,m.t);
  ctx.lineTo(m.l,m.t+H);
  ctx.lineTo(m.l+W,m.t+H);
  ctx.stroke();

  // Tick labels
  ctx.fillStyle="#000";
  ctx.font="12px system-ui, sans-serif";

  // x ticks
  for(let i=0;i<=6;i++){
    const B = Bmin + i*(Bmax-Bmin)/6;
    const x = xOf(B);
    ctx.beginPath();
    ctx.moveTo(x,m.t+H);
    ctx.lineTo(x,m.t+H+6);
    ctx.strokeStyle="#000";
    ctx.lineWidth=1;
    ctx.stroke();
    const txt = B.toFixed(2);
    ctx.fillText(txt, x-10, m.t+H+22);
  }
  // y ticks
  for(let j=0;j<=5;j++){
    const yv = ymin + j*(ymax-ymin)/5;
    const y = yOf(yv);
    ctx.beginPath();
    ctx.moveTo(m.l-6,y);
    ctx.lineTo(m.l,y);
    ctx.strokeStyle="#000";
    ctx.lineWidth=1;
    ctx.stroke();
    ctx.fillText(yv.toFixed(1), m.l-34, y+4);
  }

  // Axis labels
  ctx.font="13px system-ui, sans-serif";
  ctx.fillText("B (T)", m.l + W/2 - 14, m.t + H + 44);

  ctx.save();
  ctx.translate(18, m.t + H/2 + 40);
  ctx.rotate(-Math.PI/2);
  ctx.fillText("I / I₀", 0, 0);
  ctx.restore();

  // Example curve parameters
  const V = 50;     // rad/(T*m)  (example)
  const L = 0.01;   // m          (example)

  // Curve
  ctx.strokeStyle="#1d4ed8";
  ctx.lineWidth=2.2;
  ctx.beginPath();
  const N = 1000;
  for(let i=0;i<=N;i++){
    const B = Bmin + i*(Bmax-Bmin)/N;
    const y = Math.sin(V*B*L)**2; // I/I0
    const xpx = xOf(B);
    const ypx = yOf(y);
    if(i===0) ctx.moveTo(xpx, ypx);
    else ctx.lineTo(xpx, ypx);
  }
  ctx.stroke();

  // Legend
  const lx = m.l + W - 180, ly = m.t + 14;
  ctx.fillStyle="#000";
  ctx.font="12px system-ui, sans-serif";
  ctx.fillText("Example: V=50 rad·T⁻¹·m⁻¹, L=0.01 m", lx, ly);
  ctx.strokeStyle="#1d4ed8";
  ctx.lineWidth=3;
  ctx.beginPath();
  ctx.moveTo(lx, ly+10);
  ctx.lineTo(lx+26, ly+10);
  ctx.stroke();
  ctx.fillStyle="#000";
  ctx.fillText("I/I₀", lx+34, ly+14);
}

window.addEventListener('resize', drawPlot);
drawPlot();
</script>

</body>
</html>
