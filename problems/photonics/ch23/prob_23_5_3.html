<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Dependence of Soliton Characteristics on Group-Velocity Dispersion (GVD)</title>
  <style>
    :root{
      --bg:#0b0f14;
      --card:#0f1621;
      --card2:#0c121b;
      --text:#e9eef6;
      --muted:#b6c2d3;
      --faint:#7f91a8;
      --line:rgba(255,255,255,.10);
      --accent:#7dd3fc;
      --accent2:#a7f3d0;
      --warn:#fbbf24;
      --ok:#34d399;
      --bad:#fb7185;
      --shadow: 0 12px 32px rgba(0,0,0,.45);
      --radius:18px;
      --radius2:14px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(125,211,252,.18), transparent 55%),
        radial-gradient(900px 600px at 90% 0%, rgba(167,243,208,.14), transparent 60%),
        radial-gradient(900px 700px at 50% 110%, rgba(251,191,36,.10), transparent 60%),
        var(--bg);
      color:var(--text);
      font-family:var(--sans);
      line-height:1.55;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    header{
      position:relative;
      padding: clamp(22px, 3vw, 36px) 18px 18px;
      border-bottom:1px solid var(--line);
    }
    .wrap{
      max-width:1200px;
      margin:0 auto;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap:18px;
      padding:18px;
    }
    @media (max-width: 980px){
      .wrap{grid-template-columns: 1fr}
    }
    .hero{
      max-width:1200px;
      margin:0 auto;
      padding:0 18px 18px;
      display:grid;
      grid-template-columns: 1.3fr .7fr;
      gap:16px;
      align-items:stretch;
    }
    @media (max-width: 980px){
      .hero{grid-template-columns: 1fr}
    }
    .titleCard{
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px 18px 16px;
      overflow:hidden;
      position:relative;
    }
    .titleCard:before{
      content:"";
      position:absolute; inset:-2px -2px auto auto;
      width:180px; height:180px;
      background:radial-gradient(circle at 30% 30%, rgba(125,211,252,.20), transparent 55%);
      pointer-events:none;
    }
    h1{
      margin:0 0 10px;
      font-size: clamp(22px, 2.2vw, 34px);
      letter-spacing:.2px;
      line-height:1.12;
    }
    .subtitle{
      margin:0;
      color:var(--muted);
      font-size: clamp(14px, 1.1vw, 16px);
    }
    .metaGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:12px;
    }
    .pill{
      border:1px solid var(--line);
      border-radius:999px;
      padding:10px 12px;
      background:rgba(0,0,0,.20);
      color:var(--muted);
      font-size:13px;
      display:flex;
      gap:8px;
      align-items:center;
      min-height:40px;
    }
    .dot{
      width:9px; height:9px; border-radius:99px;
      background:var(--accent);
      box-shadow:0 0 0 3px rgba(125,211,252,.12);
      flex:0 0 auto;
    }
    .dot.g{background:var(--accent2); box-shadow:0 0 0 3px rgba(167,243,208,.12)}
    .dot.y{background:var(--warn); box-shadow:0 0 0 3px rgba(251,191,36,.12)}
    .dot.r{background:var(--bad); box-shadow:0 0 0 3px rgba(251,113,133,.12)}
    .quick{
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.015));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px 16px 14px;
    }
    .quick h2{
      margin:0 0 10px;
      font-size:16px;
      letter-spacing:.2px;
      color:var(--text);
      display:flex;
      align-items:center;
      gap:10px;
    }
    .quick ul{
      margin:0;
      padding-left:18px;
      color:var(--muted);
      font-size:14px;
    }
    .quick li{margin:6px 0}
    nav.toc{
      position:sticky;
      top:14px;
      align-self:start;
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.015));
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:14px;
      box-shadow:var(--shadow);
    }
    .toc h3{
      margin:0 0 10px;
      font-size:14px;
      letter-spacing:.3px;
      text-transform:uppercase;
      color:var(--muted);
    }
    .toc a{
      display:block;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid transparent;
      color:var(--text);
      font-size:14px;
    }
    .toc a:hover{
      background:rgba(125,211,252,.08);
      border-color:rgba(125,211,252,.20);
      text-decoration:none;
    }
    .toc .small{
      color:var(--faint);
      font-size:12px;
      padding:8px 10px 0;
    }
    main{min-width:0}
    section{
      background:linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.012));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
      margin-bottom:16px;
      position:relative;
      overflow:hidden;
    }
    section:after{
      content:"";
      position:absolute; inset:auto -40px -60px auto;
      width:260px; height:260px;
      background:radial-gradient(circle at 35% 35%, rgba(167,243,208,.10), transparent 62%);
      pointer-events:none;
    }
    h2{margin:0 0 10px; font-size:20px; letter-spacing:.2px}
    h3{margin:16px 0 8px; font-size:16px; color:var(--text)}
    p{margin:8px 0; color:var(--muted)}
    .grid2{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    @media (max-width: 980px){ .grid2{grid-template-columns: 1fr} }
    .callout{
      border:1px solid var(--line);
      border-radius:var(--radius2);
      background:rgba(0,0,0,.18);
      padding:12px;
    }
    .callout .label{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:12px;
      letter-spacing:.28px;
      text-transform:uppercase;
      color:var(--muted);
      margin-bottom:8px;
    }
    .badge{
      width:10px;height:10px;border-radius:99px;background:var(--accent);
      box-shadow:0 0 0 3px rgba(125,211,252,.12);
      flex:0 0 auto;
    }
    .badge.warn{background:var(--warn); box-shadow:0 0 0 3px rgba(251,191,36,.12)}
    .badge.ok{background:var(--ok); box-shadow:0 0 0 3px rgba(52,211,153,.12)}
    .badge.bad{background:var(--bad); box-shadow:0 0 0 3px rgba(251,113,133,.12)}
    .eq{
      font-family:var(--mono);
      color:#eaf2ff;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.12);
      border-radius:var(--radius2);
      padding:12px;
      overflow:auto;
      margin:10px 0;
      position:relative;
    }
    .eq .copyBtn, .final .copyBtn{
      position:absolute;
      top:10px; right:10px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.25);
      color:var(--text);
      padding:8px 10px;
      border-radius:12px;
      font-size:12px;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .eq .copyBtn:hover, .final .copyBtn:hover{
      transform: translateY(-1px);
      background:rgba(125,211,252,.10);
      border-color:rgba(125,211,252,.25);
    }
    .eq code{white-space:pre}
    details{
      border:1px solid var(--line);
      border-radius:var(--radius2);
      background:rgba(0,0,0,.16);
      padding:10px 12px;
      margin:10px 0;
    }
    summary{cursor:pointer; color:var(--text); font-weight:600}
    .table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      overflow:hidden;
      border-radius:var(--radius2);
      border:1px solid var(--line);
      background:rgba(0,0,0,.18);
      margin:10px 0;
    }
    .table th, .table td{
      padding:10px 10px;
      border-bottom:1px solid rgba(255,255,255,.08);
      color:var(--muted);
      font-size:14px;
      vertical-align:top;
    }
    .table th{
      text-align:left;
      color:var(--text);
      font-size:13px;
      letter-spacing:.25px;
      text-transform:uppercase;
      background:rgba(255,255,255,.04);
    }
    .table tr:last-child td{border-bottom:none}
    .final{
      border:1px solid rgba(125,211,252,.25);
      background:linear-gradient(180deg, rgba(125,211,252,.10), rgba(0,0,0,.18));
      border-radius:var(--radius);
      padding:14px 14px 12px;
      position:relative;
      overflow:hidden;
    }
    .final:before{
      content:"";
      position:absolute; inset:-70px -70px auto auto;
      width:220px; height:220px;
      background:radial-gradient(circle at 30% 30%, rgba(125,211,252,.22), transparent 60%);
      pointer-events:none;
    }
    .final h3{margin:0 0 8px}
    .final pre{
      margin:0;
      font-family:var(--mono);
      color:#eaf2ff;
      white-space:pre-wrap;
    }
    figure{
      margin:12px 0 0;
      padding:12px;
      border:1px solid var(--line);
      border-radius:var(--radius2);
      background:rgba(0,0,0,.16);
    }
    figcaption{margin-top:10px; color:var(--faint); font-size:13px}
    canvas{width:100%; height:auto; display:block; border-radius:12px}
    .backTop{display:flex; justify-content:flex-end; margin-top:10px}
    .backTop a{
      color:var(--muted);
      font-size:13px;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.16);
    }
    .backTop a:hover{
      color:var(--text);
      border-color:rgba(125,211,252,.25);
      background:rgba(125,211,252,.08);
      text-decoration:none;
    }
    footer{
      max-width:1200px;
      margin:0 auto;
      padding:18px;
      color:var(--faint);
      font-size:13px;
    }
    .printNote{display:none}
    @media print{
      :root{ --bg:#ffffff; --text:#111827; --muted:#1f2937; --faint:#374151; --line:rgba(0,0,0,.15); --shadow:none;}
      body{background:#fff}
      nav.toc{position:static; box-shadow:none}
      section, .titleCard, .quick{box-shadow:none}
      .eq, .final, details, figure, .callout{break-inside:avoid}
      .backTop{display:none}
      .printNote{display:block; margin-top:8px; color:#111827}
      .eq .copyBtn, .final .copyBtn{display:none}
      a{color:#111827; text-decoration:underline}
    }
  </style>
</head>

<body id="top">
  <header>
    <div class="hero">
      <div class="titleCard">
        <h1>23-5-3 — Dependence of Soliton Characteristics on Group-Velocity Dispersion (GVD)</h1>
        <p class="subtitle">
          Two <b>fundamental optical solitons</b> have <b>equal energy</b> but propagate in two fibers with different dispersion
          <span style="white-space:nowrap;">D<sub>&lambda;</sub></span> = 20 and 10 ps/(km·nm). The fibers are otherwise identical (same refractive index, same Kerr nonlinearity).
          We compare their widths, peak amplitudes, amplitude-areas, and soliton distances using the NLSE soliton relations.
        </p>
        <div class="metaGrid">
          <div class="pill"><span class="dot"></span><span><b>Physics core:</b> NLSE balance of dispersion & Kerr nonlinearity</span></div>
          <div class="pill"><span class="dot g"></span><span><b>Given:</b> equal energy, same n and n<sub>2</sub>, only GVD differs</span></div>
          <div class="pill"><span class="dot y"></span><span><b>Goal:</b> scaling laws and ratios between the two fibers</span></div>
          <div class="pill"><span class="dot r"></span><span><b>Industrial lens:</b> pulse shaping, system margin, power & reach</span></div>
        </div>
      </div>

      <aside class="quick" aria-label="Quick Summary">
        <h2>Quick Summary</h2>
        <ul>
          <li><b>What:</b> Compare two <b>fundamental solitons</b> of <b>equal energy</b> in fibers with different <b>GVD</b>.</li>
          <li><b>Key idea:</b> A fundamental soliton exists when <b>dispersion</b> and <b>Kerr nonlinearity</b> exactly balance.</li>
          <li><b>Governing model:</b> NLSE: i∂A/∂z − (β<sub>2</sub>/2)∂²A/∂t² + γ|A|²A = 0 (anomalous dispersion).</li>
          <li><b>Soliton condition (N=1):</b> P<sub>0</sub> = |β<sub>2</sub>|/(γT<sub>0</sub>²).</li>
          <li><b>Energy:</b> E = ∫|A|²dt = 2P<sub>0</sub>T<sub>0</sub> for A = √P<sub>0</sub> sech(t/T<sub>0</sub>).</li>
          <li><b>Equal-energy consequence:</b> T<sub>0</sub> ∝ |β<sub>2</sub>| and P<sub>0</sub> ∝ 1/|β<sub>2</sub>|.</li>
          <li><b>Relate D<sub>&lambda;</sub> to β<sub>2</sub>:</b> |β<sub>2</sub>| ∝ D<sub>&lambda;</sub> (at fixed wavelength).</li>
          <li><b>Result type:</b> Mostly <b>symbolic scaling</b> + clean <b>ratios</b> between the two fibers (numeric factors).</li>
        </ul>
      </aside>
    </div>
  </header>

  <div class="wrap">
    <nav class="toc" aria-label="Table of Contents">
      <h3>Contents</h3>
      <a href="#primer">PART 0 — Concept Primer</a>
      <a href="#industry">PART 0B — Industry & Applied Physics</a>
      <a href="#analysis">PART 1 — Problem Analysis</a>
      <a href="#strategy">PART 2 — Strategy & Tips</a>
      <a href="#solution">PART 3 — Full Solution</a>
      <a href="#deeper">PART 4 — Deeper Understanding</a>
      <a href="#plotguide">PART 5 — Optional Plot Guide</a>
      <div class="small">Use the “Back to top” link at each section end.</div>
    </nav>

    <main>
      <section id="primer">
        <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

        <div class="grid2">
          <div class="callout">
            <div class="label"><span class="badge"></span>Core definitions (symbols + SI units)</div>
            <p>
              <b>A(z,t)</b> — complex field envelope (units: √W if normalized to power).<br/>
              <b>z</b> — propagation distance (m).<br/>
              <b>t</b> — retarded time in a frame moving at group velocity (s).<br/>
              <b>β<sub>2</sub></b> — group-velocity dispersion (GVD) parameter (s²/m).<br/>
              <b>D<sub>&lambda;</sub></b> — dispersion coefficient in telecom units (ps/(km·nm)).<br/>
              <b>γ</b> — Kerr nonlinearity parameter (1/(W·m)).<br/>
              <b>P<sub>0</sub></b> — soliton peak power (W).<br/>
              <b>T<sub>0</sub></b> — soliton width parameter (s).<br/>
              <b>E</b> — pulse energy E = ∫|A|²dt (J).
            </p>
          </div>

          <div class="callout">
            <div class="label"><span class="badge ok"></span>Physical meaning (intuition)</div>
            <p>
              In a dispersive fiber, a short pulse spreads because different frequency components travel at different group velocities.
              The Kerr effect (intensity-dependent refractive index) creates self-phase modulation (SPM), which can reshape the spectrum and phase.
              A <b>soliton</b> is a pulse that maintains its shape because <b>dispersion-induced spreading</b> is exactly balanced by <b>Kerr-induced nonlinear phase</b>.
            </p>
            <p>
              Fundamental soliton (order N = 1) is the <b>minimum-energy</b> shape-preserving solution for given width in the ideal NLSE model.
            </p>
          </div>
        </div>

        <div class="callout" style="margin-top:12px;">
          <div class="label"><span class="badge warn"></span>Key laws / validity conditions</div>
          <p>
            The standard soliton relations come from the <b>scalar NLSE</b> under these assumptions:
          </p>
          <ul style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
            <li><b>Anomalous dispersion:</b> β<sub>2</sub> &lt; 0 (so |β<sub>2</sub>| is used in formulas).</li>
            <li><b>Slowly varying envelope:</b> pulse bandwidth is not too extreme; envelope varies slowly compared to optical period.</li>
            <li><b>Single-mode, single polarization</b> (or polarization effects negligible).</li>
            <li><b>Neglect</b> higher-order dispersion (β<sub>3</sub>…), Raman scattering, self-steepening, loss, gain, and noise—unless stated otherwise.</li>
          </ul>
        </div>

        <h3>The NLSE and the fundamental soliton</h3>
        <div class="eq" id="eq-nlse">
          <button class="copyBtn" data-copy-target="eq-nlse-code" aria-label="Copy NLSE equation">Copy</button>
          <code id="eq-nlse-code">NLSE (lossless, scalar):
i ∂A/∂z − (β2/2) ∂²A/∂t² + γ |A|² A = 0

Fundamental soliton (N=1) envelope:
A(z,t) = √P0 · sech(t/T0) · exp(i φ(z,t))
(phase φ details not needed for width/power/energy comparisons)</code>
        </div>

        <details>
          <summary>Mini intuition examples (quick conceptual)</summary>
          <p><b>Example 1 (more dispersion):</b> If |β<sub>2</sub>| increases while everything else stays the same, dispersion is stronger, so a soliton of the same energy typically must become wider (larger T<sub>0</sub>) to keep the balance.</p>
          <p><b>Example 2 (more nonlinearity):</b> If γ increases, nonlinearity is stronger, so for the same energy you can support a narrower soliton (smaller T<sub>0</sub>).</p>
          <p><b>Example 3 (equal energy constraint):</b> If energy is fixed, you cannot independently choose peak power and width; they must co-adjust to satisfy both energy and soliton balance.</p>
        </details>

        <div class="callout">
          <div class="label"><span class="badge bad"></span>What to watch for (pitfalls)</div>
          <ul style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
            <li><b>D<sub>&lambda;</sub> vs β<sub>2</sub>:</b> D<sub>&lambda;</sub> is a wavelength-domain measure; β<sub>2</sub> is time-domain. Don’t mix units.</li>
            <li><b>Sign conventions:</b> solitons need anomalous dispersion (β<sub>2</sub> &lt; 0), but many formulas use |β<sub>2</sub>|.</li>
            <li><b>Width definitions:</b> T<sub>0</sub> is not FWHM; for intensity sech² pulses, T<sub>FWHM</sub> ≈ 1.763 T<sub>0</sub>.</li>
            <li><b>“Area” ambiguity:</b> “Area under amplitude” means ∫|A| dt, not energy ∫|A|² dt. We compute both clearly.</li>
          </ul>
        </div>

        <div class="backTop"><a href="#top">Back to top ↑</a></div>
      </section>

      <section id="industry">
        <h2>PART 0B — Industry & Applied Physics Perspective</h2>

        <div class="grid2">
          <div class="callout">
            <div class="label"><span class="badge"></span>Where this appears in industry (concrete areas)</div>
            <ul style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
              <li><b>Long-haul fiber communications:</b> soliton-like pulses were historically explored to fight dispersion over long distances.</li>
              <li><b>Mode-locked fiber lasers:</b> soliton shaping in anomalous-dispersion cavities sets pulse width, peak power, and stability.</li>
              <li><b>Nonlinear signal processing:</b> pulse compression, supercontinuum seeding, and temporal lensing are sensitive to GVD/nonlinearity balance.</li>
              <li><b>Metrology & sensing:</b> stable short pulses (or controlled soliton dynamics) improve timing jitter and measurement repeatability.</li>
            </ul>
          </div>

          <div class="callout">
            <div class="label"><span class="badge ok"></span>Why engineers care (performance & constraints)</div>
            <p>
              The dispersion coefficient directly impacts required <b>peak power</b> and achievable <b>pulse width</b> at a given energy.
              That feeds into industrial metrics: <b>power budget</b>, <b>nonlinear impairments</b>, <b>amplifier headroom</b>, <b>thermal limits</b>,
              <b>damage thresholds</b>, and <b>system margin</b>.
            </p>
            <p>
              Lower required peak power can reduce component stress and cost, but increased width may reduce data rate (communications) or peak intensity (laser machining).
            </p>
          </div>
        </div>

        <div class="callout" style="margin-top:12px;">
          <div class="label"><span class="badge warn"></span>Measurement / validation methods in practice</div>
          <p>
            Engineers validate these relationships using:
            <b>chromatic dispersion measurement</b> (phase-shift, interferometric, or modulation techniques),
            <b>autocorrelators / FROG / SPIDER</b> for pulse width & shape,
            <b>optical spectrum analyzers</b> for SPM signatures,
            and <b>cutback methods</b> / nonlinear characterization to estimate γ (via effective area and n<sub>2</sub> or through nonlinear phase shift measurements).
          </p>
        </div>

        <div class="grid2" style="margin-top:12px;">
          <div class="callout">
            <div class="label"><span class="badge"></span>Design trade-offs (real constraints)</div>
            <ul style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
              <li><b>Loss & amplification:</b> ideal solitons assume no loss; real links need amplifiers that add noise.</li>
              <li><b>Higher-order dispersion:</b> short pulses may feel β<sub>3</sub>, distorting the soliton picture.</li>
              <li><b>Raman/self-steepening:</b> ultrashort pulses shift (soliton self-frequency shift) and skew.</li>
              <li><b>Tolerances:</b> fiber D varies with wavelength and manufacturing; design must handle drift.</li>
            </ul>
          </div>

          <div class="callout">
            <div class="label"><span class="badge ok"></span>From lab to product</div>
            <p>
              Product designs often use the NLSE relations as a <b>first-pass sizing tool</b> (to estimate peak power, width, and characteristic length),
              then add correction factors or full numerical models including loss, gain, noise, and higher-order effects.
              In industrial engineering terms: NLSE gives a <b>useful reduced-order model</b> that supports rapid trade studies before high-fidelity verification.
            </p>
          </div>
        </div>

        <div class="backTop"><a href="#top">Back to top ↑</a></div>
      </section>

      <section id="analysis">
        <h2>PART 1 — Problem Analysis (No Solving Yet)</h2>

        <h3>Problem restatement (in plain words)</h3>
        <p>
          We have two extended optical media (think fibers) that are identical in every way except their group-velocity dispersion coefficient
          <span style="white-space:nowrap;">D<sub>&lambda;</sub></span>.
          A <b>fundamental soliton</b> of <b>the same pulse energy</b> travels in each fiber.
          We must compare:
          (1) soliton widths,
          (2) peak amplitudes,
          (3) areas under the amplitude profiles,
          and (4) soliton distances (characteristic propagation lengths / soliton period).
        </p>

        <div class="grid2">
          <div class="callout">
            <div class="label"><span class="badge"></span>Given quantities</div>
            <ul style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
              <li>D<sub>&lambda;</sub>(A) = 20 ps/(km·nm)</li>
              <li>D<sub>&lambda;</sub>(B) = 10 ps/(km·nm)</li>
              <li>Same refractive index and same Kerr coefficient n<sub>2</sub> → same γ</li>
              <li>Equal soliton energy: E<sub>A</sub> = E<sub>B</sub></li>
              <li>Both are fundamental solitons (N = 1)</li>
            </ul>
          </div>

          <div class="callout">
            <div class="label"><span class="badge ok"></span>Unknowns to compare</div>
            <ul style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
              <li>Width parameter T<sub>0</sub> (and optionally T<sub>FWHM</sub>)</li>
              <li>Peak power P<sub>0</sub> and peak amplitude A<sub>0</sub> = √P<sub>0</sub></li>
              <li>Amplitude area S<sub>A</sub> = ∫|A| dt</li>
              <li>Dispersion length L<sub>D</sub> and soliton period z<sub>0</sub></li>
            </ul>
          </div>
        </div>

        <div class="backTop"><a href="#top">Back to top ↑</a></div>
      </section>

      <section id="strategy">
        <h2>PART 2 — Strategy & Tips (Roadmap Only)</h2>

        <div class="callout">
          <div class="label"><span class="badge ok"></span>Plan</div>
          <ol style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
            <li>Use |β<sub>2</sub>| ∝ D<sub>&lambda;</sub> at fixed λ to relate the two fibers.</li>
            <li>Write soliton relations: P<sub>0</sub>=|β<sub>2</sub>|/(γT<sub>0</sub>²) and E=2P<sub>0</sub>T<sub>0</sub>.</li>
            <li>Solve for T<sub>0</sub> and P<sub>0</sub> in terms of (E, γ, |β<sub>2</sub>|).</li>
            <li>Compute A<sub>0</sub>=√P<sub>0</sub> and amplitude-area S<sub>A</sub>=π√P<sub>0</sub>T<sub>0</sub>.</li>
            <li>Compute L<sub>D</sub>=T<sub>0</sub>²/|β<sub>2</sub>| and z<sub>0</sub>=(π/2)L<sub>D</sub>.</li>
            <li>Form ratios for D<sub>&lambda;</sub>=20 vs 10.</li>
          </ol>
        </div>

        <div class="callout" style="margin-top:12px;">
          <div class="label"><span class="badge bad"></span>Common mistakes</div>
          <ul style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
            <li>Mixing amplitude area ∫|A|dt with energy ∫|A|²dt.</li>
            <li>Using T<sub>FWHM</sub> as if it equals T<sub>0</sub>.</li>
            <li>Ignoring that solitons require β<sub>2</sub>&lt;0 (use |β<sub>2</sub>| in magnitudes).</li>
          </ul>
        </div>

        <div class="backTop"><a href="#top">Back to top ↑</a></div>
      </section>

      <section id="solution">
        <h2>PART 3 — Full Solution (Detailed + Teaching)</h2>

        <h3>Relating D<sub>&lambda;</sub> and β<sub>2</sub></h3>
        <div class="eq" id="eq-beta2">
          <button class="copyBtn" data-copy-target="eq-beta2-code" aria-label="Copy beta2 relation">Copy</button>
          <code id="eq-beta2-code">Magnitude conversion at wavelength λ:
|β2| = (λ^2 / (2π c)) · Dλ

For comparisons at the same λ:
|β2| ∝ Dλ</code>
        </div>

        <p>
          Therefore, with D<sub>&lambda;</sub>(A)=20 and D<sub>&lambda;</sub>(B)=10:
          |β<sub>2</sub>|<sub>A</sub>/|β<sub>2</sub>|<sub>B</sub> = 2.
        </p>

        <h3>Fundamental soliton relations</h3>
        <div class="eq" id="eq-solcond">
          <button class="copyBtn" data-copy-target="eq-solcond-code" aria-label="Copy soliton condition and energy">Copy</button>
          <code id="eq-solcond-code">For A(t)=√P0 sech(t/T0) (fundamental soliton, N=1):
P0 = |β2| / (γ T0^2)

Energy:
E = ∫|A|^2 dt = ∫ P0 sech^2(t/T0) dt = 2 P0 T0</code>
        </div>

        <h3>Solve with equal energy E (same in both fibers)</h3>
        <div class="eq" id="eq-derive">
          <button class="copyBtn" data-copy-target="eq-derive-code" aria-label="Copy derivation">Copy</button>
          <code id="eq-derive-code">E = 2 P0 T0
  = 2 [ |β2| / (γ T0^2) ] T0
  = 2 |β2| / (γ T0)

Thus:
T0 = 2 |β2| / (γ E)

Then:
P0 = |β2| / (γ T0^2) = (γ E^2) / (4 |β2|)</code>
        </div>

        <h3>Peak amplitude and amplitude-area</h3>
        <div class="eq" id="eq-area">
          <button class="copyBtn" data-copy-target="eq-area-code" aria-label="Copy amplitude area">Copy</button>
          <code id="eq-area-code">Peak amplitude:
A0 = √P0 = √(γ) E / (2 √|β2|)

Amplitude-area:
SA = ∫|A| dt = √P0 ∫ sech(t/T0) dt
   = √P0 · T0 · ∫ sech(u) du
   = √P0 · T0 · π
   = π √P0 T0

So SA ∝ √|β2| (for fixed E and γ).</code>
        </div>

        <h3>Soliton distance scales</h3>
        <div class="eq" id="eq-lengths">
          <button class="copyBtn" data-copy-target="eq-lengths-code" aria-label="Copy lengths">Copy</button>
          <code id="eq-lengths-code">Dispersion length:
LD = T0^2 / |β2| = 4 |β2| / (γ^2 E^2)

Soliton period (often used as a "soliton distance"):
z0 = (π/2) LD

Thus LD ∝ |β2| and z0 ∝ |β2| (for fixed E, γ).</code>
        </div>

        <div class="final" id="finalAnswer">
          <button class="copyBtn" data-copy-target="finalText" aria-label="Copy final answer">Copy</button>
          <h3>Final Answer (ratios for Dλ = 20 vs 10, equal-energy fundamental solitons)</h3>
          <pre id="finalText">Let fiber A have Dλ = 20 ps/(km·nm) and fiber B have Dλ = 10 ps/(km·nm).
At the same wavelength: |β2| ∝ Dλ ⇒ |β2|A / |β2|B = 2.

For N=1 soliton A(t)=√P0 sech(t/T0) with equal energy E and same γ:

Width parameter:
T0 = 2|β2|/(γE)  ⇒  T0A / T0B = 2
(Therefore TFWHM has the same ratio: TFWHM ≈ 1.763 T0.)

Peak power:
P0 = (γE^2)/(4|β2|)  ⇒  P0A / P0B = 1/2

Peak amplitude:
A0 = √P0  ⇒  A0A / A0B = 1/√2

Area under amplitude profile:
SA = ∫|A|dt = π √P0 T0  ⇒  SA,A / SA,B = √2

Characteristic soliton distance:
LD = T0^2/|β2| = 4|β2|/(γ^2 E^2)  ⇒  LD,A / LD,B = 2
z0 = (π/2) LD  ⇒  z0,A / z0,B = 2</pre>
        </div>

        <figure aria-label="Static plot showing normalized scaling">
          <canvas id="plot" width="900" height="520"></canvas>
          <figcaption>
            <b>Single static plot:</b> normalized scaling vs dispersion D<sub>&lambda;</sub> (reference D<sub>&lambda,ref</sub>=10 ps/(km·nm)).
            Shows T<sub>0</sub>/T<sub>0,ref</sub> ∝ D<sub>&lambda;</sub> and P<sub>0</sub>/P<sub>0,ref</sub> ∝ 1/D<sub>&lambda;</sub>.
          </figcaption>
        </figure>

        <div class="backTop"><a href="#top">Back to top ↑</a></div>
      </section>

      <section id="deeper">
        <h2>PART 4 — Deeper Understanding (Theory Around the Result)</h2>

        <div class="eq" id="eq-interpret">
          <button class="copyBtn" data-copy-target="eq-interpret-code" aria-label="Copy interpretation equations">Copy</button>
          <code id="eq-interpret-code">Equal-energy fundamental soliton (same γ):
T0 = 2|β2|/(γE)     → width grows linearly with dispersion magnitude
P0 = (γE^2)/(4|β2|)  → peak power falls inversely with dispersion magnitude
LD = 4|β2|/(γ^2 E^2) → characteristic soliton distance grows linearly with dispersion magnitude</code>
        </div>

        <details>
          <summary>Alternative derivation idea</summary>
          <p>
            Use balance of characteristic lengths: L<sub>D</sub>=T<sub>0</sub>²/|β<sub>2</sub>| and L<sub>NL</sub>=1/(γP<sub>0</sub>).
            For N=1 soliton, L<sub>D</sub>=L<sub>NL</sub>. Combine with E=2P<sub>0</sub>T<sub>0</sub> to reach the same results.
          </p>
        </details>

        <h3>Concept check (with answers)</h3>
        <ul style="margin:8px 0 0; padding-left:18px; color:var(--muted);">
          <li><b>Q:</b> If D<sub>&lambda;</sub> doubles at fixed energy, what happens to T<sub>0</sub>? <b>A:</b> It doubles.</li>
          <li><b>Q:</b> What happens to peak power? <b>A:</b> It halves.</li>
          <li><b>Q:</b> Why can’t both width and peak power increase if energy is fixed? <b>A:</b> Because E=2P<sub>0</sub>T<sub>0</sub> fixes their product.</li>
        </ul>

        <div class="backTop"><a href="#top">Back to top ↑</a></div>
      </section>

      <section id="plotguide">
        <h2>PART 5 — Optional Plot Guide</h2>

        <p>
          The plot is a compact visual summary of the two key dependencies under equal-energy, N=1 soliton constraints:
          T<sub>0</sub> scales linearly with D<sub>&lambda;</sub>, while P<sub>0</sub> scales inversely with D<sub>&lambda;</sub>.
          The point at D<sub>&lambda;</sub>=20 corresponds to (T<sub>0</sub>/T<sub>0,ref</sub>, P<sub>0</sub>/P<sub>0,ref</sub>)=(2, 0.5).
        </p>

        <div class="backTop"><a href="#top">Back to top ↑</a></div>
      </section>
    </main>
  </div>

  <footer>
    <p>
      Self-contained article (vanilla HTML/CSS/JS). Assumes ideal NLSE, anomalous dispersion, same γ and same wavelength for comparing D<sub>&lambda;</sub>.
    </p>
  </footer>

  <script>
    (function(){
      function copyText(text){
        if(navigator.clipboard && navigator.clipboard.writeText){
          return navigator.clipboard.writeText(text);
        }
        return new Promise(function(resolve, reject){
          try{
            var ta = document.createElement('textarea');
            ta.value = text;
            ta.setAttribute('readonly','');
            ta.style.position='fixed';
            ta.style.left='-9999px';
            ta.style.top='-9999px';
            document.body.appendChild(ta);
            ta.select();
            var ok = document.execCommand('copy');
            document.body.removeChild(ta);
            ok ? resolve() : reject();
          }catch(e){ reject(e); }
        });
      }

      document.addEventListener('click', function(e){
        var btn = e.target.closest('.copyBtn');
        if(!btn) return;
        var id = btn.getAttribute('data-copy-target');
        var el = document.getElementById(id);
        if(!el) return;
        var text = el.innerText.replace(/\u00A0/g,' ');
        var old = btn.textContent;
        copyText(text).then(function(){
          btn.textContent = 'Copied ✓';
          btn.style.borderColor = 'rgba(52,211,153,.35)';
          btn.style.background = 'rgba(52,211,153,.10)';
          setTimeout(function(){
            btn.textContent = old;
            btn.style.borderColor = 'rgba(255,255,255,.14)';
            btn.style.background = 'rgba(0,0,0,.25)';
          }, 900);
        }).catch(function(){
          btn.textContent = 'Copy failed';
          setTimeout(function(){ btn.textContent = old; }, 900);
        });
      });

      // Single static plot; crisp on HiDPI; responsive resize
      var canvas = document.getElementById('plot');
      if(!canvas) return;
      var ctx = canvas.getContext('2d');

      function roundRect(c,x,y,w,h,r){
        c.beginPath();
        c.moveTo(x+r,y);
        c.arcTo(x+w,y,x+w,y+h,r);
        c.arcTo(x+w,y+h,x,y+h,r);
        c.arcTo(x,y+h,x,y,r);
        c.arcTo(x,y,x+w,y,r);
        c.closePath();
      }

      function draw(){
        var dpr = Math.max(1, window.devicePixelRatio || 1);
        var cssW = canvas.clientWidth || 900;
        var cssH = Math.min(520, Math.max(360, Math.round(cssW*0.55)));

        canvas.style.height = cssH + 'px';
        canvas.width  = Math.round(cssW * dpr);
        canvas.height = Math.round(cssH * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);

        var W = cssW, H = cssH;
        ctx.clearRect(0,0,W,H);

        var padL = 64, padR = 18, padT = 46, padB = 54;
        var plotW = W - padL - padR;
        var plotH = H - padT - padB;

        function xScale(x){ return padL + (x - 5) / (25 - 5) * plotW; } // Dλ 5..25
        function yScale(y){ return padT + (1 - (y - 0) / (2.6 - 0)) * plotH; } // y 0..2.6

        // Panel bg
        ctx.fillStyle = 'rgba(0,0,0,.18)';
        roundRect(ctx, 10, 10, W-20, H-20, 14);
        ctx.fill();

        // Title
        ctx.fillStyle = 'rgba(233,238,246,.95)';
        ctx.font = '700 15px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.textAlign = 'left';
        ctx.textBaseline = 'top';
        ctx.fillText('Normalized scaling vs dispersion Dλ (reference Dλ,ref = 10 ps/(km·nm))', padL, 18);

        // Grid
        ctx.save();
        ctx.strokeStyle = 'rgba(255,255,255,.10)';
        ctx.lineWidth = 1;
        var xTicks = [5,10,15,20,25];
        var yTicks = [0,0.5,1,1.5,2,2.5];
        xTicks.forEach(function(x){
          var X = xScale(x);
          ctx.beginPath(); ctx.moveTo(X, padT); ctx.lineTo(X, padT + plotH); ctx.stroke();
        });
        yTicks.forEach(function(y){
          var Y = yScale(y);
          ctx.beginPath(); ctx.moveTo(padL, Y); ctx.lineTo(padL + plotW, Y); ctx.stroke();
        });

        // Axes
        ctx.strokeStyle = 'rgba(255,255,255,.22)';
        ctx.lineWidth = 1.2;
        ctx.beginPath();
        ctx.moveTo(padL, padT);
        ctx.lineTo(padL, padT + plotH);
        ctx.lineTo(padL + plotW, padT + plotH);
        ctx.stroke();
        ctx.restore();

        // Tick labels
        ctx.fillStyle = 'rgba(182,194,211,.95)';
        ctx.font = '12px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'top';
        xTicks.forEach(function(x){ ctx.fillText(String(x), xScale(x), padT + plotH + 8); });
        ctx.textAlign = 'right';
        ctx.textBaseline = 'middle';
        yTicks.forEach(function(y){ ctx.fillText(String(y), padL - 10, yScale(y)); });

        // Axis labels
        ctx.fillStyle = 'rgba(233,238,246,.92)';
        ctx.font = '600 12px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'bottom';
        ctx.fillText('Dλ  [ps/(km·nm)]', padL + plotW/2, H - 18);

        ctx.save();
        ctx.translate(18, padT + plotH/2);
        ctx.rotate(-Math.PI/2);
        ctx.textAlign = 'center';
        ctx.textBaseline = 'top';
        ctx.fillText('Normalized quantity (dimensionless)', 0, 0);
        ctx.restore();

        // Curves
        function drawCurve(fn, stroke){
          ctx.save();
          ctx.strokeStyle = stroke;
          ctx.lineWidth = 2;
          ctx.beginPath();
          var first = true;
          for(var D=5; D<=25.0001; D+=0.1){
            var y = fn(D);
            var X = xScale(D);
            var Y = yScale(y);
            if(first){ ctx.moveTo(X,Y); first=false; } else { ctx.lineTo(X,Y); }
          }
          ctx.stroke();
          ctx.restore();
        }
        drawCurve(function(D){ return D/10; }, 'rgba(125,211,252,.92)'); // T0
        drawCurve(function(D){ return 10/D; }, 'rgba(167,243,208,.90)'); // P0

        // Highlight points
        function point(D, y, color){
          var X = xScale(D), Y = yScale(y);
          ctx.save();
          ctx.fillStyle = 'rgba(255,255,255,.9)';
          ctx.beginPath(); ctx.arc(X,Y,4.2,0,Math.PI*2); ctx.fill();
          ctx.strokeStyle = color;
          ctx.lineWidth = 2;
          ctx.beginPath(); ctx.arc(X,Y,7.2,0,Math.PI*2); ctx.stroke();
          ctx.restore();
        }
        point(20, 2, 'rgba(125,211,252,.92)');
        point(20, 0.5, 'rgba(167,243,208,.90)');

        // Legend
        function legendItem(x,y,color,label){
          ctx.save();
          ctx.strokeStyle = color;
          ctx.lineWidth = 3;
          ctx.beginPath(); ctx.moveTo(x, y+7); ctx.lineTo(x+28, y+7); ctx.stroke();
          ctx.fillStyle = 'rgba(233,238,246,.90)';
          ctx.font = '12px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
          ctx.textAlign = 'left';
          ctx.textBaseline = 'top';
          ctx.fillText(label, x+36, y);
          ctx.restore();
        }
        legendItem(padL + 10, padT + 10, 'rgba(125,211,252,.92)', 'T0 / T0,ref = Dλ / 10');
        legendItem(padL + 10, padT + 32, 'rgba(167,243,208,.90)', 'P0 / P0,ref = 10 / Dλ');
      }

      var raf=null;
      function schedule(){ if(raf) cancelAnimationFrame(raf); raf=requestAnimationFrame(draw); }
      window.addEventListener('resize', schedule, {passive:true});
      schedule();
    })();
  </script>
</body>
</html>
