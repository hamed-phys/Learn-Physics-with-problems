<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>The Donut Beam from Incoherent HG01 + HG10</title>
  <style>
    :root{
      --bg:#0b0f14;
      --panel:#111826;
      --panel2:#0f1520;
      --text:#e7eef8;
      --muted:#a9b7cc;
      --faint:#6f819b;
      --accent:#6ee7ff;
      --accent2:#a78bfa;
      --ok:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --border:rgba(255,255,255,.10);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--sans);
      background: radial-gradient(1200px 800px at 20% 0%, rgba(110,231,255,.10), transparent 60%),
                  radial-gradient(900px 700px at 95% 10%, rgba(167,139,250,.10), transparent 55%),
                  linear-gradient(180deg, #070a10 0%, #0b0f14 60%, #070a10 100%);
      color:var(--text);
      line-height:1.55;
    }

    header{
      padding:28px 18px 18px;
      max-width:1200px;
      margin:0 auto;
    }
    .hero{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid var(--border);
      border-radius: calc(var(--radius) + 6px);
      box-shadow: var(--shadow);
      padding:22px 20px;
      position:relative;
      overflow:hidden;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(600px 250px at 10% 0%, rgba(110,231,255,.18), transparent 55%),
                  radial-gradient(600px 250px at 90% 0%, rgba(167,139,250,.18), transparent 55%);
      filter: blur(10px);
      opacity:.75;
      pointer-events:none;
    }
    .hero > *{ position:relative; }
    h1{
      margin:0 0 10px;
      font-weight:750;
      letter-spacing:.2px;
      font-size: clamp(1.35rem, 2.4vw, 2.15rem);
    }
    .subtitle{
      color:var(--muted);
      max-width: 72ch;
      margin:0 0 14px;
      font-size: 1.02rem;
    }
    .quick{
      display:grid;
      gap:10px;
      grid-template-columns: 1.2fr .8fr;
      align-items:stretch;
    }
    @media (max-width: 900px){
      .quick{ grid-template-columns:1fr; }
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding:14px 14px;
      box-shadow: 0 8px 22px rgba(0,0,0,.25);
    }
    .card h3{
      margin:0 0 8px;
      font-size: 1.0rem;
      letter-spacing:.2px;
    }
    ul{
      margin: 8px 0 0 18px;
      color:var(--muted);
    }
    li{ margin: 6px 0; }

    main{
      max-width:1200px;
      margin:0 auto;
      padding: 0 18px 34px;
      display:grid;
      grid-template-columns: 280px 1fr;
      gap:18px;
      align-items:start;
    }
    @media (max-width: 980px){
      main{ grid-template-columns: 1fr; }
    }

    nav.toc{
      position: sticky;
      top: 12px;
      align-self:start;
      background: linear-gradient(180deg, rgba(17,24,38,.85), rgba(15,21,32,.75));
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding: 12px 12px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    @media (max-width: 980px){
      nav.toc{ position:relative; top:auto; }
    }

    .toc .toc-title{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      margin-bottom:6px;
    }
    .toc .toc-title strong{
      font-size:.95rem;
      letter-spacing:.2px;
    }
    .pill{
      font-size:.72rem;
      padding:3px 8px;
      border-radius: 999px;
      border:1px solid var(--border);
      color:var(--muted);
      background: rgba(255,255,255,.03);
    }

    .toc a{
      display:block;
      padding: 9px 10px;
      border-radius: 12px;
      color: var(--muted);
      text-decoration:none;
      border:1px solid transparent;
      transition: transform .14s ease, background .14s ease, border-color .14s ease;
      font-size: .92rem;
    }
    .toc a:hover{
      background: rgba(110,231,255,.08);
      border-color: rgba(110,231,255,.22);
      transform: translateY(-1px);
      color: var(--text);
    }

    article{
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid var(--border);
      border-radius: calc(var(--radius) + 6px);
      box-shadow: var(--shadow);
      padding: 18px 18px 20px;
    }

    section{
      margin-top: 18px;
      padding-top: 8px;
      border-top: 1px dashed rgba(255,255,255,.10);
    }
    section:first-of-type{
      margin-top: 0;
      padding-top: 0;
      border-top: none;
    }

    h2{
      margin: 2px 0 10px;
      font-size: 1.25rem;
      letter-spacing:.2px;
    }
    .muted{ color: var(--muted); }
    .note{
      margin-top: 10px;
      border-left: 3px solid rgba(110,231,255,.55);
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(110,231,255,.06);
      color: var(--muted);
    }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
      margin-top: 10px;
    }
    @media (max-width: 900px){ .grid2{ grid-template-columns: 1fr; } }

    .eqbox{
      background: rgba(0,0,0,.22);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px 12px;
      position:relative;
      overflow:hidden;
    }
    .eq{
      margin:0;
      font-family: var(--mono);
      font-size: .95rem;
      color: #dbeafe;
      white-space: pre-wrap;
      word-break: break-word;
      line-height:1.45;
    }
    .copybtn{
      position:absolute;
      top:10px;
      right:10px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      color: var(--text);
      padding: 7px 10px;
      border-radius: 12px;
      cursor:pointer;
      font-size: .82rem;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }
    .copybtn:hover{ transform: translateY(-1px); background: rgba(110,231,255,.08); border-color: rgba(110,231,255,.25); }
    .copybtn:active{ transform: translateY(0px); }

    .result{
      border:1px solid rgba(52,211,153,.35);
      background: rgba(52,211,153,.08);
      border-radius: 16px;
      padding: 14px 14px;
      margin-top: 12px;
    }
    .result h3{
      margin:0 0 8px;
      font-size: 1.02rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .badge{
      font-size:.75rem;
      padding:4px 10px;
      border-radius: 999px;
      border:1px solid rgba(52,211,153,.35);
      color: #bbf7d0;
      background: rgba(0,0,0,.18);
      white-space:nowrap;
    }

    .controls{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top: 12px;
    }
    @media (max-width: 900px){ .controls{ grid-template-columns: 1fr; } }

    .control{
      background: rgba(0,0,0,.18);
      border:1px solid var(--border);
      border-radius: 14px;
      padding: 12px 12px;
    }
    .control label{
      display:flex;
      justify-content:space-between;
      gap:10px;
      color: var(--muted);
      font-size: .9rem;
      margin-bottom: 8px;
    }
    input[type="range"]{
      width:100%;
      accent-color: var(--accent);
    }
    .tiny{
      color: var(--faint);
      font-size:.85rem;
      margin-top:6px;
    }

    figure{
      margin: 0;
    }
    .canwrap{
      background: rgba(0,0,0,.20);
      border:1px solid var(--border);
      border-radius: 16px;
      padding: 12px 12px 10px;
      margin-top: 10px;
    }
    .canwrap header{
      padding:0;
      margin:0 0 10px;
      max-width:none;
    }
    .canhead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
    }
    .canhead strong{
      font-size: .98rem;
      letter-spacing:.2px;
    }
    .canhead .muted{
      font-size: .88rem;
      max-width: 70ch;
    }
    canvas{
      width:100%;
      height: 330px;
      display:block;
      border-radius: 14px;
      background: rgba(7,10,16,.55);
    }
    @media (max-width: 900px){
      canvas{ height: 300px; }
    }
    .footer{
      max-width:1200px;
      margin: 18px auto 0;
      padding: 0 18px 26px;
      color: var(--faint);
      font-size: .9rem;
    }

    @media print{
      body{ background:#fff; color:#000; }
      header, main, article, .card, .eqbox, .control, .canwrap, nav.toc { box-shadow:none !important; }
      nav.toc, .copybtn { display:none !important; }
      article, .card, .eqbox, .control, .canwrap, .hero { border:1px solid #bbb !important; background:#fff !important; }
      canvas{ border:1px solid #bbb; background:#fff !important; }
      .muted, .tiny, .footer{ color:#333 !important; }
    }
  </style>
</head>

<body>
<header>
  <div class="hero">
    <h1>3-3-3 The Donut Beam: Incoherent Superposition of HG<sub>01</sub> and HG<sub>10</sub></h1>
    <p class="subtitle">
      Two first-order Hermite–Gaussian modes with equal power but random, independent phases add <em>in intensity</em>.
      The result is a rotationally symmetric “donut” (toroidal) intensity profile.
    </p>

    <div class="quick">
      <div class="card">
        <h3>Quick Summary</h3>
        <ul>
          <li>HG<sub>10</sub> intensity ∝ <span style="font-family:var(--mono)">x² e^{-2r²/w₀²}</span>, HG<sub>01</sub> intensity ∝ <span style="font-family:var(--mono)">y² e^{-2r²/w₀²}</span>.</li>
          <li>Incoherent sum gives <strong>circular symmetry</strong>:
            <span style="font-family:var(--mono)">I(r) ∝ (x²+y²)e^{-2r²/w₀²} = r² e^{-2r²/w₀²}</span>.</li>
          <li>Peak intensity occurs on a ring at <strong>r<sub>peak</sub> = w₀/√2</strong>.</li>
          <li>At the waist, the radii where <span style="font-family:var(--mono)">I = I_peak/e²</span> satisfy <span style="font-family:var(--mono)">ln t − t = −3</span> with <span style="font-family:var(--mono)">t = 2r²/w₀²</span>.</li>
          <li>For <strong>w₀ = 1 mm</strong>: <strong>r<sub>peak</sub> ≈ 0.707 mm</strong>, and <strong>r ≈ 0.162 mm</strong> (inner) and <strong>r ≈ 1.501 mm</strong> (outer) for <span style="font-family:var(--mono)">1/e²</span> of the peak.</li>
        </ul>
      </div>

      <div class="card">
        <h3>Interactive Explorer</h3>
        <p class="muted" style="margin:0 0 10px;">
          Use the sliders to change the beam waist <span style="font-family:var(--mono)">w₀</span> (mm) and the relative modal power ratio
          <span style="font-family:var(--mono)">α = P₁₀ / P₀₁</span>. When α = 1 the donut becomes perfectly circular.
        </p>
        <div class="controls">
          <div class="control">
            <label>
              <span>Beam waist at the waist plane, <span style="font-family:var(--mono)">w₀</span> (mm)</span>
              <span class="pill" id="w0Read">1.00</span>
            </label>
            <input id="w0" type="range" min="0.4" max="2.5" value="1.0" step="0.01"/>
            <div class="tiny">This changes the ring size proportionally: <span style="font-family:var(--mono)">r_peak = w₀/√2</span>.</div>
          </div>
          <div class="control">
            <label>
              <span>Power ratio, <span style="font-family:var(--mono)">α = P₁₀/P₀₁</span></span>
              <span class="pill" id="aRead">1.00</span>
            </label>
            <input id="alpha" type="range" min="0.2" max="5" value="1.0" step="0.01"/>
            <div class="tiny">α ≠ 1 breaks circular symmetry (elliptical intensity); α = 1 recovers the donut.</div>
          </div>
        </div>
      </div>
    </div>

  </div>
</header>

<main>
  <nav class="toc" aria-label="Table of contents">
    <div class="toc-title">
      <strong>Table of Contents</strong>
      <span class="pill">Sticky</span>
    </div>
    <a href="#part1">PART 1 — Problem Analysis</a>
    <a href="#part2">PART 2 — Strategy & Tips</a>
    <a href="#part3">PART 3 — Full Solution</a>
    <a href="#viz">Interactive Visualizations</a>
    <a href="#checks">Sanity Checks</a>
  </nav>

  <article>
    <section id="part1">
      <h2>PART 1 — Problem Analysis (no solving yet)</h2>

      <h3 style="margin:10px 0 6px;">Restatement in my own words</h3>
      <p class="muted">
        We combine two first-order Hermite–Gaussian beams at the waist plane: HG<sub>01</sub> and HG<sub>10</sub>.
        They have equal intensities (equal power) but their phases are independent and random, so there is no stable interference.
        We must (i) show that the total intensity becomes a donut-shaped, rotationally symmetric function of radius,
        and (ii) for a waist radius <span style="font-family:var(--mono)">w₀ = 1 mm</span>, find the radius of maximum intensity and the two radii
        where the intensity is <span style="font-family:var(--mono)">1/e²</span> times that peak value.
      </p>

      <div class="grid2">
        <div class="card">
          <h3>Given</h3>
          <ul>
            <li>Two HG modes at the same waist plane: HG<sub>01</sub> and HG<sub>10</sub>.</li>
            <li>Equal power (equal modal intensities) in the two beams.</li>
            <li>Independent random phases → intensities add (no interference term in the time average).</li>
            <li>Beam waist radius at that plane: <span style="font-family:var(--mono)">w₀ = 1 mm</span> (for the numerical part).</li>
          </ul>
        </div>
        <div class="card">
          <h3>Unknowns / Targets</h3>
          <ul>
            <li>Show <strong>circular symmetry</strong> of the summed intensity.</li>
            <li>Show the intensity has a <strong>donut (ring)</strong> maximum away from the axis.</li>
            <li>Find <span style="font-family:var(--mono)">r_peak</span> and the two solutions <span style="font-family:var(--mono)">r</span> where
              <span style="font-family:var(--mono)">I(r) = I_peak/e²</span> at the waist.</li>
          </ul>
        </div>
      </div>

      <h3 style="margin:14px 0 6px;">Relevant principles (and why)</h3>
      <ul>
        <li><strong>Hermite–Gaussian mode structure:</strong> HG<sub>mn</sub> fields at the waist are polynomials (Hermite) times a Gaussian envelope, so we can write explicit dependence on x and y.</li>
        <li><strong>Incoherent superposition:</strong> random relative phase makes the time-averaged cross term vanish, so total intensity is the sum of individual intensities: <span style="font-family:var(--mono)">I_total = I_10 + I_01</span>.</li>
        <li><strong>Radial symmetry test:</strong> if the sum depends only on <span style="font-family:var(--mono)">r = √(x²+y²)</span>, the beam is circularly symmetric. HG<sub>10</sub> and HG<sub>01</sub> are orthogonal but “complementary” in x and y, so their equal-weight sum is a prime candidate for symmetry.</li>
        <li><strong>Optimization and level sets:</strong> ring radius and <span style="font-family:var(--mono)">1/e²</span> radii come from maximizing a radial function and solving an equation for its level sets.</li>
      </ul>

      <h3 style="margin:14px 0 6px;">Possible approaches (compare)</h3>
      <ol class="muted">
        <li><strong>Direct HG formulas at the waist (best):</strong> write HG<sub>10</sub> and HG<sub>01</sub> fields explicitly, square to get intensities, add them, and simplify to a function of r only. Then do calculus for maxima and level sets.</li>
        <li><strong>Use symmetry arguments + dimensional reasoning:</strong> argue the only circularly symmetric combination of x- and y- odd first-order modes with equal weights must yield <span style="font-family:var(--mono)">r²</span> times a Gaussian. Still needs at least one explicit calculation to confirm constants and compute radii.</li>
        <li><strong>Laguerre–Gaussian reinterpretation:</strong> note that a coherent superposition with ±i phase gives LG<sub>0,±1</sub> (a donut). But here we are incoherent, so we should not rely on field interference; we must show intensity symmetry directly.</li>
      </ol>

      <div class="note">
        <strong>Chosen approach:</strong> Use the explicit HG waist-plane expressions and add intensities. This is the most transparent and directly matches the “no interference” condition.
      </div>
    </section>

    <section id="part2">
      <h2>PART 2 — Strategy & Tips (roadmap only)</h2>

      <ol class="muted">
        <li><strong>Write HG fields at the waist:</strong> Use the standard HG<sub>mn</sub> form with Hermite polynomials and Gaussian envelope.</li>
        <li><strong>Specialize to (m,n)=(1,0) and (0,1):</strong> Use <span style="font-family:var(--mono)">H₁(u)=2u</span> and <span style="font-family:var(--mono)">H₀(u)=1</span> to get the x and y dependence.</li>
        <li><strong>Compute intensities:</strong> Square the magnitudes (ignore global phase factors).</li>
        <li><strong>Apply incoherence:</strong> Set <span style="font-family:var(--mono)">I_total = I_10 + I_01</span> (no cross term).</li>
        <li><strong>Show circular symmetry:</strong> Simplify the sum into a function of <span style="font-family:var(--mono)">r²=x²+y²</span>.</li>
        <li><strong>Find the peak ring:</strong> Maximize <span style="font-family:var(--mono)">f(r)=r² e^{-2r²/w₀²}</span>.</li>
        <li><strong>Find 1/e² radii:</strong> Solve <span style="font-family:var(--mono)">f(r) = f(r_peak)/e²</span>. Express in Lambert W (symbolic) and compute numbers for <span style="font-family:var(--mono)">w₀=1 mm</span>.</li>
      </ol>

      <h3 style="margin:12px 0 6px;">Common mistakes & quick tips</h3>
      <ul class="muted">
        <li><strong>Mixing coherent vs incoherent:</strong> If phases are random, you add intensities, not fields. No interference fringes survive time averaging.</li>
        <li><strong>Forgetting the Gaussian is squared:</strong> Field has <span style="font-family:var(--mono)">e^{-r²/w₀²}</span>; intensity has <span style="font-family:var(--mono)">e^{-2r²/w₀²}</span>.</li>
        <li><strong>Misinterpreting “1/e² times the peak”:</strong> It refers to <em>peak intensity of this donut</em>, not the fundamental Gaussian’s on-axis value.</li>
        <li><strong>Ring has two 1/e² radii:</strong> Because the donut rises from 0 at r=0, peaks, then decays—so a given sub-peak level occurs on both sides of the maximum (inner & outer circles).</li>
      </ul>
    </section>

    <section id="part3">
      <h2>PART 3 — Full Solution</h2>

      <h3 style="margin:10px 0 6px;">Physical intuition</h3>
      <p class="muted">
        HG<sub>10</sub> has a node line along <span style="font-family:var(--mono)">x=0</span> and two lobes left/right, while HG<sub>01</sub> has a node line along <span style="font-family:var(--mono)">y=0</span> and two lobes up/down.
        If we add them <em>incoherently</em> with equal weight, we “fill in” the missing directions: wherever HG<sub>10</sub> is dark, HG<sub>01</sub> is generally bright, and vice versa.
        The total intensity is zero only at the center (both modes vanish at r=0), grows with distance (because first-order modes scale like x or y),
        and eventually decays due to the Gaussian envelope—so it must peak on a ring: a donut beam.
      </p>

      <h3 style="margin:14px 0 6px;">Step 1: Write the waist-plane HG fields</h3>
      <p class="muted">
        At the beam waist (<span style="font-family:var(--mono)">z=0</span>), ignoring an overall constant and global phase, a Hermite–Gaussian mode can be written as
      </p>

      <div class="eqbox" id="eq1box">
        <button class="copybtn" data-copy-target="eq1">Copy</button>
        <pre class="eq" id="eq1">HG_mn(x,y) ∝ H_m(√2 x / w0) · H_n(√2 y / w0) · exp(−(x²+y²)/w0²)</pre>
      </div>

      <p class="muted">
        Here <span style="font-family:var(--mono)">w₀</span> is the waist radius, and <span style="font-family:var(--mono)">H_m</span> are Hermite polynomials.
        We only need the first two:
        <span style="font-family:var(--mono)">H₀(u)=1</span>, <span style="font-family:var(--mono)">H₁(u)=2u</span>.
      </p>

      <h3 style="margin:14px 0 6px;">Step 2: Specialize to HG<sub>10</sub> and HG<sub>01</sub></h3>
      <p class="muted">
        For HG<sub>10</sub> (m=1,n=0):
      </p>
      <div class="eqbox">
        <button class="copybtn" data-copy-target="eq2">Copy</button>
        <pre class="eq" id="eq2">E_10(x,y) ∝ H_1(√2 x / w0) · H_0(√2 y / w0
