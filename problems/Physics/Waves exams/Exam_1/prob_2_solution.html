<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Underdamped base-excited vibration isolation table: equation of motion, steady-state amplitude, and limiting behavior." />
  <title>Vibration-Free Table (Base Excitation) — Full Solution</title>

  <!-- KaTeX (math rendering) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"></script>

  <style>
    :root{
      --bg0:#070A12;
      --bg1:#0B1020;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.12);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --faint: rgba(255,255,255,.55);
      --accent:#74D7FF;
      --accent2:#A78BFA;
      --good:#34D399;
      --warn:#FBBF24;
      --bad:#FB7185;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --radius: 18px;
      --radius2: 26px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color:var(--text);
      background:
        radial-gradient(1100px 600px at 14% 6%, rgba(116,215,255,.22), transparent 55%),
        radial-gradient(900px 600px at 86% 12%, rgba(167,139,250,.20), transparent 60%),
        radial-gradient(900px 520px at 50% 96%, rgba(52,211,153,.12), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 55%, #060812);
      line-height:1.6;
      overflow-x:hidden;
    }
    a{color:var(--accent)}
    .wrap{
      max-width: 1120px;
      margin: 0 auto;
      padding: 40px 18px 80px;
    }
    header.hero{
      position:relative;
      border:1px solid var(--stroke);
      border-radius: var(--radius2);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      box-shadow: var(--shadow);
      padding: 28px 24px;
      overflow:hidden;
    }
    header.hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(600px 240px at 20% 10%, rgba(116,215,255,.25), transparent 55%),
        radial-gradient(480px 240px at 90% 30%, rgba(167,139,250,.22), transparent 55%),
        radial-gradient(520px 260px at 70% 105%, rgba(52,211,153,.14), transparent 60%);
      filter: blur(12px);
      opacity:.9;
      pointer-events:none;
    }
    header.hero > *{position:relative; z-index:1}
    .kicker{
      display:flex; gap:10px; flex-wrap:wrap;
      font-size: 13px;
      color: var(--muted);
      letter-spacing:.2px;
      align-items:center;
    }
    .pill{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      padding: 6px 10px;
      border-radius: 999px;
      backdrop-filter: blur(8px);
    }
    h1{
      margin: 12px 0 10px;
      font-size: clamp(26px, 3.2vw, 40px);
      line-height:1.15;
      letter-spacing: -.6px;
    }
    .subtitle{
      margin: 0;
      color: var(--muted);
      max-width: 80ch;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 18px;
      margin-top: 18px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns: 1fr; }
    }

    .card{
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      background: rgba(255,255,255,.05);
      box-shadow: 0 12px 44px rgba(0,0,0,.38);
      overflow:hidden;
    }
    .card .head{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 14px;
      padding: 16px 16px 12px;
      border-bottom:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    }
    .card .head h2{
      margin:0;
      font-size: 16px;
      letter-spacing:.2px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .badge{
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(255,255,255,.78);
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      padding: 4px 8px;
      border-radius: 10px;
      white-space:nowrap;
    }
    .card .body{
      padding: 16px;
      color: var(--text);
    }

    .two-col{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 700px){
      .two-col{grid-template-columns: 1fr;}
    }

    .list{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
    }
    .list li{margin: 6px 0}
    .muted{color: var(--muted)}
    .faint{color: var(--faint)}
    .hr{
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
      margin: 16px 0;
    }

    .callout{
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(116,215,255,.10), rgba(255,255,255,.04));
      border-radius: 16px;
      padding: 14px 14px 12px;
    }
    .callout .title{
      display:flex;
      gap:10px;
      align-items:center;
      margin:0 0 6px;
      font-weight:700;
      letter-spacing:.2px;
    }
    .chip{
      font-family: var(--mono);
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.82);
    }

    .eqbox{
      border:1px solid rgba(116,215,255,.28);
      background: radial-gradient(500px 220px at 10% 10%, rgba(116,215,255,.14), rgba(255,255,255,.04));
      border-radius: 16px;
      padding: 14px;
      margin: 12px 0;
      overflow:auto;
    }
    .eqbox strong{
      display:block;
      margin-bottom: 8px;
      letter-spacing:.25px;
      color: rgba(255,255,255,.86);
    }
    .math{
      font-size: 1.06rem;
    }

    .steps{
      counter-reset: step;
      display:grid;
      gap: 12px;
      margin-top: 10px;
    }
    .step{
      counter-increment: step;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      border-radius: 16px;
      padding: 12px 12px 10px;
    }
    .step .top{
      display:flex;
      align-items:baseline;
      gap: 10px;
      margin-bottom: 6px;
    }
    .step .n{
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(255,255,255,.78);
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      padding: 4px 8px;
      border-radius: 10px;
    }
    .step .n::before{content:"Step " counter(step);}
    .step .goal{
      font-weight: 700;
      letter-spacing: .2px;
    }
    .step .tool{
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    .mistakes{
      display:grid;
      gap: 10px;
      margin-top: 10px;
    }
    .mist{
      border-left: 3px solid rgba(251,113,133,.85);
      background: rgba(255,255,255,.04);
      border-radius: 14px;
      padding: 10px 12px;
      border:1px solid var(--stroke);
    }
    .mist b{color: rgba(255,255,255,.9)}
    .mist p{margin:6px 0 0; color: var(--muted)}

    .solution{
      display:grid;
      gap: 14px;
    }

    .tabs{
      display:flex;
      gap: 8px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    button.tab{
      appearance:none;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.86);
      padding: 8px 10px;
      border-radius: 999px;
      cursor:pointer;
      font-family: var(--sans);
      font-size: 13px;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
    }
    button.tab:hover{transform: translateY(-1px); background: rgba(255,255,255,.06)}
    button.tab[aria-selected="true"]{
      border-color: rgba(116,215,255,.45);
      background: rgba(116,215,255,.10);
      box-shadow: 0 10px 30px rgba(116,215,255,.10);
    }
    .panel{display:none}
    .panel.active{display:block}

    /* Plot styling */
    .plotWrap{
      border:1px solid var(--stroke);
      border-radius: 16px;
      background: rgba(255,255,255,.03);
      padding: 10px;
      overflow:hidden;
    }
    canvas{
      width:100%;
      height: 300px;
      display:block;
    }
    .plotLegend{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      margin-top: 8px;
      color: var(--muted);
      font-size: 13px;
      align-items:center;
    }
    .dot{
      width:10px;height:10px;border-radius:999px;display:inline-block;vertical-align:middle;
      background: var(--accent);
      box-shadow: 0 0 0 3px rgba(116,215,255,.15);
    }
    .dot2{background: var(--accent2); box-shadow: 0 0 0 3px rgba(167,139,250,.15)}
    .legendItem{display:flex; gap:8px; align-items:center}

    .footer{
      margin-top: 18px;
      padding: 14px 2px 0;
      color: var(--faint);
      font-size: 13px;
      text-align:center;
    }
    code.inline{
      font-family: var(--mono);
      font-size: .95em;
      padding: .1em .35em;
      border-radius: 8px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.88);
    }
  </style>
</head>

<body>
  <main class="wrap">
    <header class="hero">
      <div class="kicker">
        <span class="pill">Problem 2 — Base Excitation</span>
        <span class="pill">Underdamped SDOF</span>
        <span class="pill">Vibration Isolation Table</span>
        <span class="pill">Steady-State Response</span>
      </div>
      <h1>Vibration-Free Table with Floor Motion: Full, Structured Solution</h1>
      <p class="subtitle">
        A mass <span class="inline-math">m</span> is connected to a vibrating floor by two springs and a damper that depends on <em>relative</em>
        velocity. The floor displacement is <span class="inline-math">y_g(t)=A\cos(\omega_d t)</span>.
        We derive the equation of motion, the steady-state amplitude, and the limiting behavior for isolation.
      </p>
    </header>

    <section class="grid">
      <!-- LEFT: Analysis + Strategy -->
      <article class="card">
        <div class="head">
          <h2>PART 1 — Problem Analysis</h2>
          <span class="badge">No solving yet</span>
        </div>
        <div class="body">
          <div class="callout">
            <p class="title"><span class="chip">Restatement</span> What is being asked?</p>
            <p class="muted" style="margin:0">
              Write the motion equation for the table displacement <span class="inline-math">y(t)</span> (measured from its pre-earthquake equilibrium),
              then compute the steady-state vibration amplitude of the table as a function of the floor-driving frequency
              <span class="inline-math">\omega_d</span>, and finally sketch the amplitude curve and report its low-/high-frequency limits.
            </p>
          </div>

          <div class="hr"></div>

          <div class="two-col">
            <div>
              <h3 style="margin:0 0 6px; font-size:15px">Given</h3>
              <ul class="list">
                <li>Mass: <span class="inline-math">m</span></li>
                <li>Two springs, each stiffness <span class="inline-math">k=\tfrac12 m\omega_0^2</span> ⇒ total <span class="inline-math">K=2k=m\omega_0^2</span></li>
                <li>Damper force: <span class="inline-math">F_d=-m\Gamma v</span> with <span class="inline-math">v=\dot y-\dot y_g</span> (relative velocity)</li>
                <li>Floor motion: <span class="inline-math">y_g(t)=A\cos(\omega_d t)</span></li>
                <li>Underdamped: typically <span class="inline-math">0&lt;\Gamma&lt;2\omega_0</span></li>
              </ul>
            </div>
            <div>
              <h3 style="margin:0 0 6px; font-size:15px">Unknowns / Targets</h3>
              <ul class="list">
                <li>Equation of motion for <span class="inline-math">y(t)</span></li>
                <li>Steady-state amplitude <span class="inline-math">Y(\omega_d)</span> (and ratio <span class="inline-math">Y/A</span>)</li>
                <li>Sketch behavior vs. <span class="inline-math">\omega_d</span>, plus limits as <span class="inline-math">\omega_d\to 0</span> and <span class="inline-math">\omega_d\to\infty</span></li>
              </ul>
            </div>
          </div>

          <div class="hr"></div>

          <h3 style="margin:0 0 6px; font-size:15px">Relevant physics (why these apply)</h3>
          <ul class="list">
            <li><b>Newton’s 2nd law</b> <span class="inline-math">m\ddot y=\sum F</span>: single vertical DOF dynamics of the table.</li>
            <li><b>Hooke’s law</b>: spring force depends on <em>relative displacement</em> across spring, i.e., <span class="inline-math">y-y_g</span>.</li>
            <li><b>Linear viscous damping</b>: damper force depends on <em>relative velocity</em> <span class="inline-math">\dot y-\dot y_g</span>.</li>
            <li><b>Linear harmonic steady-state response</b>: sinusoidal base motion yields sinusoidal steady-state output at the same frequency.</li>
          </ul>

          <div class="hr"></div>

          <h3 style="margin:0 0 6px; font-size:15px">Possible solution approaches</h3>
          <ul class="list">
            <li><b>Absolute-coordinate EOM</b> in <span class="inline-math">y(t)</span> with base motion terms. Best for part (a).</li>
            <li><b>Relative coordinate</b> <span class="inline-math">x(t)=y(t)-y_g(t)</span>. Often simplifies forcing form.</li>
            <li><b>Phasor / transfer function</b> for harmonic steady state. Fastest for amplitude (part b) and sketch (part c).</li>
          </ul>

          <div class="callout" style="margin-top:14px">
            <p class="title"><span class="chip">Best choice</span> Absolute EOM + phasors</p>
            <p class="muted" style="margin:0">
              We write the equation of motion directly for <span class="inline-math">y(t)</span> (as requested), then compute steady-state amplitude cleanly
              via complex exponentials (phasors), which avoids trig algebra and reduces sign mistakes.
            </p>
          </div>
        </div>
      </article>

      <!-- RIGHT: Strategy + Quick UI -->
      <aside class="card">
        <div class="head">
          <h2>PART 2 — Strategy & Tips</h2>
          <span class="badge">Roadmap only</span>
        </div>
        <div class="body">
          <div class="steps">
            <div class="step">
              <div class="top">
                <span class="n"></span>
                <div class="goal">Define coordinates & relative quantities</div>
              </div>
              <p class="tool">Use <span class="inline-math">y(t)</span>, floor <span class="inline-math">y_g(t)</span>, and differences <span class="inline-math">y-y_g</span>, <span class="inline-math">\dot y-\dot y_g</span>.</p>
            </div>
            <div class="step">
              <div class="top">
                <span class="n"></span>
                <div class="goal">Write spring + damper forces correctly</div>
              </div>
              <p class="tool">Springs: <span class="inline-math">-K(y-y_g)</span>; damper: <span class="inline-math">-m\Gamma(\dot y-\dot y_g)</span>.</p>
            </div>
            <div class="step">
              <div class="top">
                <span class="n"></span>
                <div class="goal">Apply Newton’s 2nd law</div>
              </div>
              <p class="tool">Set <span class="inline-math">m\ddot y = F_s+F_d</span> and collect terms into a linear ODE.</p>
            </div>
            <div class="step">
              <div class="top">
                <span class="n"></span>
                <div class="goal">Convert to standard parameters</div>
              </div>
              <p class="tool">Use <span class="inline-math">K=2k=m\omega_0^2</span> and <span class="inline-math">c=m\Gamma</span>.</p>
            </div>
            <div class="step">
              <div class="top">
                <span class="n"></span>
                <div class="goal">Solve steady-state with phasors</div>
              </div>
              <p class="tool">Assume <span class="inline-math">y=\Re\{Ye^{i\omega t}\}</span>, <span class="inline-math">y_g=\Re\{Ae^{i\omega t}\}</span>; replace <span class="inline-math">\frac{d}{dt}\to i\omega</span>.</p>
            </div>
            <div class="step">
              <div class="top">
                <span class="n"></span>
                <div class="goal">Take magnitude and limits</div>
              </div>
              <p class="tool">Compute <span class="inline-math">\left|Y/A\right|</span>, then evaluate <span class="inline-math">\omega\to 0</span> and <span class="inline-math">\omega\to\infty</span> and sketch.</p>
            </div>
          </div>

          <div class="hr"></div>

          <h3 style="margin:0 0 6px; font-size:15px">Common mistakes</h3>
          <div class="mistakes">
            <div class="mist">
              <b>Forgetting two springs in parallel</b>
              <p>Total stiffness is <span class="inline-math">K=2k</span>, not <span class="inline-math">k</span>.</p>
            </div>
            <div class="mist">
              <b>Wrong damper velocity</b>
              <p>Must use relative velocity: <span class="inline-math">\dot y-\dot y_g</span>, not just <span class="inline-math">\dot y</span>.</p>
            </div>
            <div class="mist">
              <b>Mixing absolute and relative displacement</b>
              <p>Springs/damper depend on differences across them, i.e., <span class="inline-math">y-y_g</span>.</p>
            </div>
          </div>

          <p class="faint" style="margin:12px 0 0">
            Tip: If signs feel confusing, compute forces using the rule:
            “element force opposes the <em>relative</em> displacement/velocity across the element.”
          </p>
        </div>
      </aside>
    </section>

    <!-- PART 3 SOLUTION -->
    <section class="card" style="margin-top:18px">
      <div class="head">
        <h2>PART 3 — Full Solution</h2>
        <span class="badge">Intuition → Math → Final Answer</span>
      </div>
      <div class="body solution">
        <div class="callout">
          <p class="title"><span class="chip">Physical intuition</span> What should happen?</p>
          <p class="muted" style="margin:0">
            If the floor moves very slowly (<span class="inline-math">\omega_d\to 0</span>), the table has time to follow, so
            <span class="inline-math">Y\approx A</span>.
            If the floor moves very fast (<span class="inline-math">\omega_d\to\infty</span>), the table cannot accelerate quickly enough,
            so <span class="inline-math">Y\to 0</span> (isolation).
          </p>
        </div>

        <div class="tabs" role="tablist" aria-label="Solution sections">
          <button class="tab" role="tab" aria-selected="true" aria-controls="panel-a" id="tab-a">Part (a) EOM</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="panel-b" id="tab-b">Part (b) Amplitude</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="panel-c" id="tab-c">Part (c) Sketch + Limits</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="panel-checks" id="tab-checks">Sanity Checks</button>
        </div>

        <!-- Panel A -->
        <div class="panel active" id="panel-a" role="tabpanel" aria-labelledby="tab-a">
          <h3 style="margin:6px 0 8px; font-size:15px">Part (a): Equation of motion in terms of \(y(t)\)</h3>
          <p class="muted" style="margin:0 0 10px">
            Let upward be positive. The floor displacement is <span class="inline-math">y_g(t)=A\cos(\omega_d t)</span>. The spring and damper are
            attached between the table and the floor, so their forces depend on the <em>relative</em> motion across them.
          </p>

          <div class="eqbox">
            <strong>Forces on the mass</strong>
            <div class="math">
              <div class="inline-math">K=2k=m\omega_0^2</div><br/>
              <div class="inline-math">F_s=-K(y-y_g)</div><br/>
              <div class="inline-math">F_d=-m\Gamma(\dot y-\dot y_g)</div>
            </div>
          </div>

          <p class="muted" style="margin:0 0 10px">
            Measure <span class="inline-math">y</span> from the pre-earthquake equilibrium, so gravity is already balanced by the static spring deflection and
            does not appear in the linearized vibration equation.
          </p>

          <div class="eqbox">
            <strong>Newton’s 2nd law and final EOM</strong>
            <div class="math">
              <div class="inline-math">m\ddot y = F_s+F_d</div><br/>
              <div class="inline-math">m\ddot y=-K(y-y_g)-m\Gamma(\dot y-\dot y_g)</div><br/>
              <div class="inline-math">\boxed{\;\ddot y+\Gamma(\dot y-\dot y_g)+\omega_0^2(y-y_g)=0\;}</div>
            </div>
          </div>
        </div>

        <!-- Panel B -->
        <div class="panel" id="panel-b" role="tabpanel" aria-labelledby="tab-b">
          <h3 style="margin:6px 0 8px; font-size:15px">Part (b): Steady-state amplitude \(Y(\omega_d)\)</h3>
          <p class="muted" style="margin:0 0 10px">
            Because the system is linear and the excitation is harmonic, the steady-state response is harmonic at the same frequency.
            Use complex exponentials (phasors):
            <span class="inline-math">y_g(t)=\Re\{Ae^{i\omega t}\}</span>, <span class="inline-math">y(t)=\Re\{Ye^{i\omega t}\}</span>, with <span class="inline-math">\omega=\omega_d</span>.
          </p>

          <div class="eqbox">
            <strong>Phasor substitution</strong>
            <div class="math">
              <div class="inline-math">\dot y \to i\omega Y e^{i\omega t},\quad \ddot y \to -\omega^2 Y e^{i\omega t}</div><br/>
              <div class="inline-math">\dot y_g \to i\omega A e^{i\omega t}</div>
            </div>
          </div>

          <div class="eqbox">
            <strong>Transfer function \(Y/A\)</strong>
            <div class="math">
              <div class="inline-math">\frac{Y}{A}=\frac{\omega_0^2+i\Gamma\omega}{\omega_0^2-\omega^2+i\Gamma\omega}</div>
            </div>
          </div>

          <div class="eqbox">
            <strong>Steady-state amplitude (magnitude)</strong>
            <div class="math">
              <div class="inline-math">\left|\frac{Y}{A}\right|=\sqrt{\frac{\omega_0^4+(\Gamma\omega)^2}{(\omega_0^2-\omega^2)^2+(\Gamma\omega)^2}}</div><br/>
              <div class="inline-math">\boxed{\;Y(\omega_d)=A\sqrt{\frac{\omega_0^4+(\Gamma\omega_d)^2}{(\omega_0^2-\omega_d^2)^2+(\Gamma\omega_d)^2}}\;}</div>
            </div>
          </div>
        </div>

        <!-- Panel C -->
        <div class="panel" id="panel-c" role="tabpanel" aria-labelledby="tab-c">
          <h3 style="margin:6px 0 8px; font-size:15px">Part (c): Sketch + limiting values</h3>
          <p class="muted" style="margin:0 0 10px">
            The displacement transmissibility <span class="inline-math">|Y/A|</span> starts near 1 at low frequency, peaks near resonance,
            then decays toward 0 at high frequency (isolation).
          </p>

          <div class="eqbox">
            <strong>Limits</strong>
            <div class="math">
              <div class="inline-math">\omega_d\to 0:\quad \left|\frac{Y}{A}\right|\to 1\;\Rightarrow\;\boxed{Y\to A}</div><br/>
              <div class="inline-math">\omega_d\to\infty:\quad \left|\frac{Y}{A}\right|\sim \frac{\Gamma}{\omega_d}\to 0\;\Rightarrow\;\boxed{Y\to 0}</div>
            </div>
          </div>

          <div class="plotWrap" aria-label="Amplitude plot">
            <canvas id="plot" width="1000" height="350"></canvas>
            <div class="plotLegend">
              <span class="legendItem"><span class="dot"></span> <span>Displacement ratio \( |Y/A| \) (example curve)</span></span>
              <span class="legendItem"><span class="dot2"></span> <span>Reference lines: \( \omega=\omega_0 \), limits</span></span>
              <span class="muted">— You can adjust \(\Gamma/\omega_0\) below.</span>
            </div>
          </div>

          <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:10px">
            <label class="muted" for="zeta" style="font-size:13px">Damping ratio proxy: \(\Gamma/\omega_0\)</label>
            <input id="zeta" type="range" min="0.05" max="1.50" step="0.01" value="0.30" style="flex:1; min-width:220px">
            <span class="badge"><span id="zetaVal">0.30</span></span>
          </div>

          <p class="faint" style="margin:10px 0 0">
            Note: This plot is a qualitative visualization of the derived formula. The exact peak height depends on damping.
          </p>
        </div>

        <!-- Checks -->
        <div class="panel" id="panel-checks" role="tabpanel" aria-labelledby="tab-checks">
          <h3 style="margin:6px 0 8px; font-size:15px">Sanity checks: units, limits, interpretation</h3>

          <div class="eqbox">
            <strong>Units</strong>
            <div class="math">
              <div class="inline-math">\Gamma:\;[1/\text{s}] \quad\text{since}\quad c=m\Gamma\;[\text{kg/s}]</div><br/>
              <div class="inline-math">\ddot y,\;\Gamma(\dot y-\dot y_g),\;\omega_0^2(y-y_g)\;\text{all have units of}\;\text{m/s}^2</div><br/>
              <div class="inline-math">Y(\omega_d)=A\times(\text{dimensionless}) \Rightarrow [\text{m}]</div>
            </div>
          </div>

          <div class="eqbox">
            <strong>Limiting cases</strong>
            <div class="math">
              <div class="inline-math">\omega_d\to 0:\;Y\to A\quad(\text{table follows slow base motion})</div><br/>
              <div class="inline-math">\omega_d\to\infty:\;Y\to 0\quad(\text{isolation at high frequency})</div><br/>
              <div class="inline-math">\Gamma\to 0:\;\left|\frac{Y}{A}\right|\to\left|\frac{\omega_0^2}{\omega_0^2-\omega_d^2}\right| \;\text{(undamped resonance blow-up at }\omega_d=\omega_0\text{)}</div>
            </div>
          </div>

          <div class="callout">
            <p class="title"><span class="chip">Interpretation</span> What does \(|Y/A|\) mean?</p>
            <p class="muted" style="margin:0">
              \(|Y/A|\) is the <b>displacement transmissibility</b> from floor to table. Values greater than 1 mean amplification
              (danger near resonance). Values much less than 1 mean isolation (desired for precision tables).
            </p>
          </div>
        </div>

      </div>
    </section>

    <div class="footer">
      <p style="margin:0">
        Built as a single self-contained article: KaTeX math + interactive transmissibility plot.
        You can paste this into your site as-is.
      </p>
    </div>
  </main>

  <script>
    // --- KaTeX auto-render ---
    window.addEventListener("DOMContentLoaded", () => {
      renderMathInElement(document.body, {
        delimiters: [
          { left: "$$", right: "$$", display: true },
          { left: "\\(", right: "\\)", display: false }
        ],
        throwOnError: false
      });
    });

    // --- Tabs ---
    (function(){
      const tabs = Array.from(document.querySelectorAll("button.tab"));
      const panels = Array.from(document.querySelectorAll(".panel"));
      function activate(id){
        tabs.forEach(t => t.setAttribute("aria-selected", String(t.id === id)));
        panels.forEach(p => p.classList.toggle("active", p.getAttribute("aria-labelledby") === id));
      }
      tabs.forEach(t => {
        t.addEventListener("click", () => activate(t.id));
      });
    })();

    // --- Plot: example curve of |Y/A| vs r = ω/ω0 ---
    // Formula: |Y/A| = sqrt( (ω0^4 + (Γω)^2) / ((ω0^2-ω^2)^2 + (Γω)^2) )
    // In terms of r = ω/ω0 and g = Γ/ω0:
    // |Y/A| = sqrt( (1 + (g r)^2) / ((1 - r^2)^2 + (g r)^2) )
    (function(){
      const canvas = document.getElementById("plot");
      const ctx = canvas.getContext("2d");
      const slider = document.getElementById("zeta");
      const zetaVal = document.getElementById("zetaVal");

      function ratio(r, g){
        const num = 1 + (g*r)*(g*r);
        const den = (1 - r*r)*(1 - r*r) + (g*r)*(g*r);
        return Math.sqrt(num/den);
      }

      function draw(g){
        // Scale for crisp drawing on high-DPI
        const dpr = Math.max(1, window.devicePixelRatio || 1);
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        canvas.width = Math.floor(w * dpr);
        canvas.height = Math.floor(h * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);

        // Layout
        const padL = 56, padR = 18, padT = 16, padB = 38;
        const W = w - padL - padR;
        const H = h - padT - padB;

        // Background
        ctx.clearRect(0,0,w,h);
        // subtle grid
        ctx.save();
        ctx.globalAlpha = 0.22;
        ctx.strokeStyle = "rgba(255,255,255,.16)";
        ctx.lineWidth = 1;
        const nx = 10, ny = 6;
        for(let i=0;i<=nx;i++){
          const x = padL + (i/nx)*W;
          ctx.beginPath(); ctx.moveTo(x,padT); ctx.lineTo(x,padT+H); ctx.stroke();
        }
        for(let j=0;j<=ny;j++){
          const y = padT + (j/ny)*H;
          ctx.beginPath(); ctx.moveTo(padL,y); ctx.lineTo(padL+W,y); ctx.stroke();
        }
        ctx.restore();

        // Axes
        ctx.save();
        ctx.strokeStyle = "rgba(255,255,255,.65)";
        ctx.lineWidth = 1.2;
        ctx.beginPath();
        ctx.moveTo(padL, padT);
        ctx.lineTo(padL, padT+H);
        ctx.lineTo(padL+W, padT+H);
        ctx.stroke();
        ctx.restore();

        // Domain r in [0, 3]
        const rMin = 0, rMax = 3;
        // Choose yMax based on g (cap to keep readable)
        let yMax = 0;
        const samples = 900;
        for(let i=0;i<=samples;i++){
          const r = rMin + (i/samples)*(rMax-rMin);
          yMax = Math.max(yMax, ratio(r,g));
        }
        yMax = Math.min(Math.max(2.2, yMax*1.06), 10); // clamp

        const xOfR = (r)=> padL + ( (r - rMin)/(rMax-rMin) )*W;
        const yOfT = (t)=> padT + H - (t/yMax)*H;

        // Reference vertical line at r=1 (ω=ω0)
        ctx.save();
        ctx.strokeStyle = "rgba(167,139,250,.85)";
        ctx.globalAlpha = 0.45;
        ctx.lineWidth = 2;
        ctx.setLineDash([6,6]);
        const x1 = xOfR(1);
        ctx.beginPath(); ctx.moveTo(x1, padT); ctx.lineTo(x1, padT+H); ctx.stroke();
        ctx.restore();

        // Curve
        ctx.save();
        ctx.lineWidth = 2.4;
        ctx.strokeStyle = "rgba(116,215,255,.95)";
        ctx.beginPath();
        for(let i=0;i<=samples;i++){
          const r = rMin + (i/samples)*(rMax-rMin);
          const t = ratio(r,g);
          const x = xOfR(r);
          const y = yOfT(t);
          if(i===0) ctx.moveTo(x,y);
          else ctx.lineTo(x,y);
        }
        ctx.stroke();
        ctx.restore();

        // Labels
        ctx.save();
        ctx.fillStyle = "rgba(255,255,255,.88)";
        ctx.font = "12px " + getComputedStyle(document.documentElement).getPropertyValue('--mono');
        ctx.fillText("r = ω/ω₀", padL + W - 70, padT + H + 26);
        ctx.fillText("|Y/A|", 10, padT + 12);

        // y ticks
        ctx.fillStyle = "rgba(255,255,255,.75)";
        const yTicks = 5;
        for(let j=0;j<=yTicks;j++){
          const t = (j/yTicks)*yMax;
          const y = yOfT(t);
          ctx.fillText(t.toFixed(1), 14, y+4);
        }
        // x ticks
        const xTicks = 6;
        for(let i=0;i<=xTicks;i++){
          const r = (i/xTicks)*(rMax-rMin) + rMin;
          const x = xOfR(r);
          ctx.fillText(r.toFixed(1), x-10, padT + H + 20);
        }
        ctx.restore();

        // Annotations: limits
        ctx.save();
        ctx.fillStyle = "rgba(255,255,255,.78)";
        ctx.font = "12px " + getComputedStyle(document.documentElement).getPropertyValue('--sans');
        ctx.fillText("Low ω: |Y/A| → 1", padL + 10, padT + 18);
        ctx.fillText("High ω: |Y/A| → 0", padL + W - 140, padT + H - 10);
        ctx.restore();
      }

      function update(){
        const g = parseFloat(slider.value);
        zetaVal.textContent = g.toFixed(2);
        draw(g);
      }

      slider.addEventListener("input", update);
      window.addEventListener("resize", update);
      update();
    })();
  </script>
</body>
</html>
