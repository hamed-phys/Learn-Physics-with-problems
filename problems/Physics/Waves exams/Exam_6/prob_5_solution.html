<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>Three Linear Polarizers — Full Solution (Malus’s Law)</title>

  <!-- MathJax (LaTeX rendering) -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]'], ['$$', '$$']],
        processEscapes: true
      },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    :root{
      --bg: #0b1020;
      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.045);
      --border: rgba(255,255,255,0.12);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.72);
      --faint: rgba(255,255,255,0.55);
      --accent: #7c5cff;
      --accent2:#22d3ee;
      --good: #34d399;
      --warn: #fbbf24;
      --bad: #fb7185;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 18px;
      --radius2: 26px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    @media (prefers-color-scheme: light){
      :root{
        --bg: #f6f7fb;
        --panel: rgba(10,14,35,0.06);
        --panel2: rgba(10,14,35,0.04);
        --border: rgba(10,14,35,0.14);
        --text: rgba(10,14,35,0.92);
        --muted: rgba(10,14,35,0.72);
        --faint: rgba(10,14,35,0.56);
        --shadow: 0 20px 50px rgba(17,24,39,.14);
      }
    }

    *{ box-sizing: border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 10% 10%, rgba(124,92,255,0.28), transparent 55%),
        radial-gradient(900px 600px at 90% 20%, rgba(34,211,238,0.20), transparent 55%),
        radial-gradient(1100px 800px at 40% 110%, rgba(52,211,153,0.14), transparent 55%),
        linear-gradient(180deg, var(--bg), var(--bg));
      line-height:1.55;
      overflow-x:hidden;
    }

    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 28px 18px 80px;
    }

    header.hero{
      position: relative;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--panel), transparent);
      box-shadow: var(--shadow);
      border-radius: var(--radius2);
      padding: 28px 22px;
      overflow:hidden;
    }
    header.hero::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(600px 240px at 20% 0%, rgba(124,92,255,.30), transparent 60%),
        radial-gradient(520px 240px at 95% 20%, rgba(34,211,238,.22), transparent 60%),
        radial-gradient(540px 260px at 55% 110%, rgba(52,211,153,.16), transparent 60%);
      filter: blur(0px);
      pointer-events:none;
      opacity: .95;
    }
    header.hero > *{ position:relative; }

    .kicker{
      display:flex; align-items:center; gap:10px;
      font-size: 13px; letter-spacing:.12em; text-transform:uppercase;
      color: var(--muted);
    }
    .pill{
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06);
      padding: 6px 10px;
      border-radius: 999px;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
    }
    h1{
      margin: 10px 0 8px;
      font-size: clamp(26px, 3.2vw, 40px);
      letter-spacing: -0.02em;
      line-height: 1.12;
    }
    .sub{
      color: var(--muted);
      max-width: 78ch;
      font-size: 15px;
      margin: 0;
    }

    .toolbar{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 18px;
      align-items:center;
    }
    .btn{
      cursor:pointer;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 13px;
      display:inline-flex;
      align-items:center;
      gap:10px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,0.09); border-color: rgba(255,255,255,0.20); }
    .btn:active{ transform: translateY(0px) scale(.99); }
    .btn svg{ width:16px; height:16px; opacity:.9; }

    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 16px;
      margin-top: 18px;
    }
    @media (max-width: 900px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .hd{
      padding: 14px 16px;
      border-bottom: 1px solid var(--border);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      background: rgba(255,255,255,0.02);
    }
    .card .hd h2{
      margin:0;
      font-size: 15px;
      letter-spacing:.01em;
    }
    .card .bd{
      padding: 16px;
    }

    .meta{
      display:flex; flex-wrap:wrap; gap:10px;
      color: var(--muted);
      font-size: 13px;
    }
    .meta strong{ color: var(--text); }

    .section{
      margin-top: 16px;
      padding-top: 10px;
    }
    .section h3{
      margin: 0 0 10px;
      font-size: 14px;
      letter-spacing:.02em;
      text-transform: uppercase;
      color: var(--muted);
      display:flex;
      align-items:center;
      gap:10px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width: 26px; height: 26px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06);
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
    }

    ul,ol{ margin: 10px 0 0 22px; }
    li{ margin: 6px 0; }
    .muted{ color: var(--muted); }
    .faint{ color: var(--faint); }

    .callout{
      border: 1px solid rgba(124,92,255,0.35);
      background: linear-gradient(180deg, rgba(124,92,255,0.18), rgba(124,92,255,0.06));
      border-radius: 16px;
      padding: 14px 14px;
      margin: 12px 0;
    }
    .callout strong{ color: rgba(255,255,255,0.95); }
    @media (prefers-color-scheme: light){
      .callout strong{ color: rgba(10,14,35,0.95); }
    }

    .equation-box{
      border: 1px solid rgba(34,211,238,0.35);
      background: linear-gradient(180deg, rgba(34,211,238,0.14), rgba(34,211,238,0.05));
      border-radius: 16px;
      padding: 12px 14px;
      margin: 14px 0;
      overflow:auto;
    }

    .final{
      border: 1px solid rgba(52,211,153,0.35);
      background: linear-gradient(180deg, rgba(52,211,153,0.14), rgba(52,211,153,0.04));
      border-radius: 16px;
      padding: 14px 14px;
      margin: 14px 0 6px;
    }

    .two-col{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-top: 10px;
    }
    @media (max-width: 700px){
      .two-col{ grid-template-columns: 1fr; }
    }

    .mini{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
    }

    .plot{
      width:100%;
      height: 260px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      overflow:hidden;
      position:relative;
    }
    .plot canvas{
      width:100%;
      height:100%;
      display:block;
    }

    .controls{
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
      align-items:center;
      margin-top: 10px;
    }
    .control{
      flex: 1 1 220px;
      min-width: 220px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      border-radius: 16px;
      padding: 12px 12px;
    }
    .control label{
      display:flex;
      justify-content:space-between;
      font-size: 12px;
      color: var(--muted);
      font-family: var(--mono);
      margin-bottom: 6px;
      gap:10px;
    }
    input[type="range"]{
      width:100%;
    }
    .readout{
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      margin-top: 10px;
    }
    .tag{
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
      padding: 8px 10px;
      border-radius: 14px;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
    }
    .tag b{ color: var(--text); font-weight:700; }

    details{
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      border-radius: 16px;
      padding: 10px 12px;
      margin-top: 12px;
    }
    details summary{
      cursor:pointer;
      font-weight:700;
      color: var(--text);
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    details summary::-webkit-details-marker{ display:none; }
    details summary .chev{
      width:18px; height:18px; opacity:.8; transition: transform .15s ease;
    }
    details[open] summary .chev{ transform: rotate(180deg); }
    footer{
      margin-top: 18px;
      color: var(--muted);
      font-size: 13px;
      text-align:center;
    }

    /* Print-friendly */
    @media print{
      body{ background:#fff !important; }
      header.hero, .card{ box-shadow:none !important; }
      .btn, .controls{ display:none !important; }
      .wrap{ padding: 0; }
    }

    /* Accessibility helpers */
    .sr-only{
      position:absolute;
      width:1px; height:1px;
      padding:0; margin:-1px;
      overflow:hidden; clip:rect(0,0,0,0);
      white-space:nowrap; border:0;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header class="hero" id="top">
      <div class="kicker">
        <span class="pill">PHYSICS · OPTICS</span>
        <span class="pill">IDEAL POLARIZERS</span>
        <span class="pill">MALUS’S LAW</span>
      </div>

      <h1>Three Linear Polarizers — Full Structured Solution</h1>
      <p class="sub">
        Unpolarized light of intensity \(I_0\) passes sequentially through polarizers
        \(A\) (horizontal), \(B\) (at angle \(\theta\)), and \(C\) (vertical).
        We compute transmitted intensities \(I_A\), \(I_B(\theta)\), \(I_C(\theta)\)
        and the output polarization after each element, with interactive plots vs. \(\theta\).
      </p>

      <div class="toolbar" role="toolbar" aria-label="Article tools">
        <button class="btn" id="btnPrint" type="button" title="Print / Save as PDF">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M7 8V4h10v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M7 17h10v3H7v-3Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M6 10h12a3 3 0 0 1 3 3v2h-4v-3H7v3H3v-2a3 3 0 0 1 3-3Z"
                  stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
          Print
        </button>

        <button class="btn" id="btnCopyLink" type="button" title="Copy link to this article section">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M10 13a5 5 0 0 1 0-7l1.5-1.5a5 5 0 0 1 7 7L17 13"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M14 11a5 5 0 0 1 0 7L12.5 19.5a5 5 0 0 1-7-7L7 11"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Copy link
        </button>

        <span class="pill" aria-label="Difficulty">Rigorous · Beginner-friendly</span>
      </div>
    </header>

    <div class="grid" aria-label="Main content grid">
      <!-- LEFT: Solution -->
      <article class="card" aria-label="Full structured solution">
        <div class="hd">
          <h2>Complete Answer (Required Order)</h2>
          <div class="meta">
            <span><strong>Inputs:</strong> \(I_0\), \(\theta\)</span>
            <span><strong>Outputs:</strong> \(I_A, I_B(\theta), I_C(\theta)\)</span>
          </div>
        </div>

        <div class="bd">
          <!-- PART 1 -->
          <section class="section" id="part1">
            <h3><span class="badge">1</span> PART 1 — Problem Analysis (no solving yet)</h3>

            <div class="callout">
              <strong>Restated problem:</strong>
              Light of intensity \(I_0\) is initially <em>unpolarized</em>. It passes through three
              <em>ideal</em> linear polarizers: \(A\) transmits only horizontal polarization,
              \(B\) transmits polarization along an axis tilted by \(\theta\) from horizontal,
              and \(C\) transmits only vertical polarization. Find transmitted intensities and
              output polarization after each polarizer, and plot intensities vs. \(\theta\).
            </div>

            <div class="two-col">
              <div>
                <h4 style="margin:0 0 6px;">Given</h4>
                <ul>
                  <li>Incident light intensity: \(\boxed{I_0}\)</li>
                  <li>Incident light is <strong>unpolarized</strong></li>
                  <li>Polarizer \(A\): axis horizontal (x)</li>
                  <li>Polarizer \(B\): axis at angle \(\theta\) to x</li>
                  <li>Polarizer \(C\): axis vertical (y)</li>
                  <li>All polarizers are <strong>ideal</strong></li>
                </ul>
              </div>
              <div>
                <h4 style="margin:0 0 6px;">Unknowns / What to find</h4>
                <ul>
                  <li>\(\boxed{I_A}\) and polarization after \(A\)</li>
                  <li>\(\boxed{I_B(\theta)}\) and polarization after \(B\)</li>
                  <li>\(\boxed{I_C(\theta)}\) and polarization after \(C\)</li>
                  <li>Graphs of \(I_B(\theta)\) and \(I_C(\theta)\)</li>
                </ul>
              </div>
            </div>

            <h4 style="margin:14px 0 6px;">Relevant principles (and why)</h4>
            <ul>
              <li>
                <strong>Unpolarized → ideal polarizer transmits half intensity</strong>:
                unpolarized light has equal average power in any two orthogonal directions, so
                a single linear polarizer passes one component on average.
              </li>
              <li>
                <strong>Malus’s Law</strong>:
                for linearly polarized light through a linear polarizer,
                \[
                  I_{\text{out}} = I_{\text{in}}\cos^2\phi,
                \]
                where \(\phi\) is the angle between the incident polarization direction and
                the polarizer’s transmission axis. This applies after \(A\) because the light is then polarized.
              </li>
            </ul>

            <h4 style="margin:14px 0 6px;">Possible approaches</h4>
            <ol>
              <li><strong>Sequential Malus’s law</strong> (intensity projections): fastest and cleanest here.</li>
              <li><strong>Electric-field component projections</strong>: derive Malus’s law via \(E\)-components, same result, more algebra.</li>
              <li><strong>Jones vectors/matrices</strong>: most systematic for many polarizers, but heavier than needed for this 3-element chain.</li>
            </ol>

            <p class="muted" style="margin-top:12px;">
              <strong>Chosen method:</strong> sequential Malus’s law + the 1/2 rule for unpolarized light, because it is rigorous and minimal for ideal polarizers.
            </p>
          </section>

          <!-- PART 2 -->
          <section class="section" id="part2">
            <h3><span class="badge">2</span> PART 2 — Strategy & Tips (roadmap only)</h3>

            <ol>
              <li>
                <strong>After \(A\):</strong> determine \(I_A\) and polarization direction.
                <div class="mini">Tool: unpolarized → ideal polarizer ⇒ \(I=\tfrac{1}{2}I_0\)</div>
              </li>
              <li>
                <strong>Angle into \(B\):</strong> identify \(\phi_{AB}\) (between horizontal polarization and \(B\)’s axis).
                <div class="mini">Tool: geometry ⇒ \(\phi_{AB}=\theta\)</div>
              </li>
              <li>
                <strong>After \(B\):</strong> compute \(I_B(\theta)\).
                <div class="mini">Tool: Malus ⇒ \(I_B = I_A\cos^2\phi_{AB}\)</div>
              </li>
              <li>
                <strong>Polarization after \(B\):</strong> state output direction.
                <div class="mini">Tool: ideal polarizer output is polarized along its axis</div>
              </li>
              <li>
                <strong>Angle into \(C\):</strong> identify \(\phi_{BC}\) (between \(B\)’s axis and vertical).
                <div class="mini">Tool: geometry ⇒ \(\phi_{BC}=90^\circ-\theta\)</div>
              </li>
              <li>
                <strong>After \(C\):</strong> compute \(I_C(\theta)\).
                <div class="mini">Tool: Malus ⇒ \(I_C = I_B\cos^2\phi_{BC}\)</div>
              </li>
              <li>
                <strong>Graph features:</strong> find zeros/maxima and periodicity from trig functions.
                <div class="mini">Tool: analyze \(\cos^2\theta\) and \(\sin^2\theta\cos^2\theta\)</div>
              </li>
            </ol>

            <details>
              <summary>
                Common mistakes & quick tips
                <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </summary>
              <ul>
                <li><strong>Forgetting the factor \(1/2\)</strong> after \(A\) (unpolarized input).</li>
                <li><strong>Using the wrong angle into \(C\)</strong>: it’s with vertical, i.e. \(90^\circ-\theta\), not \(\theta\).</li>
                <li><strong>Assuming crossed polarizers always block all light</strong>: the middle polarizer changes the polarization direction and can enable transmission.</li>
              </ul>
            </details>
          </section>

          <!-- PART 3 -->
          <section class="section" id="part3">
            <h3><span class="badge">3</span> PART 3 — Full Solution</h3>

            <h4 style="margin:0 0 8px;">Physical intuition</h4>
            <p class="muted">
              Polarizer \(A\) converts unpolarized light into horizontal polarization and reduces its intensity.
              Polarizer \(B\), rotated by \(\theta\), transmits only the component of that horizontal polarization
              along its own axis. After \(B\), the light is polarized along \(B\)’s axis, which generally has a
              vertical component. Polarizer \(C\) then transmits the vertical component of the \(B\)-polarized light.
              This is why a “bridging” polarizer can allow nonzero transmission even when \(A\) and \(C\) are perpendicular.
            </p>

            <div class="equation-box">
              <strong>Key facts:</strong>
              \[
                \text{(Unpolarized through ideal polarizer)}\quad I_{\text{out}}=\frac{1}{2}I_{\text{in}}
              \]
              \[
                \text{(Malus’s law)}\quad I_{\text{out}}=I_{\text{in}}\cos^2\phi
              \]
              <div class="faint">
                where \(\phi\) is the angle between the incident polarization direction and the polarizer axis.
              </div>
            </div>

            <hr style="border:0;border-top:1px solid var(--border); margin: 16px 0;">

            <h4 style="margin:0 0 8px;">(a) After polarizer \(A\): \(I_A\) and polarization</h4>
            <p>
              The incident light is <strong>unpolarized</strong> with intensity \(I_0\). An ideal linear polarizer
              transmits, on average, half of unpolarized intensity because it passes only one linear component.
            </p>
            <div class="final">
              \[
                \boxed{I_A=\frac{I_0}{2}}
                \qquad\text{and the light is }\boxed{\text{horizontally polarized (along }x\text{).}}
              \]
            </div>

            <hr style="border:0;border-top:1px solid var(--border); margin: 16px 0;">

            <h4 style="margin:0 0 8px;">(b) After polarizer \(B\): \(I_B(\theta)\) and polarization</h4>
            <p>
              After \(A\), the polarization direction is horizontal. Polarizer \(B\) has its axis tilted by \(\theta\)
              from horizontal, so the angle between the incident polarization and \(B\)’s axis is \(\phi_{AB}=\theta\).
              Applying Malus’s law:
            </p>
            <div class="equation-box">
              \[
                I_B = I_A\cos^2(\phi_{AB})
                    = \left(\frac{I_0}{2}\right)\cos^2\theta
              \]
            </div>
            <div class="final">
              \[
                \boxed{I_B(\theta)=\frac{I_0}{2}\cos^2\theta}
                \qquad\text{and the light is }\boxed{\text{polarized along }B\text{ (angle }\theta\text{).}}
              \]
            </div>

            <p class="muted">
              <strong>Graph features:</strong> maxima \(\tfrac{I_0}{2}\) at \(\theta=0^\circ,180^\circ,\dots\);
              zeros at \(\theta=90^\circ,270^\circ,\dots\); period \(180^\circ\).
            </p>

            <hr style="border:0;border-top:1px solid var(--border); margin: 16px 0;">

            <h4 style="margin:0 0 8px;">(c) After polarizer \(C\): \(I_C(\theta)\) and polarization</h4>
            <p>
              After \(B\), the light is polarized along \(B\)’s axis (angle \(\theta\) from horizontal).
              Polarizer \(C\) is vertical, i.e. at \(90^\circ\) from horizontal. Therefore, the angle between
              the incident polarization and \(C\)’s axis is \(\phi_{BC}=90^\circ-\theta\). Apply Malus’s law again:
            </p>
            <div class="equation-box">
              \[
                I_C = I_B\cos^2(\phi_{BC})
                    = \left(\frac{I_0}{2}\cos^2\theta\right)\cos^2(90^\circ-\theta)
              \]
              Using \(\cos(90^\circ-\theta)=\sin\theta\):
              \[
                I_C(\theta)=\frac{I_0}{2}\cos^2\theta\,\sin^2\theta
              \]
              And with \(\sin(2\theta)=2\sin\theta\cos\theta\):
              \[
                \sin^2\theta\cos^2\theta=\frac14\sin^2(2\theta)
                \quad\Rightarrow\quad
                I_C(\theta)=\frac{I_0}{8}\sin^2(2\theta)
              \]
            </div>

            <div class="final">
              \[
                \boxed{I_C(\theta)=\frac{I_0}{2}\sin^2\theta\,\cos^2\theta=\frac{I_0}{8}\sin^2(2\theta)}
                \qquad\text{and the light is }\boxed{\text{vertically polarized (along }y\text{).}}
              \]
            </div>

            <p class="muted">
              <strong>Graph features:</strong>
              zeros at \(\theta=0^\circ,90^\circ,180^\circ,\dots\);
              maximum at \(\theta=45^\circ,135^\circ,\dots\) with
              \(\,I_{C,\max}=I_0/8\); period \(90^\circ\).
            </p>

            <hr style="border:0;border-top:1px solid var(--border); margin: 16px 0;">

            <h4 style="margin:0 0 8px;">Sanity checks</h4>
            <div class="two-col">
              <div class="mini">
                <strong>Units:</strong> \(I_A, I_B, I_C\) are all proportional to \(I_0\), so they have the same units as intensity.
              </div>
              <div class="mini">
                <strong>Limiting cases:</strong>
                \(\theta=0^\circ\Rightarrow I_C=0\) (A and C crossed);
                \(\theta=90^\circ\Rightarrow I_B=0\Rightarrow I_C=0\);
                \(\theta=45^\circ\Rightarrow I_C=I_0/8\) (maximum).
              </div>
            </div>
            <div class="mini" style="margin-top:12px;">
              <strong>Physical interpretation:</strong> Polarizer \(B\) “bridges” the perpendicular axes by producing a nonzero vertical component that \(C\) can transmit, but each projection reduces intensity—hence the modest maximum \(I_0/8\).
            </div>
          </section>
        </div>
      </article>

      <!-- RIGHT: Interactive plots + quick summary -->
      <aside class="card" aria-label="Interactive visuals and quick summary">
        <div class="hd">
          <h2>Interactive: Intensities vs. \(\theta\)</h2>
          <span class="pill">Live plots</span>
        </div>
        <div class="bd">
          <p class="muted" style="margin-top:0">
            Use the slider to change \(\theta\). The plots show \(I_B(\theta)\) and \(I_C(\theta)\) normalized to \(I_0\).
            The marker indicates the current \(\theta\).
          </p>

          <div class="controls" aria-label="Controls">
            <div class="control">
              <label for="theta">
                <span>\(\theta\) (degrees)</span>
                <span id="thetaLabel">45°</span>
              </label>
              <input id="theta" type="range" min="0" max="180" step="1" value="45" />
            </div>
          </div>

          <div class="readout" aria-label="Readout">
            <div class="tag"><b>\(I_A/I_0\):</b> <span id="IA">0.5000</span></div>
            <div class="tag"><b>\(I_B/I_0\):</b> <span id="IB">0.2500</span></div>
            <div class="tag"><b>\(I_C/I_0\):</b> <span id="IC">0.1250</span></div>
          </div>

          <div class="section">
            <h3><span class="badge">B</span> Plot of \(I_B(\theta)=\tfrac{I_0}{2}\cos^2\theta\)</h3>
            <div class="plot"><canvas id="plotB" width="900" height="520"></canvas></div>
          </div>

          <div class="section">
            <h3><span class="badge">C</span> Plot of \(I_C(\theta)=\tfrac{I_0}{8}\sin^2(2\theta)\)</h3>
            <div class="plot"><canvas id="plotC" width="900" height="520"></canvas></div>
          </div>

          <details>
            <summary>
              Quick reference (boxed results)
              <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </summary>
            <div class="equation-box">
              \[
                \boxed{I_A=\frac{I_0}{2}}\quad (\text{horizontal})
              \]
              \[
                \boxed{I_B(\theta)=\frac{I_0}{2}\cos^2\theta}\quad (\text{polarized at }\theta)
              \]
              \[
                \boxed{I_C(\theta)=\frac{I_0}{2}\sin^2\theta\cos^2\theta=\frac{I_0}{8}\sin^2(2\theta)}\quad (\text{vertical})
              \]
            </div>
          </details>
        </div>
      </aside>
    </div>

    <footer>
      <div class="faint">
        Built as a standalone article: semantic HTML, MathJax LaTeX, responsive layout, and canvas plots.
        <span aria-hidden="true">·</span> <a href="#top" style="color:inherit;text-decoration:underline;">Back to top</a>
      </div>
    </footer>
  </div>

  <script>
    // ===== Utilities =====
    const clamp = (x, a, b) => Math.max(a, Math.min(b, x));
    const deg2rad = (d) => d * Math.PI / 180;

    function cssVar(name){
      return getComputedStyle(document.documentElement).getPropertyValue(name).trim();
    }

    function drawAxes(ctx, W, H, padding){
      const grid = cssVar('--border') || 'rgba(255,255,255,0.12)';
      ctx.save();
      ctx.clearRect(0,0,W,H);

      // Background subtle gradient overlay (no fixed colors; uses current text color alpha)
      ctx.globalAlpha = 1;

      // Grid
      ctx.strokeStyle = grid;
      ctx.lineWidth = 1;

      const x0 = padding, y0 = H - padding, x1 = W - padding, y1 = padding;

      // vertical grid lines
      const nx = 6;
      for(let i=0;i<=nx;i++){
        const x = x0 + (x1-x0)*i/nx;
        ctx.beginPath(); ctx.moveTo(x,y0); ctx.lineTo(x,y1); ctx.stroke();
      }

      // horizontal grid lines
      const ny = 4;
      for(let j=0;j<=ny;j++){
        const y = y0 - (y0-y1)*j/ny;
        ctx.beginPath(); ctx.moveTo(x0,y); ctx.lineTo(x1,y); ctx.stroke();
      }

      // Axes
      ctx.strokeStyle = cssVar('--text') || '#fff';
      ctx.globalAlpha = 0.75;
      ctx.lineWidth = 2;
      ctx.beginPath(); ctx.moveTo(x0,y0); ctx.lineTo(x1,y0); ctx.stroke(); // x axis
      ctx.beginPath(); ctx.moveTo(x0,y0); ctx.lineTo(x0,y1); ctx.stroke(); // y axis

      ctx.restore();

      return {x0,y0,x1,y1};
    }

    function drawCurve(ctx, axes, f, xMin, xMax, yMin, yMax, markerX){
      const {x0,y0,x1,y1} = axes;
      const W = x1-x0, H = y0-y1;

      const mapX = (x)=> x0 + (x-xMin)/(xMax-xMin)*W;
      const mapY = (y)=> y0 - (y-yMin)/(yMax-yMin)*H;

      // Curve
      ctx.save();
      ctx.strokeStyle = cssVar('--accent2') || '#22d3ee';
      ctx.globalAlpha = 0.95;
      ctx.lineWidth = 3;
      ctx.lineJoin = 'round';
      ctx.lineCap = 'round';

      const N = 600;
      ctx.beginPath();
      for(let i=0;i<=N;i++){
        const x = xMin + (xMax-xMin)*i/N;
        const y = f(x);
        const X = mapX(x);
        const Y = mapY(clamp(y,yMin,yMax));
        if(i===0) ctx.moveTo(X,Y);
        else ctx.lineTo(X,Y);
      }
      ctx.stroke();

      // Marker
      const mx = markerX;
      const my = f(mx);
      const MX = mapX(mx);
      const MY = mapY(clamp(my,yMin,yMax));

      ctx.fillStyle = cssVar('--accent') || '#7c5cff';
      ctx.globalAlpha = 0.95;
      ctx.beginPath();
      ctx.arc(MX, MY, 6, 0, Math.PI*2);
      ctx.fill();

      // Marker line
      ctx.strokeStyle = cssVar('--accent') || '#7c5cff';
      ctx.globalAlpha = 0.55;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(MX, y0);
      ctx.lineTo(MX, y1);
      ctx.stroke();

      ctx.restore();
    }

    function labelPlot(ctx, axes, title, yLabel){
      const {x0,y0,x1,y1} = axes;
      ctx.save();
      ctx.fillStyle = cssVar('--text') || '#fff';
      ctx.globalAlpha = 0.9;
      ctx.font = '700 14px ' + getComputedStyle(document.body).fontFamily;
      ctx.fillText(title, x0, y1 - 10);

      ctx.globalAlpha = 0.75;
      ctx.font = '12px ' + getComputedStyle(document.body).fontFamily;
      ctx.fillText('θ (deg)', x1 - 64, y0 + 26);

      // y label (simple)
      ctx.save();
      ctx.translate(x0 - 34, (y0+y1)/2);
      ctx.rotate(-Math.PI/2);
      ctx.fillText(yLabel, 0, 0);
      ctx.restore();

      // Tick labels
      ctx.globalAlpha = 0.65;
      ctx.font = '12px ' + getComputedStyle(document.body).fontFamily;
      const xTicks = [0, 45, 90, 135, 180];
      for(const t of xTicks){
        const X = x0 + (x1-x0)*t/180;
        ctx.fillText(String(t), X-8, y0 + 18);
      }
      const yTicks = [0, 0.25, 0.5];
      for(const t of yTicks){
        const Y = y0 - (y0-y1)*t/0.5;
        ctx.fillText(String(t.toFixed(2)), x0 - 42, Y+4);
      }

      ctx.restore();
    }

    // ===== Physics functions (normalized by I0) =====
    // IA/I0 = 1/2
    function IA_norm(){ return 0.5; }
    // IB/I0 = (1/2) cos^2 θ
    function IB_norm(thetaDeg){
      const th = deg2rad(thetaDeg);
      return 0.5 * Math.cos(th)**2;
    }
    // IC/I0 = (1/8) sin^2(2θ)
    function IC_norm(thetaDeg){
      const th = deg2rad(thetaDeg);
      return 0.125 * Math.sin(2*th)**2;
    }

    // ===== DOM bindings =====
    const theta = document.getElementById('theta');
    const thetaLabel = document.getElementById('thetaLabel');
    const IA = document.getElementById('IA');
    const IB = document.getElementById('IB');
    const IC = document.getElementById('IC');

    const cB = document.getElementById('plotB');
    const cC = document.getElementById('plotC');
    const ctxB = cB.getContext('2d');
    const ctxC = cC.getContext('2d');

    function render(){
      const th = Number(theta.value);
      thetaLabel.textContent = th + '°';

      IA.textContent = IA_norm().toFixed(4);
      IB.textContent = IB_norm(th).toFixed(4);
      IC.textContent = IC_norm(th).toFixed(4);

      // Plot B
      const WB = cB.width, HB = cB.height;
      const axesB = drawAxes(ctxB, WB, HB, 64);
      drawCurve(ctxB, axesB, (x)=>IB_norm(x), 0, 180, 0, 0.5, th);
      labelPlot(ctxB, axesB, 'IB/I0 vs θ', 'IB/I0');

      // Plot C
      const WC = cC.width, HC = cC.height;
      const axesC = drawAxes(ctxC, WC, HC, 64);
      drawCurve(ctxC, axesC, (x)=>IC_norm(x), 0, 180, 0, 0.5, th);
      labelPlot(ctxC, axesC, 'IC/I0 vs θ', 'IC/I0');
    }

    theta.addEventListener('input', render);

    // Buttons
    document.getElementById('btnPrint').addEventListener('click', () => window.print());
    document.getElementById('btnCopyLink').addEventListener('click', async () => {
      try{
        const url = location.href.split('#')[0] + '#top';
        await navigator.clipboard.writeText(url);
        const btn = document.getElementById('btnCopyLink');
        const old = btn.innerHTML;
        btn.innerHTML = old.replace('Copy link','Copied!');
        setTimeout(()=> btn.innerHTML = old, 900);
      }catch(e){
        alert('Could not copy link (clipboard permission).');
      }
    });

    // Redraw on theme change / resize
    const media = window.matchMedia('(prefers-color-scheme: dark)');
    media.addEventListener?.('change', render);
    window.addEventListener('resize', () => {
      // Canvas has fixed internal resolution; re-render for crispness if device pixel ratio changes
      render();
    });

    // Initial render
    render();
  </script>
</body>
</html>
