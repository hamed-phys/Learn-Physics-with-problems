<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pressure Wave in a Tube (Open‚ÄìClosed) ‚Äî Full Solution (Problem 3)</title>
  <meta name="description" content="Expert-level physics tutor solution: boundary conditions, normal modes, mode amplitudes, and pressure sketch at t=2L/v for a pressure pulse in an open‚Äìclosed tube." />

  <!-- Open Graph / Social -->
  <meta property="og:title" content="Pressure Wave in a Tube (Open‚ÄìClosed) ‚Äî Full Solution" />
  <meta property="og:description" content="Boundary conditions, normal modes, amplitudes, and time-evolution sketch at t=2L/v." />
  <meta property="og:type" content="article" />

  <!-- MathJax for LaTeX rendering -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['\\[','\\]']] },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <style>
    :root{
      --bg: #0b1020;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.085);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.66);
      --faint: rgba(255,255,255,.42);
      --border: rgba(255,255,255,.14);
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius: 18px;
      --radius2: 26px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;

      --accent: #7dd3fc;
      --accent2: #a78bfa;
      --good: #34d399;
      --warn: #fbbf24;
      --bad: #fb7185;
      --link: #93c5fd;

      --grid: rgba(255,255,255,.04);
      --glow: 0 0 0 1px rgba(255,255,255,.08), 0 0 70px rgba(125,211,252,.08);
    }

    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f8ff;
        --panel: rgba(18,24,56,.05);
        --panel2: rgba(18,24,56,.07);
        --text: rgba(18,24,56,.92);
        --muted: rgba(18,24,56,.62);
        --faint: rgba(18,24,56,.42);
        --border: rgba(18,24,56,.14);
        --shadow: 0 18px 60px rgba(18,24,56,.18);
        --grid: rgba(18,24,56,.04);
        --glow: 0 0 0 1px rgba(18,24,56,.08), 0 0 70px rgba(125,211,252,.14);
      }
    }

    *{ box-sizing: border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 20% 8%, rgba(167,139,250,.20), transparent 55%),
        radial-gradient(900px 600px at 80% 12%, rgba(125,211,252,.18), transparent 50%),
        radial-gradient(900px 700px at 50% 100%, rgba(52,211,153,.14), transparent 55%),
        linear-gradient(180deg, var(--bg), var(--bg));
      overflow-x:hidden;
    }

    .bg-grid{
      position: fixed;
      inset: 0;
      pointer-events: none;
      background-image:
        linear-gradient(to right, var(--grid) 1px, transparent 1px),
        linear-gradient(to bottom, var(--grid) 1px, transparent 1px);
      background-size: 48px 48px;
      mask-image: radial-gradient(600px 450px at 50% 30%, rgba(0,0,0,.9), transparent 70%);
      opacity:.9;
    }

    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 28px 18px 80px;
    }

    header.hero{
      position: relative;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--panel2), var(--panel));
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      padding: 28px 22px;
      overflow: hidden;
    }

    .hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(700px 320px at 15% 12%, rgba(125,211,252,.18), transparent 60%),
        radial-gradient(640px 340px at 80% 18%, rgba(167,139,250,.18), transparent 60%),
        radial-gradient(640px 340px at 55% 90%, rgba(52,211,153,.14), transparent 60%);
      filter: blur(6px);
      opacity:.85;
      pointer-events:none;
    }

    .hero > *{ position: relative; }

    .eyebrow{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap: wrap;
      color: var(--muted);
      font-size: 14px;
      letter-spacing: .04em;
      text-transform: uppercase;
    }
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.05);
      box-shadow: var(--glow);
      font-family: var(--mono);
      font-size: 12px;
      color: var(--text);
      white-space: nowrap;
    }
    .dot{
      width:9px;height:9px;border-radius:50%;
      background: linear-gradient(180deg,var(--accent),var(--accent2));
      box-shadow: 0 0 0 4px rgba(125,211,252,.12);
    }

    h1{
      margin: 14px 0 10px;
      font-size: clamp(26px, 3.2vw, 44px);
      line-height: 1.06;
      letter-spacing: -0.02em;
    }
    .sub{
      margin: 0;
      color: var(--muted);
      font-size: clamp(15px, 1.25vw, 18px);
      line-height: 1.6;
      max-width: 85ch;
    }

    .meta{
      margin-top: 18px;
      display:flex;
      gap:10px;
      flex-wrap: wrap;
    }

    nav.toc{
      margin-top: 18px;
      border-top: 1px dashed var(--border);
      padding-top: 16px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }
    .toc h2{
      margin:0;
      font-size: 15px;
      letter-spacing: .02em;
      color: var(--text);
      display:flex;
      align-items:center;
      gap:10px;
    }
    .toc h2 span{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 5px 9px;
      background: rgba(255,255,255,.04);
    }
    .toc a{
      color: var(--link);
      text-decoration: none;
    }
    .toc a:hover{ text-decoration: underline; }

    .grid{
      margin-top: 20px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 16px;
    }

    @media (min-width: 920px){
      .grid{
        grid-template-columns: 1.2fr .8fr;
        align-items: start;
      }
      .sticky{
        position: sticky;
        top: 18px;
      }
    }

    .card{
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--panel2), var(--panel));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .hd{
      padding: 16px 16px 10px;
      border-bottom: 1px solid rgba(255,255,255,.06);
      display:flex;
      align-items: baseline;
      justify-content: space-between;
      gap:12px;
    }
    .card .hd h2{
      margin:0;
      font-size: 18px;
      letter-spacing: -.01em;
    }
    .tag{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 6px 10px;
      background: rgba(255,255,255,.04);
      white-space: nowrap;
    }
    .card .bd{
      padding: 16px;
    }

    .kicker{
      color: var(--muted);
      font-size: 14px;
      margin: 0 0 12px;
      line-height: 1.6;
    }

    .sec{
      scroll-margin-top: 24px;
    }

    .cols{
      display:grid;
      gap: 12px;
    }
    @media (min-width: 720px){
      .cols{ grid-template-columns: 1fr 1fr; }
    }

    .list{
      margin: 10px 0 0;
      padding: 0 0 0 18px;
      color: var(--text);
      line-height: 1.7;
    }
    .list li{ margin: 6px 0; }
    .muted{ color: var(--muted); }
    .note{
      border: 1px dashed var(--border);
      background: rgba(255,255,255,.03);
      border-radius: 14px;
      padding: 12px 12px;
      line-height: 1.6;
      color: var(--muted);
    }
    .note strong{ color: var(--text); }

    .equations{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.12);
      border-radius: 14px;
      padding: 14px 14px;
      overflow-x:auto;
    }
    @media (prefers-color-scheme: light){
      .equations{ background: rgba(255,255,255,.65); }
    }

    .callout{
      border-left: 4px solid var(--accent);
      background: rgba(125,211,252,.08);
      border-radius: 12px;
      padding: 12px 12px;
      color: var(--text);
      line-height: 1.6;
    }
    .callout .ttl{
      font-weight: 700;
      display:flex;
      align-items:center;
      gap:10px;
      margin: 0 0 6px;
    }
    .callout .ttl .ic{
      width: 26px; height: 26px;
      border-radius: 8px;
      display:grid; place-items:center;
      background: linear-gradient(180deg, rgba(125,211,252,.35), rgba(167,139,250,.22));
      border: 1px solid rgba(255,255,255,.14);
    }

    details{
      border: 1px solid var(--border);
      background: rgba(255,255,255,.04);
      border-radius: 14px;
      padding: 10px 12px;
    }
    summary{
      cursor:pointer;
      list-style: none;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      user-select: none;
      font-weight: 650;
    }
    summary::-webkit-details-marker{ display:none; }
    .chev{
      width: 10px; height: 10px;
      border-right: 2px solid var(--muted);
      border-bottom: 2px solid var(--muted);
      transform: rotate(45deg);
      transition: transform .2s ease;
      margin-left: 10px;
      flex: 0 0 auto;
    }
    details[open] .chev{ transform: rotate(225deg); }

    .mini{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      margin-top: 8px;
    }

    /* Figure */
    .figure{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      overflow:hidden;
      background: rgba(255,255,255,.03);
    }
    .figure .cap{
      padding: 10px 12px;
      border-top: 1px solid rgba(255,255,255,.07);
      color: var(--muted);
      font-size: 13px;
      line-height: 1.5;
    }

    svg{ display:block; width:100%; height:auto; }

    /* Buttons */
    .actions{
      display:flex;
      gap:10px;
      flex-wrap: wrap;
      margin-top: 14px;
    }
    button.btn{
      appearance:none;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--text);
      border-radius: 999px;
      padding: 10px 12px;
      font-family: var(--sans);
      font-weight: 650;
      cursor:pointer;
      transition: transform .12s ease, background .2s ease, border-color .2s ease;
    }
    button.btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.20);
    }
    .btn.primary{
      background: linear-gradient(180deg, rgba(125,211,252,.28), rgba(167,139,250,.18));
      border-color: rgba(125,211,252,.30);
      box-shadow: var(--glow);
    }

    /* Footer */
    footer{
      margin-top: 22px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.6;
      text-align: center;
    }

    /* Print */
    @media print{
      body{ background:#fff; color:#000; }
      .bg-grid{ display:none; }
      header.hero, .card{ box-shadow:none; }
      a{ color:#000; text-decoration: underline; }
      button{ display:none; }
    }
  </style>
</head>

<body>
  <div class="bg-grid" aria-hidden="true"></div>

  <main class="wrap">
    <header class="hero">
      <div class="eyebrow">
        <span class="pill"><span class="dot" aria-hidden="true"></span> Linear Acoustics ‚Ä¢ 1D Wave Equation</span>
        <span class="pill">Open‚ÄìClosed Tube</span>
        <span class="pill">Normal Modes + Initial Value Problem</span>
      </div>
      <h1>Pressure Wave in a Tube (Open at \(x=0\), Closed at \(x=L\))</h1>
      <p class="sub">
        A rectangular pressure disturbance of width \(L/3\) centered at \(L/2\) is released from rest.
        We derive boundary conditions, build the normal-mode expansion, compute the mode amplitudes,
        and sketch the pressure at \(t=2L/v\).
      </p>

      <div class="meta">
        <span class="pill">Given: \(v, L, P_0, P_1\)</span>
        <span class="pill">Disturbance: \(p(x,0)=P(x,0)-P_0\)</span>
        <span class="pill">Interval: \([L/3,\,2L/3]\)</span>
      </div>

      <nav class="toc" aria-label="Table of contents">
        <h2>Jump to <span>Sections</span></h2>
        <div class="muted">
          <a href="#part1">PART 1 ‚Äî Problem Analysis</a> ¬∑
          <a href="#part2">PART 2 ‚Äî Strategy &amp; Tips</a> ¬∑
          <a href="#part3">PART 3 ‚Äî Full Solution</a>
        </div>
      </nav>
    </header>

    <section class="grid">
      <!-- MAIN COLUMN -->
      <article class="card">
        <div class="hd">
          <h2 id="part1" class="sec">PART 1 ‚Äî Problem Analysis (no solving yet)</h2>
          <span class="tag">Structure-required</span>
        </div>
        <div class="bd">
          <p class="kicker">
            We translate the physical situation into a clean mathematical initial‚Äìboundary value problem,
            identify what is given/unknown, and choose the best method to solve.
          </p>

          <div class="cols">
            <div class="note">
              <strong>Restated problem.</strong><br/>
              A gas-filled 1D tube \(0\le x\le L\) is open to a large reservoir at \(x=0\) and closed at \(x=L\).
              The speed of sound is \(v\). At \(t=0\), the pressure has a small rectangular ‚Äúbump‚Äù:
              \(P=P_1\) on \([L/3,\,2L/3]\) and \(P=P_0\) elsewhere, and the system is released from rest.
              Find boundary conditions, normal-mode expansion, mode amplitudes, and the pressure profile at \(t=2L/v\).
            </div>

            <div class="note">
              <strong>Small-disturbance variable.</strong><br/>
              Work with the pressure disturbance
              \[
                p(x,t)\equiv P(x,t)-P_0,
              \]
              because it satisfies homogeneous boundary conditions and obeys a linear wave equation.
            </div>
          </div>

          <h3 style="margin:16px 0 8px;">Given quantities</h3>
          <ul class="list">
            <li>Tube length \(L\), domain \(0\le x\le L\)</li>
            <li>Sound speed \(v\)</li>
            <li>Ambient pressure \(P_0\)</li>
            <li>Elevated pressure in the pulse \(P_1\) with \(\Delta P=P_1-P_0\) small</li>
            <li>Pulse location: centered at \(L/2\) with width \(L/3\Rightarrow x\in[L/3,2L/3]\)</li>
            <li>Released from rest: \(p_t(x,0)=0\)</li>
          </ul>

          <h3 style="margin:16px 0 8px;">Unknowns</h3>
          <ul class="list">
            <li>The full field \(P(x,t)\) (or \(p(x,t)\)) for \(t>0\)</li>
            <li>The normal-mode amplitudes (Fourier coefficients) \(C_n\) (and possibly \(D_n\))</li>
          </ul>

          <h3 style="margin:16px 0 8px;">What must be found</h3>
          <ul class="list">
            <li>(a) Boundary conditions at \(x=0\) and \(x=L\)</li>
            <li>(b) Normal-mode form including mode shapes, \(k_n\), \(\omega_n\), time dependence</li>
            <li>(c) Amplitude of the \(n\)-th normal mode for the initial top-hat pulse</li>
            <li>(d) Sketch of pressure at \(t=2L/v\)</li>
          </ul>

          <h3 style="margin:16px 0 8px;">Relevant principles (and why)</h3>
          <ul class="list">
            <li><strong>Linear acoustics:</strong> \(\Delta P\) is small, so linearization applies and \(p\) satisfies \(p_{tt}=v^2 p_{xx}\).</li>
            <li><strong>Boundary physics:</strong> open end \(\Rightarrow\) pressure clamped to ambient (\(p=0\)); closed end \(\Rightarrow\) no flow (\(u=0\Rightarrow p_x=0\)).</li>
            <li><strong>Eigenmode expansion:</strong> linear PDE + fixed BCs \(\Rightarrow\) solution decomposes into orthogonal normal modes.</li>
          </ul>

          <h3 style="margin:16px 0 8px;">Candidate approaches</h3>
          <ul class="list">
            <li><strong>Normal modes (separation of variables):</strong> systematic, matches problem‚Äôs request, coefficients from orthogonality.</li>
            <li><strong>Traveling-wave reflection (d‚ÄôAlembert + reflection rules):</strong> intuitive for sketching, but bookkeeping becomes tricky with mixed ends.</li>
            <li><strong>Method of images/symmetry extension:</strong> elegant but requires careful symmetry construction.</li>
          </ul>

          <div class="callout" style="margin-top:14px;">
            <p class="ttl"><span class="ic" aria-hidden="true">‚úì</span>Best approach</p>
            <p class="kicker" style="margin:0;">
              Use <strong>normal-mode expansion</strong>: it directly produces \(\{k_n,\omega_n\}\),
              fits parts (b)‚Äì(c), and makes part (d) a clean phase argument.
            </p>
          </div>
        </div>
      </article>

      <!-- SIDEBAR -->
      <aside class="card sticky" aria-label="Key setup and figures">
        <div class="hd">
          <h2>Visual + Quick Facts</h2>
          <span class="tag">Reference</span>
        </div>
        <div class="bd">
          <div class="figure" role="img" aria-label="Tube diagram and initial pressure pulse">
            <!-- Inline SVG figure -->
            <svg viewBox="0 0 880 520" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0" stop-color="rgba(125,211,252,.65)"/>
                  <stop offset="1" stop-color="rgba(167,139,250,.55)"/>
                </linearGradient>
                <linearGradient id="g2" x1="0" y1="0" x2="1" y2="0">
                  <stop offset="0" stop-color="rgba(255,255,255,.18)"/>
                  <stop offset="1" stop-color="rgba(255,255,255,.04)"/>
                </linearGradient>
              </defs>

              <!-- Tube -->
              <rect x="110" y="58" width="660" height="62" rx="16" fill="url(#g2)" stroke="rgba(255,255,255,.18)" stroke-width="2"/>
              <!-- Open end at x=0 -->
              <line x1="110" y1="58" x2="110" y2="120" stroke="rgba(255,255,255,.25)" stroke-width="4"/>
              <text x="96" y="142" fill="rgba(255,255,255,.78)" font-family="ui-monospace,monospace" font-size="20">0</text>
              <text x="70" y="90" fill="rgba(255,255,255,.65)" font-family="ui-sans-serif,system-ui" font-size="18">open</text>

              <!-- Closed end at x=L -->
              <rect x="770" y="54" width="18" height="70" fill="rgba(255,255,255,.30)"/>
              <text x="760" y="142" fill="rgba(255,255,255,.78)" font-family="ui-monospace,monospace" font-size="20">L</text>
              <text x="720" y="90" fill="rgba(255,255,255,.65)" font-family="ui-sans-serif,system-ui" font-size="18">closed</text>

              <!-- Axes for pressure plot -->
              <line x1="110" y1="430" x2="790" y2="430" stroke="rgba(255,255,255,.22)" stroke-width="2"/>
              <line x1="140" y1="250" x2="140" y2="458" stroke="rgba(255,255,255,.22)" stroke-width="2"/>

              <text x="104" y="438" fill="rgba(255,255,255,.70)" font-family="ui-monospace,monospace" font-size="18">0</text>
              <text x="774" y="458" fill="rgba(255,255,255,.70)" font-family="ui-monospace,monospace" font-size="18">L</text>
              <text x="534" y="458" fill="rgba(255,255,255,.55)" font-family="ui-monospace,monospace" font-size="16">x</text>

              <!-- Baseline P0 -->
              <line x1="140" y1="380" x2="790" y2="380" stroke="rgba(255,255,255,.18)" stroke-width="2" stroke-dasharray="6 6"/>
              <text x="92" y="386" fill="rgba(255,255,255,.70)" font-family="ui-monospace,monospace" font-size="18">P0</text>

              <!-- P1 label -->
              <text x="92" y="278" fill="rgba(255,255,255,.70)" font-family="ui-monospace,monospace" font-size="18">P1</text>

              <!-- Initial top-hat pulse: from L/3 to 2L/3 -->
              <!-- Map x: [0,L] -> [140,790]; L/3 -> 140 + 650/3; 2L/3 -> 140 + 2*650/3 -->
              <path d="
                M 356.7 380
                L 356.7 285
                L 573.3 285
                L 573.3 380
                " fill="rgba(125,211,252,.18)" stroke="url(#g1)" stroke-width="3"/>

              <!-- Width marker L/3 -->
              <line x1="356.7" y1="310" x2="573.3" y2="310" stroke="rgba(255,255,255,.35)" stroke-width="2"/>
              <polygon points="356.7,310 368,304 368,316" fill="rgba(255,255,255,.45)"/>
              <polygon points="573.3,310 562,304 562,316" fill="rgba(255,255,255,.45)"/>
              <text x="442" y="302" fill="rgba(255,255,255,.72)" font-family="ui-monospace,monospace" font-size="16">L/3</text>

              <!-- Center mark L/2 -->
              <line x1="465" y1="430" x2="465" y2="445" stroke="rgba(255,255,255,.35)" stroke-width="2"/>
              <text x="452" y="470" fill="rgba(255,255,255,.70)" font-family="ui-monospace,monospace" font-size="16">L/2</text>

              <text x="140" y="230" fill="rgba(255,255,255,.60)" font-family="ui-sans-serif,system-ui" font-size="16">
                Initial pressure profile at t=0
              </text>
            </svg>

            <div class="cap">
              The initial disturbance is a rectangular ‚Äútop-hat‚Äù of height \(\Delta P=P_1-P_0\) on \([L/3,\,2L/3]\).
              Left end is open (pressure node), right end is closed (velocity node).
            </div>
          </div>

          <div class="actions">
            <button class="btn primary" type="button" id="toggleAll">Expand/Collapse All</button>
            <button class="btn" type="button" id="copyKey">Copy Key Results</button>
          </div>

          <p class="mini" id="copyStatus" aria-live="polite"></p>
        </div>
      </aside>
    </section>

    <!-- PART 2 -->
    <section class="card" style="margin-top:16px;">
      <div class="hd">
        <h2 id="part2" class="sec">PART 2 ‚Äî Strategy &amp; Tips (roadmap only)</h2>
        <span class="tag">No algebra yet</span>
      </div>
      <div class="bd">
        <p class="kicker">
          Minimal roadmap (5‚Äì10 steps). Each step includes its goal and the tool/principle used.
        </p>

        <ol class="list">
          <li>
            <strong>Define disturbance variable.</strong><br/>
            <span class="muted">Goal:</span> enforce homogeneous BCs and linearize neatly.<br/>
            <span class="muted">Tool:</span> \(p(x,t)=P(x,t)-P_0\).
          </li>
          <li>
            <strong>Translate boundaries into BCs.</strong><br/>
            <span class="muted">Goal:</span> mathematical BCs at open/closed ends.<br/>
            <span class="muted">Tool:</span> open \(\Rightarrow p(0,t)=0\); closed \(\Rightarrow u(L,t)=0\Rightarrow p_x(L,t)=0\).
          </li>
          <li>
            <strong>Write governing PDE.</strong><br/>
            <span class="muted">Goal:</span> set the model for \(t>0\).<br/>
            <span class="muted">Tool:</span> linear wave equation \(p_{tt}=v^2 p_{xx}\).
          </li>
          <li>
            <strong>Solve the eigenvalue problem.</strong><br/>
            <span class="muted">Goal:</span> find spatial modes \(X_n(x)\) satisfying BCs.<br/>
            <span class="muted">Tool:</span> separation \(p=X T\Rightarrow X''+k^2X=0\).
          </li>
          <li>
            <strong>Build the mode expansion.</strong><br/>
            <span class="muted">Goal:</span> express general solution as sum of modes.<br/>
            <span class="muted">Tool:</span> \(T_n=\cos(\omega_n t)\), \(\sin(\omega_n t)\), with \(\omega_n=vk_n\).
          </li>
          <li>
            <strong>Apply ‚Äúreleased from rest‚Äù.</strong><br/>
            <span class="muted">Goal:</span> eliminate sine-time coefficients using \(p_t(x,0)=0\).<br/>
            <span class="muted">Tool:</span> evaluate \(p_t\) at \(t=0\).
          </li>
          <li>
            <strong>Project the initial top-hat onto modes.</strong><br/>
            <span class="muted">Goal:</span> compute \(C_n\) via orthogonality integrals.<br/>
            <span class="muted">Tool:</span> \(\int_0^L \sin(k_n x)\sin(k_m x)\,dx \propto \delta_{nm}\).
          </li>
          <li>
            <strong>Sketch \(t=2L/v\) using phase logic.</strong><br/>
            <span class="muted">Goal:</span> avoid full recomputation; use a global sign/phase result.<br/>
            <span class="muted">Tool:</span> evaluate \(\cos(\omega_n t)\) at \(t=2L/v\).
          </li>
        </ol>

        <div class="cols" style="margin-top:14px;">
          <div class="note">
            <strong>Common mistakes.</strong>
            <ul class="list">
              <li>Swapping BCs: open end is \(p=0\), closed end is \(p_x=0\).</li>
              <li>Forgetting \(p_t(x,0)=0\) (kills \(\sin\) time terms).</li>
              <li>Wrong pulse interval: width \(L/3\) centered at \(L/2\Rightarrow [L/3,2L/3]\).</li>
              <li>Normalization slip in orthogonality integrals.</li>
            </ul>
          </div>
          <div class="note">
            <strong>Quick tips.</strong>
            <ul class="list">
              <li>Work with \(p=P-P_0\) to keep BCs homogeneous.</li>
              <li>Remember: open‚Äìclosed tube ‚Üí quarter-wave spectrum \(kL=(n+\tfrac12)\pi\).</li>
              <li>For part (d), check whether the phase factor becomes \(\pm 1\) for all modes at the asked time.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- PART 3 -->
    <section class="card" style="margin-top:16px;">
      <div class="hd">
        <h2 id="part3" class="sec">PART 3 ‚Äî Full Solution</h2>
        <span class="tag">Derivation + boxed results</span>
      </div>
      <div class="bd">
        <div class="callout">
          <p class="ttl"><span class="ic" aria-hidden="true">üß†</span>Physical intuition</p>
          <p class="kicker" style="margin:0;">
            A small pressure ‚Äúbump‚Äù splits into waves moving left and right.
            At an <strong>open</strong> end the pressure disturbance must vanish (pressure node),
            while at a <strong>closed</strong> end the gas velocity must vanish (velocity node).
            The normal modes encode these reflection rules automatically via boundary conditions.
          </p>
        </div>

        <h3 style="margin:18px 0 8px;">Setup: disturbance variable and initial data</h3>
        <div class="equations">
          \[
            p(x,t)\equiv P(x,t)-P_0.
          \]
          \[
            p(x,0)=
            \begin{cases}
              \Delta P \equiv (P_1-P_0), & x\in [L/3,\,2L/3],\\
              0, & \text{otherwise},
            \end{cases}
            \qquad
            p_t(x,0)=0.
          \]
        </div>

        <h3 style="margin:18px 0 8px;">(a) Boundary conditions at \(x=0\) and \(x=L\)</h3>

        <details open>
          <summary>
            Open end at \(x=0\): pressure clamped
            <span class="chev" aria-hidden="true"></span>
          </summary>
          <p class="kicker">
            The tube is open to a large reservoir at ambient pressure \(P_0\). Therefore
            the disturbance must vanish at the opening:
          </p>
          <div class="equations">
            \[
              P(0,t)=P_0 \quad\Rightarrow\quad p(0,t)=0.
            \]
          </div>
        </details>

        <div style="height:10px;"></div>

        <details open>
          <summary>
            Closed end at \(x=L\): no flow \(\Rightarrow p_x(L,t)=0\)
            <span class="chev" aria-hidden="true"></span>
          </summary>
          <p class="kicker">
            At a rigid wall, the particle velocity is zero: \(u(L,t)=0\).
            In linear acoustics, the 1D momentum equation gives
            \(\displaystyle u_t=-(1/\rho_0)\,p_x\).
            If \(u(L,t)=0\) for all \(t\), then \(u_t(L,t)=0\) and hence \(p_x(L,t)=0\).
          </p>
          <div class="equations">
            \[
              u(L,t)=0 \quad\Rightarrow\quad p_x(L,t)=0.
            \]
          </div>
        </details>

        <div class="equations" style="margin-top:12px;">
          \[
            \boxed{\,p(0,t)=0,\qquad \frac{\partial p}{\partial x}(L,t)=0\,}
          \]
        </div>

        <h3 style="margin:18px 0 8px;">(b) Normal-mode expansion, mode shapes, \(k_n\), \(\omega_n\)</h3>

        <details open>
          <summary>
            Wave equation + separation of variables
            <span class="chev" aria-hidden="true"></span>
          </summary>
          <p class="kicker">
            For small disturbances, \(p\) satisfies the 1D wave equation:
          </p>
          <div class="equations">
            \[
              p_{tt}=v^2 p_{xx}.
            \]
          </div>
          <p class="kicker">
            Use \(p(x,t)=X(x)T(t)\). Substitution yields:
          </p>
          <div class="equations">
            \[
              \frac{T''}{v^2 T}=\frac{X''}{X}=-k^2
              \quad\Rightarrow\quad
              X''+k^2X=0,\qquad T''+\omega^2T=0,\ \ \omega=vk.
            \]
          </div>
        </details>

        <div style="height:10px;"></div>

        <details open>
          <summary>
            Apply boundary conditions to quantize \(k\)
            <span class="chev" aria-hidden="true"></span>
          </summary>
          <p class="kicker">
            Solve \(X''+k^2X=0\Rightarrow X=A\sin(kx)+B\cos(kx)\).
            Apply \(p(0,t)=0\Rightarrow X(0)=0\Rightarrow B=0\), so \(X=A\sin(kx)\).
            Apply \(p_x(L,t)=0\Rightarrow X'(L)=0\).
          </p>
          <div class="equations">
            \[
              X'(x)=Ak\cos(kx)\quad\Rightarrow\quad X'(L)=Ak\cos(kL)=0
              \ \Rightarrow\ \cos(kL)=0.
            \]
            \[
              kL=\left(n+\tfrac12\right)\pi,\qquad n=0,1,2,\dots
            \]
            \[
              \boxed{\,k_n=\frac{(2n+1)\pi}{2L}\,},\qquad
              \boxed{\,\omega_n=vk_n=\frac{(2n+1)\pi v}{2L}\,}.
            \]
          </div>
        </details>

        <div style="height:10px;"></div>

        <details open>
          <summary>
            Build the full series solution
            <span class="chev" aria-hidden="true"></span>
          </summary>
          <p class="kicker">
            The time solution is \(T_n(t)=C_n\cos(\omega_n t)+D_n\sin(\omega_n t)\).
            Hence the general normal-mode expansion is:
          </p>
          <div class="equations">
            \[
              p(x,t)=\sum_{n=0}^{\infty}\sin(k_n x)\Big[C_n\cos(\omega_n t)+D_n\sin(\omega_n t)\Big].
            \]
          </div>
        </details>

        <h3 style="margin:18px 0 8px;">Use the ‚Äúreleased from rest‚Äù condition</h3>
        <p class="kicker">
          Differentiate with respect to time and set \(t=0\):
        </p>
        <div class="equations">
          \[
            p_t(x,t)=\sum_{n=0}^{\infty}\sin(k_n x)\Big[-C_n\omega_n\sin(\omega_n t)+D_n\omega_n\cos(\omega_n t)\Big].
          \]
          \[
            p_t(x,0)=\sum_{n=0}^{\infty}D_n\omega_n\sin(k_n x)=0\ \ \forall x
            \quad\Rightarrow\quad D_n=0.
          \]
          \[
            \boxed{\,p(x,t)=\sum_{n=0}^{\infty} C_n\,\sin(k_n x)\cos(\omega_n t)\,}.
          \]
        </div>

        <h3 style="margin:18px 0 8px;">(c) Amplitude \(C_n\) of the \(n\)-th normal mode</h3>
        <p class="kicker">
          At \(t=0\), \(p(x,0)=\sum C_n\sin(k_n x)\). Use orthogonality:
          \(\displaystyle \int_0^L \sin(k_n x)\sin(k_m x)\,dx=\frac{L}{2}\delta_{nm}\).
        </p>
        <div class="equations">
          \[
            \int_0^L p(x,0)\sin(k_m x)\,dx
            =\sum_{n=0}^\infty C_n\int_0^L \sin(k_n x)\sin(k_m x)\,dx
            = C_m\frac{L}{2}.
          \]
          \[
            \Rightarrow\quad
            C_m=\frac{2}{L}\int_0^L p(x,0)\sin(k_m x)\,dx.
          \]
        </div>

        <p class="kicker">
          Now substitute the top-hat initial condition \(p(x,0)=\Delta P\) on \([L/3,2L/3]\) and \(0\) elsewhere:
        </p>
        <div class="equations">
          \[
            C_n=\frac{2}{L}\int_{L/3}^{2L/3}\Delta P\,\sin(k_n x)\,dx
            =\frac{2\Delta P}{L}\left[\frac{-\cos(k_n x)}{k_n}\right]_{L/3}^{2L/3}.
          \]
          \[
            \boxed{
              C_n=\frac{2\Delta P}{Lk_n}\Big(\cos(k_n L/3)-\cos(2k_n L/3)\Big)
            }.
          \]
        </div>

        <p class="kicker">
          A compact trig simplification uses \(\cos a-\cos b = 2\sin\!\left(\frac{a+b}{2}\right)\sin\!\left(\frac{b-a}{2}\right)\):
        </p>
        <div class="equations">
          \[
            \cos(k_nL/3)-\cos(2k_nL/3)=2\sin\!\left(\frac{k_nL}{2}\right)\sin\!\left(\frac{k_nL}{6}\right),
          \]
          \[
            \boxed{
              C_n=\frac{4\Delta P}{Lk_n}\,
              \sin\!\left(\frac{k_nL}{2}\right)\,
              \sin\!\left(\frac{k_nL}{6}\right)
            },
            \qquad
            k_n=\frac{(2n+1)\pi}{2L}.
          \]
        </div>

        <p class="kicker">If you prefer a fully explicit \(n\)-formula:</p>
        <div class="equations">
          \[
            \boxed{
              C_n=\frac{8\Delta P}{(2n+1)\pi}\,
              \sin\!\left(\frac{(2n+1)\pi}{4}\right)\,
              \sin\!\left(\frac{(2n+1)\pi}{12}\right)
            }.
          \]
        </div>

        <h3 style="margin:18px 0 8px;">(d) Pressure sketch at \(t=2L/v\)</h3>
        <p class="kicker">
          The key is that every mode picks up the same phase factor at \(t=2L/v\).
        </p>
        <div class="equations">
          \[
            p(x,t)=\sum_{n=0}^\infty C_n\sin(k_n x)\cos(\omega_n t),
            \qquad \omega_n=vk_n.
          \]
          \[
            \omega_n\left(\frac{2L}{v}\right)=vk_n\frac{2L}{v}=2Lk_n
            =2L\cdot\frac{(2n+1)\pi}{2L}=(2n+1)\pi.
          \]
          \[
            \cos((2n+1)\pi)=-1 \quad \forall n
            \quad\Rightarrow\quad
            p\!\left(x,\frac{2L}{v}\right)=-\sum_{n=0}^\infty C_n\sin(k_n x)=-p(x,0).
          \]
          \[
            \boxed{\,p(x,2L/v)=-p(x,0)\,}.
          \]
        </div>

        <p class="kicker">
          Convert back to total pressure \(P=P_0+p\). Since initially \(P=P_1\) on \([L/3,2L/3]\) and \(P=P_0\) elsewhere,
          the profile at \(t=2L/v\) is the same rectangle but flipped below \(P_0\):
        </p>
        <div class="equations">
          \[
            \boxed{
              P\!\left(x,\frac{2L}{v}\right)=
              \begin{cases}
                2P_0-P_1, & x\in [L/3,\,2L/3],\\
                P_0, & \text{otherwise}.
              \end{cases}
            }
          \]
        </div>

        <details>
          <summary>
            Sanity checks (units ‚Ä¢ limits ‚Ä¢ interpretation)
            <span class="chev" aria-hidden="true"></span>
          </summary>
          <div class="equations" style="margin-top:10px;">
            \[
              [k_n]=\text{m}^{-1},\qquad [\omega_n]=\text{s}^{-1},\qquad [C_n]=\text{Pa}.
            \]
          </div>
          <ul class="list">
            <li><strong>Units:</strong> \(k_n\propto 1/L\) has units \(\text{m}^{-1}\). \(\omega_n=vk_n\) has units \(\text{s}^{-1}\). \(C_n\) scales with \(\Delta P\) so it is pressure.</li>
            <li><strong>Limiting case \(\Delta P\to 0\):</strong> \(C_n\to 0\Rightarrow p\to 0\) (no disturbance).</li>
            <li><strong>Longer tube:</strong> \(k_n\) spacing decreases, \(\omega_n\) decreases \(\propto 1/L\) (lower resonant frequencies).</li>
            <li><strong>Interpretation:</strong> Open‚Äìclosed tube supports quarter-wave spectrum \(kL=(n+\tfrac12)\pi\). At \(t=2L/v\), every mode flips sign, so the initial bump becomes a dip of equal magnitude.</li>
          </ul>
        </details>

        <div class="callout" style="margin-top:14px; border-left-color: var(--good); background: rgba(52,211,153,.08);">
          <p class="ttl"><span class="ic" aria-hidden="true">üìå</span>Final boxed summary</p>
          <div class="equations">
            \[
              \boxed{\,p(0,t)=0,\quad p_x(L,t)=0\,}
            \]
            \[
              \boxed{
              p(x,t)=\sum_{n=0}^\infty C_n\sin\!\left(\frac{(2n+1)\pi x}{2L}\right)
              \cos\!\left(\frac{(2n+1)\pi v t}{2L}\right)
              }
            \]
            \[
              \boxed{
              C_n=\frac{2\Delta P}{Lk_n}\Big(\cos(k_n L/3)-\cos(2k_n L/3)\Big),\ \ k_n=\frac{(2n+1)\pi}{2L}
              }
            \]
            \[
              \boxed{
              P(x,2L/v)=
              \begin{cases}
                2P_0-P_1, & x\in[L/3,2L/3],\\
                P_0, & \text{otherwise}.
              \end{cases}
              }
            \]
          </div>
        </div>
      </div>
    </section>

    <footer>
      <p>
        Built as an embeddable article: responsive layout, MathJax equations, collapsible derivations, and copy-ready results.
      </p>
    </footer>
  </main>

  <script>
    (function(){
      const toggleBtn = document.getElementById('toggleAll');
      const details = Array.from(document.querySelectorAll('details'));
      let expanded = true; // initial: many open

      toggleBtn?.addEventListener('click', () => {
        expanded = !expanded;
        details.forEach(d => d.open = expanded);
        toggleBtn.textContent = expanded ? 'Expand/Collapse All' : 'Expand/Collapse All';
      });

      const copyBtn = document.getElementById('copyKey');
      const status = document.getElementById('copyStatus');

      function keyResultsText(){
        return [
          "KEY RESULTS ‚Äî Pressure Wave in Open‚ÄìClosed Tube",
          "",
          "(a) Boundary conditions:",
          "  p(0,t) = 0",
          "  ‚àÇp/‚àÇx (L,t) = 0",
          "",
          "(b) Modes:",
          "  k_n = (2n+1)œÄ/(2L),   œâ_n = v k_n = (2n+1)œÄ v/(2L)",
          "  p(x,t) = Œ£_{n=0}^‚àû C_n sin(k_n x) cos(œâ_n t)   (released from rest ‚áí no sin-time term)",
          "",
          "(c) Amplitudes for initial top-hat on [L/3, 2L/3]:",
          "  ŒîP = P1 - P0",
          "  C_n = (2ŒîP/(L k_n)) [ cos(k_n L/3) - cos(2 k_n L/3) ]",
          "      = (4ŒîP/(L k_n)) sin(k_n L/2) sin(k_n L/6)",
          "",
          "(d) At t = 2L/v:",
          "  cos(œâ_n 2L/v) = cos((2n+1)œÄ) = -1 ‚áí p(x,2L/v) = -p(x,0)",
          "  Therefore:",
          "    P(x,2L/v) = 2P0 - P1 on [L/3,2L/3], and P0 elsewhere."
        ].join("\n");
      }

      copyBtn?.addEventListener('click', async () => {
        try{
          await navigator.clipboard.writeText(keyResultsText());
          status.textContent = "Copied key results to clipboard.";
          setTimeout(()=> status.textContent = "", 2400);
        }catch(e){
          status.textContent = "Copy failed (browser blocked clipboard). You can manually select and copy from the page.";
          setTimeout(()=> status.textContent = "", 3400);
        }
      });
    })();
  </script>
</body>
</html>
