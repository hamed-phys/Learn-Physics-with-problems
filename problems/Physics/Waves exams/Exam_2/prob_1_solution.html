<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <meta name="description" content="Expert physics tutor solutions (A–E) presented as a polished, interactive article." />
  <title>Problem 1 (30 pts) — Full Structured Solutions (A–E)</title>

  <!-- OpenGraph / Social -->
  <meta property="og:title" content="Problem 1 (30 pts) — Full Structured Solutions (A–E)" />
  <meta property="og:description" content="Rigorous but beginner-friendly solutions with analysis, strategy, and full derivations." />
  <meta property="og:type" content="article" />

  <!-- Typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300..900&family=JetBrains+Mono:wght@300..800&display=swap" rel="stylesheet" />

  <!-- MathJax (LaTeX) -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['\\[','\\]']] },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    /* =========================
       Design System (Advanced)
       ========================= */
    :root{
      --bg0: #070A12;
      --bg1: rgba(255,255,255,0.04);
      --bg2: rgba(255,255,255,0.07);
      --card: rgba(255,255,255,0.06);
      --card2: rgba(255,255,255,0.085);
      --stroke: rgba(255,255,255,0.12);
      --stroke2: rgba(255,255,255,0.18);

      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.70);
      --faint: rgba(255,255,255,0.55);

      --acc: #7C5CFF;
      --acc2:#00E5FF;
      --good:#34D399;
      --warn:#FBBF24;

      --shadow: 0 20px 60px rgba(0,0,0,0.55);
      --radius-xl: 24px;
      --radius-lg: 18px;
      --radius-md: 14px;
      --radius-sm: 12px;

      --mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    @media (prefers-color-scheme: light){
      :root{
        --bg0:#F7F8FD;
        --bg1: rgba(0,0,0,0.03);
        --bg2: rgba(0,0,0,0.05);
        --card: rgba(0,0,0,0.03);
        --card2: rgba(0,0,0,0.045);
        --stroke: rgba(0,0,0,0.10);
        --stroke2: rgba(0,0,0,0.14);
        --text: rgba(10,12,18,0.92);
        --muted: rgba(10,12,18,0.70);
        --faint: rgba(10,12,18,0.55);
        --shadow: 0 20px 60px rgba(10,12,18,0.12);
      }
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(124,92,255,0.25), transparent 55%),
        radial-gradient(900px 600px at 80% 20%, rgba(0,229,255,0.18), transparent 55%),
        radial-gradient(800px 600px at 50% 90%, rgba(52,211,153,0.12), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg0));
      overflow-x:hidden;
      line-height:1.6;
    }

    a{ color:inherit; text-decoration:none; }
    a:hover{ text-decoration:underline; text-decoration-color: rgba(124,92,255,0.7); }

    /* =========================
       Layout
       ========================= */
    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 28px 18px 80px;
    }

    header.hero{
      position:relative;
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--card), transparent 90%);
      border-radius: var(--radius-xl);
      padding: 28px 22px;
      box-shadow: var(--shadow);
      overflow:hidden;
      isolation:isolate;
    }

    .hero::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(420px 240px at 12% 12%, rgba(124,92,255,0.22), transparent 65%),
        radial-gradient(420px 240px at 85% 20%, rgba(0,229,255,0.18), transparent 65%),
        radial-gradient(380px 220px at 60% 90%, rgba(52,211,153,0.14), transparent 65%);
      filter: blur(10px);
      z-index:-1;
    }

    .hero-top{
      display:flex;
      gap:16px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .kicker{
      font-family: var(--mono);
      font-size: 12px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--muted);
      display:flex;
      align-items:center;
      gap:10px;
    }

    .pill{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--bg2), transparent);
      padding: 6px 10px;
      border-radius: 999px;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      display:inline-flex;
      align-items:center;
      gap:8px;
      user-select:none;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .title{
      margin: 10px 0 8px;
      font-size: clamp(28px, 3.2vw, 44px);
      line-height: 1.1;
      letter-spacing: -0.03em;
    }

    .subtitle{
      margin: 0;
      color: var(--muted);
      max-width: 72ch;
    }

    .hero-actions{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .btn{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--bg2), transparent 85%);
      border-radius: 12px;
      padding: 10px 12px;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--text);
      cursor:pointer;
      user-select:none;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display:inline-flex;
      gap:10px;
      align-items:center;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: var(--stroke2);
      background: linear-gradient(180deg, rgba(124,92,255,0.12), transparent 85%);
    }
    .btn:active{ transform: translateY(0px) scale(0.99); }

    .grid{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    @media (min-width: 980px){
      .grid{
        grid-template-columns: 340px 1fr;
        gap: 16px;
        align-items:start;
      }
    }

    /* =========================
       Sidebar (TOC)
       ========================= */
    aside.toc{
      position: sticky;
      top: 16px;
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--card), transparent 92%);
      border-radius: var(--radius-lg);
      padding: 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .toc h3{
      margin: 2px 0 10px;
      font-size: 14px;
      letter-spacing: -0.01em;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }

    .toc small{ color: var(--muted); font-weight:500; }

    .toc nav{
      display:flex;
      flex-direction:column;
      gap: 8px;
    }

    .toc a{
      border: 1px solid transparent;
      border-radius: 12px;
      padding: 10px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      background: rgba(255,255,255,0.02);
      transition: border-color .15s ease, transform .15s ease, background .15s ease;
    }
    .toc a:hover{
      border-color: var(--stroke);
      background: rgba(124,92,255,0.08);
      transform: translateY(-1px);
      text-decoration:none;
    }

    .tag{
      font-family: var(--mono);
      font-size: 11px;
      color: var(--muted);
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,0.05), transparent);
      padding: 4px 8px;
      border-radius: 999px;
      white-space:nowrap;
    }

    /* =========================
       Main content
       ========================= */
    main{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--card), transparent 92%);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .section{
      padding: 18px 18px;
      border-top: 1px solid var(--stroke);
    }
    .section:first-child{ border-top: none; }

    .section h2{
      margin: 0 0 10px;
      font-size: 18px;
      letter-spacing: -0.02em;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    .section h2 span{
      display:flex;
      gap:10px;
      align-items:center;
    }

    .chip{
      font-family: var(--mono);
      font-size: 11px;
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--bg2), transparent);
      padding: 4px 8px;
      border-radius: 999px;
      color: var(--muted);
    }

    .two{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }
    @media (min-width: 820px){
      .two{ grid-template-columns: 1fr 1fr; }
    }

    .card{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--card2), transparent 92%);
      border-radius: var(--radius-md);
      padding: 14px;
      overflow:hidden;
    }

    .card h3{
      margin: 0 0 8px;
      font-size: 14px;
      letter-spacing: -0.01em;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .muted{ color: var(--muted); }
    .faint{ color: var(--faint); }
    .mono{ font-family: var(--mono); }

    ul.clean{
      margin: 8px 0 0;
      padding-left: 18px;
      color: var(--muted);
    }

    .callout{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(124,92,255,0.12), transparent 88%);
      border-radius: var(--radius-md);
      padding: 12px 12px;
      margin-top: 10px;
    }

    .callout strong{
      color: var(--text);
    }

    /* =========================
       Q Cards (A–E)
       ========================= */
    .qa{
      display:grid;
      gap: 12px;
      margin-top: 8px;
    }

    details.problem{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,0.055), transparent 90%);
      border-radius: var(--radius-lg);
      overflow:hidden;
    }

    details.problem[open]{
      border-color: rgba(124,92,255,0.32);
      box-shadow: 0 18px 50px rgba(124,92,255,0.12);
    }

    summary.problem-head{
      list-style:none;
      cursor:pointer;
      padding: 14px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      user-select:none;
    }
    summary.problem-head::-webkit-details-marker{ display:none; }

    .head-left{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 0;
    }

    .badge{
      width: 34px;
      height: 34px;
      border-radius: 12px;
      display:grid;
      place-items:center;
      font-family: var(--mono);
      font-weight: 700;
      border: 1px solid var(--stroke);
      background:
        radial-gradient(18px 18px at 35% 30%, rgba(0,229,255,0.25), transparent 60%),
        radial-gradient(18px 18px at 75% 70%, rgba(124,92,255,0.25), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,0.06), transparent 85%);
    }

    .head-title{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width:0;
    }

    .head-title b{
      font-size: 14px;
      letter-spacing:-0.01em;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .head-title span{
      font-size: 12px;
      color: var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .head-right{
      display:flex;
      align-items:center;
      gap: 10px;
      flex-shrink:0;
    }

    .icon{
      width: 18px;
      height: 18px;
      opacity: 0.85;
      transition: transform .2s ease;
    }

    details[open] .icon{
      transform: rotate(180deg);
    }

    .problem-body{
      padding: 0 14px 14px;
      border-top: 1px solid var(--stroke);
    }

    .subgrid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
      margin-top: 12px;
    }

    @media (min-width: 860px){
      .subgrid{ grid-template-columns: 1fr 1fr; }
      .subgrid .full{ grid-column: 1 / -1; }
    }

    .eq{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      border: 1px dashed var(--stroke);
      border-radius: 14px;
      padding: 10px 10px;
      background: rgba(0,0,0,0.12);
      overflow:auto;
    }
    @media (prefers-color-scheme: light){
      .eq{ background: rgba(255,255,255,0.6); }
    }

    .answer{
      border: 1px solid rgba(52,211,153,0.35);
      background: linear-gradient(180deg, rgba(52,211,153,0.14), transparent 88%);
      border-radius: 16px;
      padding: 12px 12px;
      margin-top: 12px;
    }
    .answer .boxed{
      display:inline-block;
      border: 1px solid rgba(52,211,153,0.5);
      border-radius: 14px;
      padding: 8px 10px;
      background: rgba(52,211,153,0.08);
      font-family: var(--mono);
      font-size: 13px;
    }

    .sanity{
      margin-top: 10px;
      display:grid;
      gap: 10px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 860px){
      .sanity{ grid-template-columns: repeat(3, 1fr); }
    }

    .san{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,0.05), transparent 90%);
      border-radius: 14px;
      padding: 10px;
    }

    .san h4{
      margin:0 0 6px;
      font-size: 12px;
      letter-spacing: 0.02em;
      text-transform: uppercase;
      color: var(--muted);
      font-family: var(--mono);
    }

    /* =========================
       Footer
       ========================= */
    footer{
      margin-top: 16px;
      color: var(--muted);
      font-size: 13px;
      text-align:center;
    }

    /* =========================
       Print (article style)
       ========================= */
    @media print{
      body{ background:#fff; color:#111; }
      header.hero, aside.toc, .btn{ display:none !important; }
      main{ box-shadow:none; border: none; }
      .section, details.problem{ break-inside: avoid; }
      details.problem{ border: 1px solid #ddd; }
      .eq{ background:#f6f6f6; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header class="hero" id="top">
      <div class="hero-top">
        <div>
          <div class="kicker">
            <span class="pill">Physics • Waves • EM • Optics</span>
            <span class="pill">Problem 1 (30 pts)</span>
            <span class="pill">Solutions A–E</span>
          </div>
          <h1 class="title">Problem 1 — Full Structured Solutions (A–E)</h1>
          <p class="subtitle">
            A polished, rigorous, beginner-friendly write-up in the requested structure:
            <span class="mono">Analysis → Strategy → Full Solution</span>, with boxed final answers and sanity checks.
          </p>
        </div>
        <div class="hero-actions">
          <button class="btn" id="expandAll" type="button" aria-label="Expand all problems">
            <span>Expand All</span>
            <span class="tag">A–E</span>
          </button>
          <button class="btn" id="collapseAll" type="button" aria-label="Collapse all problems">
            <span>Collapse All</span>
            <span class="tag">A–E</span>
          </button>
          <button class="btn" id="copySummary" type="button" aria-label="Copy final answers">
            <span>Copy Final Answers</span>
            <span class="tag">Boxed</span>
          </button>
        </div>
      </div>
    </header>

    <div class="grid">
      <aside class="toc" aria-label="Table of contents">
        <h3>
          <span>Navigation</span>
          <small class="mono">Jump</small>
        </h3>
        <nav>
          <a href="#part1">
            <span><b>PART 1</b> <span class="muted">Problem Analysis</span></span>
            <span class="tag">No solving</span>
          </a>
          <a href="#part2">
            <span><b>PART 2</b> <span class="muted">Strategy & Tips</span></span>
            <span class="tag">Roadmap</span>
          </a>
          <a href="#part3">
            <span><b>PART 3</b> <span class="muted">Full Solution</span></span>
            <span class="tag">A–E</span>
          </a>
          <a href="#final">
            <span><b>Final</b> <span class="muted">Answers at a glance</span></span>
            <span class="tag">Boxed</span>
          </a>
          <a href="#top">
            <span><b>Top</b> <span class="muted">Back to header</span></span>
            <span class="tag">↑</span>
          </a>
        </nav>

        <div class="callout" style="margin-top:12px;">
          <div class="mono" style="font-size:12px; color:var(--muted);">Tip</div>
          <div>
            Click any problem card (A–E) to expand it. Use <span class="mono">Expand All</span> when studying.
          </div>
        </div>
      </aside>

      <main>
        <!-- =========================
             PART 1
        ========================= -->
        <section class="section" id="part1">
          <h2>
            <span>PART 1 — Problem Analysis</span>
            <span class="chip">No solving yet</span>
          </h2>

          <div class="two">
            <div class="card">
              <h3>Rewrite the problem (A–E)</h3>
              <p class="muted">
                You must answer five short questions:
                (A) EM wave → perfect conductor: boundary condition on the electric field at the surface (outside).
                (B) AM station wants better time resolution: should it increase or decrease bandwidth \(\Delta f\)?
                (C) Lowest angular frequency of acoustic normal modes in a room \(L\times L\times 16L\).
                (D) Fixed-end string (length \(2L\)), tension \(T\), linear density \(\rho_L\), released from a given shape with zero initial velocity:
                find recurrence time without Fourier decomposition.
                (E) Multi-layer refraction: given \(n_1=1\), \(\alpha=60^\circ\), final angle \(\beta=45^\circ\), find \(n_4\).
              </p>
            </div>

            <div class="card">
              <h3>What’s given vs. unknown?</h3>
              <ul class="clean">
                <li><b>A:</b> perfect conductor; unknown: \(\mathbf{E}\) boundary condition at surface.</li>
                <li><b>B:</b> bandwidth \(\Delta f\); unknown: direction of change for better \(\Delta t\).</li>
                <li><b>C:</b> room dimensions and sound speed \(v\); unknown: \(\omega_{\min}\).</li>
                <li><b>D:</b> string parameters \(2L,T,\rho_L\); unknown: recurrence time \(t_{\text{return}}\).</li>
                <li><b>E:</b> \(n_1=1\), \(\alpha=60^\circ\), \(\beta=45^\circ\); unknown: \(n_4\).</li>
              </ul>
            </div>
          </div>

          <div class="card" style="margin-top:12px;">
            <h3>Relevant principles (and why they apply)</h3>
            <ul class="clean">
              <li><b>A:</b> Maxwell boundary conditions + perfect conductor property \(\Rightarrow \mathbf{E}_\parallel\) cancels at surface.</li>
              <li><b>B:</b> Fourier time–bandwidth tradeoff \(\Delta t \sim 1/\Delta f\) \(\Rightarrow\) time resolution ↔ bandwidth.</li>
              <li><b>C:</b> Standing-wave normal modes in rectangular cavity \(\Rightarrow\) discrete frequencies from wave equation.</li>
              <li><b>D:</b> 1D wave equation on finite string; non-dispersive \(c=\sqrt{T/\rho_L}\) \(\Rightarrow\) clean recurrence by re-phasing.</li>
              <li><b>E:</b> Snell’s law / conserved tangential wavevector in layered media \(\Rightarrow n\sin\theta\) invariant across parallel planes.</li>
            </ul>
          </div>

          <div class="card" style="margin-top:12px;">
            <h3>Approaches (compare & choose best)</h3>
            <div class="two">
              <div class="card" style="border-color: var(--stroke2);">
                <h3 class="mono">Best choices</h3>
                <ul class="clean">
                  <li><b>A:</b> Maxwell boundary conditions at PEC (fast + rigorous).</li>
                  <li><b>B:</b> Fourier argument \(\Delta t \sim 1/\Delta f\) (direct).</li>
                  <li><b>C:</b> Rectangular-mode formula (clean).</li>
                  <li><b>D:</b> Reflection + common-mode re-phasing (no explicit Fourier decomposition needed).</li>
                  <li><b>E:</b> Chain Snell across layers → invariance (simplest).</li>
                </ul>
              </div>
              <div class="card">
                <h3 class="mono">Alternatives</h3>
                <ul class="clean">
                  <li><b>A:</b> Pure physical reasoning about surface charges (intuitive but less formal).</li>
                  <li><b>C:</b> Geometric “largest dimension → lowest frequency” (good intuition, still needs formula).</li>
                  <li><b>D:</b> Full Fourier series (explicit but disallowed by prompt).</li>
                  <li><b>E:</b> Wavevector \(k_\parallel\) conservation (equivalent but more abstract).</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- =========================
             PART 2
        ========================= -->
        <section class="section" id="part2">
          <h2>
            <span>PART 2 — Strategy & Tips</span>
            <span class="chip">Roadmap only</span>
          </h2>

          <div class="two">
            <div class="card">
              <h3>Minimal plan (5–10 steps)</h3>
              <ol class="clean">
                <li><b>A:</b> Impose PEC boundary: \(\mathbf{E}_\parallel=0\) at surface.</li>
                <li><b>B:</b> Use \(\Delta t \sim 1/\Delta f\) to decide direction for better time resolution.</li>
                <li><b>C:</b> Write rectangular cavity mode frequencies; pick smallest nonzero indices.</li>
                <li><b>D:</b> Compute \(c=\sqrt{T/\rho_L}\); use fixed-end reflections and common-mode re-phasing for recurrence time.</li>
                <li><b>E:</b> Apply Snell across parallel layers → \(n\sin\theta\) constant; solve for \(n_4\).</li>
              </ol>
            </div>

            <div class="card">
              <h3>Common mistakes (quick tips)</h3>
              <ul class="clean">
                <li><b>A:</b> Not “\(\mathbf{E}=0\) everywhere”; only \(\mathbf{E}_\parallel=0\) outside at the surface (inside PEC \(\mathbf{E}=0\)).</li>
                <li><b>B:</b> Don’t confuse carrier frequency \(f\) with bandwidth \(\Delta f\).</li>
                <li><b>C:</b> Lowest mode is along the longest dimension \(16L\).</li>
                <li><b>D:</b> Arbitrary shape recurrence needs full re-phasing; don’t guess \(2L/c\).</li>
                <li><b>E:</b> Don’t solve intermediate angles unnecessarily; parallel planes simplify it.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- =========================
             PART 3
        ========================= -->
        <section class="section" id="part3">
          <h2>
            <span>PART 3 — Full Solution</span>
            <span class="chip">Rigorous, step-by-step</span>
          </h2>

          <div class="qa">

            <!-- A -->
            <details class="problem" open>
              <summary class="problem-head">
                <div class="head-left">
                  <div class="badge">A</div>
                  <div class="head-title">
                    <b>EM wave → perfect conductor</b>
                    <span>Boundary condition on \(\mathbf{E}\) at the surface (outside)</span>
                  </div>
                </div>
                <div class="head-right">
                  <span class="tag">Maxwell BC</span>
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </div>
              </summary>

              <div class="problem-body">
                <div class="subgrid">
                  <div class="card">
                    <h3>Physical intuition</h3>
                    <p class="muted">
                      In a perfect conductor, charges move freely. Any tangential electric field would drive unbounded surface currents,
                      so charges rearrange instantly to cancel the tangential component at the surface.
                    </p>
                  </div>

                  <div class="card">
                    <h3>Key principle</h3>
                    <p class="muted">
                      Maxwell tangential-\(\mathbf{E}\) boundary condition:
                      \(\hat{\mathbf{n}}\times(\mathbf{E}_2-\mathbf{E}_1)=\mathbf{0}\).
                      Inside a perfect conductor, \(\mathbf{E}_2=\mathbf{0}\).
                    </p>
                  </div>

                  <div class="card full">
                    <h3>Derivation (step-by-step)</h3>
                    <div class="eq">
                      1) Boundary condition:  \(\hat{\mathbf{n}}\times(\mathbf{E}_{\text{inside}}-\mathbf{E}_{\text{outside}})=\mathbf{0}\).<br/>
                      2) For PEC: \(\mathbf{E}_{\text{inside}}=\mathbf{0}\).<br/>
                      3) Therefore: \(\hat{\mathbf{n}}\times\mathbf{E}_{\text{outside}}=\mathbf{0}\).<br/>
                      4) Meaning: the tangential component vanishes: \(\mathbf{E}_{\parallel,\text{surface}}=\mathbf{0}\).
                    </div>

                    <div class="answer">
                      <div class="boxed">
                        \(\boxed{\ \mathbf{E}_{\parallel}\big|_{\text{surface}}=0\ \text{(just outside a perfect conductor)}\ }\)
                      </div>
                    </div>

                    <div class="sanity">
                      <div class="san">
                        <h4>Units</h4>
                        <div class="muted">Component condition; units consistent.</div>
                      </div>
                      <div class="san">
                        <h4>Limit</h4>
                        <div class="muted">Finite conductivity → small but nonzero \(\mathbf{E}_\parallel\).</div>
                      </div>
                      <div class="san">
                        <h4>Meaning</h4>
                        <div class="muted">\(\mathbf{E}\) at the surface is purely normal.</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </details>

            <!-- B -->
            <details class="problem">
              <summary class="problem-head">
                <div class="head-left">
                  <div class="badge">B</div>
                  <div class="head-title">
                    <b>AM station bandwidth</b>
                    <span>Better time resolution: increase or decrease \(\Delta f\)?</span>
                  </div>
                </div>
                <div class="head-right">
                  <span class="tag">Fourier</span>
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </div>
              </summary>

              <div class="problem-body">
                <div class="subgrid">
                  <div class="card">
                    <h3>Physical intuition</h3>
                    <p class="muted">
                      Sharp changes in time require higher-frequency components. Narrow bandwidth forces smoother time-domain behavior.
                    </p>
                  </div>

                  <div class="card">
                    <h3>Key relation</h3>
                    <p class="muted">
                      Time–bandwidth tradeoff: \(\Delta t\,\Delta f \gtrsim \mathcal{O}(1)\).
                      Smaller \(\Delta t\) requires larger \(\Delta f\).
                    </p>
                  </div>

                  <div class="card full">
                    <h3>Derivation (step-by-step)</h3>
                    <div class="eq">
                      1) Signal contains frequencies spread over \(\Delta f\).<br/>
                      2) Fourier localization implies \(\Delta t \sim 1/\Delta f\).<br/>
                      3) Better time resolution means smaller \(\Delta t\).<br/>
                      4) Therefore choose larger \(\Delta f\).
                    </div>

                    <div class="answer">
                      <div class="boxed">
                        \(\boxed{\ \text{Increase }\Delta f\ \text{ to improve time resolution (smaller }\Delta t\text{).}\ }\)
                      </div>
                    </div>

                    <div class="sanity">
                      <div class="san">
                        <h4>Units</h4>
                        <div class="muted">\(\Delta t\) (s), \(\Delta f\) (Hz) → product dimensionless-ish constant.</div>
                      </div>
                      <div class="san">
                        <h4>Limit</h4>
                        <div class="muted">\(\Delta f\to 0\) → pure tone → no sharp timing info.</div>
                      </div>
                      <div class="san">
                        <h4>Meaning</h4>
                        <div class="muted">More bandwidth carries faster variations (but uses more spectrum).</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </details>

            <!-- C -->
            <details class="problem">
              <summary class="problem-head">
                <div class="head-left">
                  <div class="badge">C</div>
                  <div class="head-title">
                    <b>Room normal modes</b>
                    <span>Lowest angular frequency in \(L\times L\times 16L\)</span>
                  </div>
                </div>
                <div class="head-right">
                  <span class="tag">Standing waves</span>
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </div>
              </summary>

              <div class="problem-body">
                <div class="subgrid">
                  <div class="card">
                    <h3>Physical intuition</h3>
                    <p class="muted">
                      Lowest frequency = largest wavelength that fits. That occurs along the longest dimension \(16L\).
                    </p>
                  </div>

                  <div class="card">
                    <h3>Mode formula</h3>
                    <p class="muted">
                      \( f_{mnp}=\dfrac{v}{2}\sqrt{\left(\frac{m}{L_x}\right)^2+\left(\frac{n}{L_y}\right)^2+\left(\frac{p}{L_z}\right)^2} \),
                      with \(m,n,p\in\mathbb{Z}_{\ge0}\) not all zero.
                    </p>
                  </div>

                  <div class="card full">
                    <h3>Derivation (step-by-step)</h3>
                    <div class="eq">
                      1) Here \(L_x=L\), \(L_y=L\), \(L_z=16L\).<br/>
                      2) To minimize \(f_{mnp}\), choose the smallest nonzero index in the largest length: \((m,n,p)=(0,0,1)\).<br/>
                      3) Then \( f_{\min}=\dfrac{v}{2}\left(\dfrac{1}{16L}\right)=\dfrac{v}{32L}\).<br/>
                      4) Convert to angular frequency: \(\omega_{\min}=2\pi f_{\min}=\dfrac{\pi v}{16L}\).
                    </div>

                    <div class="answer">
                      <div class="boxed">
                        \(\boxed{\ \omega_{\min}=\dfrac{\pi v}{16L}\ }\)
                      </div>
                    </div>

                    <div class="sanity">
                      <div class="san">
                        <h4>Units</h4>
                        <div class="muted">\(v/L\) has units \(1/\text{s}\) → \(\omega\) in rad/s.</div>
                      </div>
                      <div class="san">
                        <h4>Limit</h4>
                        <div class="muted">Longer room → smaller \(\omega_{\min}\).</div>
                      </div>
                      <div class="san">
                        <h4>Meaning</h4>
                        <div class="muted">Fundamental fits half-wavelength into \(16L\): \(\lambda=32L\).</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </details>

            <!-- D -->
            <details class="problem">
              <summary class="problem-head">
                <div class="head-left">
                  <div class="badge">D</div>
                  <div class="head-title">
                    <b>Fixed-end string recurrence</b>
                    <span>Return time for arbitrary shape, non-dispersive, \(\dot y(x,0)=0\)</span>
                  </div>
                </div>
                <div class="head-right">
                  <span class="tag">Wave equation</span>
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </div>
              </summary>

              <div class="problem-body">
                <div class="subgrid">
                  <div class="card">
                    <h3>Physical intuition</h3>
                    <p class="muted">
                      With zero initial velocity, the shape can be thought of as two identical traveling pieces moving left/right.
                      Non-dispersive means every feature moves at the same speed \(c\). Recurrence occurs when all allowed modes re-phase
                      simultaneously, which happens at a common period.
                    </p>
                  </div>

                  <div class="card">
                    <h3>Wave speed</h3>
                    <p class="muted">
                      For a stretched string: \(c=\sqrt{T/\rho_L}\).
                    </p>
                  </div>

                  <div class="card full">
                    <h3>Derivation (step-by-step, no explicit Fourier decomposition)</h3>
                    <div class="eq">
                      1) Fixed ends at length \(2L\) imply allowed wavenumbers \(k_n=\dfrac{n\pi}{2L}\), \(n=1,2,\dots\).<br/>
                      2) Non-dispersive string gives \(\omega_n=ck_n=c\dfrac{n\pi}{2L}=n\left(\dfrac{\pi c}{2L}\right)\).<br/>
                      3) With \(\dot y(x,0)=0\), each mode oscillates like \(\cos(\omega_n t)\).<br/>
                      4) Full recurrence requires \(\omega_n t_{\text{return}}=2\pi\times \text{integer}\) for every \(n\).<br/>
                      5) Choosing the minimal common time gives \(t_{\text{return}}=\dfrac{4L}{c}\).<br/>
                      6) Substitute \(c=\sqrt{T/\rho_L}\) to express in given parameters.
                    </div>

                    <div class="answer">
                      <div class="boxed">
                        \(\boxed{\ t_{\text{return}}=\dfrac{4L}{c}=4L\sqrt{\dfrac{\rho_L}{T}}\ }\)
                      </div>
                    </div>

                    <div class="sanity">
                      <div class="san">
                        <h4>Units</h4>
                        <div class="muted">\(L/c\) is seconds. Also \(L\sqrt{\rho_L/T}\) is seconds.</div>
                      </div>
                      <div class="san">
                        <h4>Limit</h4>
                        <div class="muted">\(T\uparrow\Rightarrow c\uparrow\Rightarrow t_{\text{return}}\downarrow\).</div>
                      </div>
                      <div class="san">
                        <h4>Meaning</h4>
                        <div class="muted">Common re-phasing time of all harmonics on a \(2L\) fixed string.</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </details>

            <!-- E -->
            <details class="problem">
              <summary class="problem-head">
                <div class="head-left">
                  <div class="badge">E</div>
                  <div class="head-title">
                    <b>Multi-layer refraction</b>
                    <span>Given \(n_1=1\), \(\alpha=60^\circ\), \(\beta=45^\circ\); find \(n_4\)</span>
                  </div>
                </div>
                <div class="head-right">
                  <span class="tag">Snell</span>
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </div>
              </summary>

              <div class="problem-body">
                <div class="subgrid">
                  <div class="card">
                    <h3>Physical intuition</h3>
                    <p class="muted">
                      For parallel planar interfaces, the tangential component of the wavevector is conserved.
                      Therefore \(n\sin\theta\) remains the same through every layer: intermediate indices don’t matter for the final relation.
                    </p>
                  </div>

                  <div class="card">
                    <h3>Key idea</h3>
                    <p class="muted">
                      Snell’s law at each interface chains to:
                      \[
                        n_1\sin\alpha = n_2\sin\theta_2 = n_3\sin\theta_3 = n_4\sin\beta.
                      \]
                    </p>
                  </div>

                  <div class="card full">
                    <h3>Derivation (step-by-step)</h3>
                    <div class="eq">
                      1) From parallel layering: \(n\sin\theta\) is invariant across all boundaries.<br/>
                      2) Thus \(n_1\sin\alpha = n_4\sin\beta\).<br/>
                      3) Solve: \(n_4=\dfrac{n_1\sin\alpha}{\sin\beta}\).<br/>
                      4) Plug \(n_1=1\), \(\alpha=60^\circ\), \(\beta=45^\circ\):<br/>
                      \(\sin60^\circ=\sqrt3/2\), \(\sin45^\circ=\sqrt2/2\) → \(n_4=\sqrt{3/2}\approx 1.225\).
                    </div>

                    <div class="answer">
                      <div class="boxed">
                        \(\boxed{\ n_4=\sqrt{\dfrac{3}{2}}\approx 1.225\ }\)
                      </div>
                    </div>

                    <div class="sanity">
                      <div class="san">
                        <h4>Units</h4>
                        <div class="muted">Index is dimensionless.</div>
                      </div>
                      <div class="san">
                        <h4>Limit</h4>
                        <div class="muted">\(\alpha=\beta \Rightarrow n_4=n_1\).</div>
                      </div>
                      <div class="san">
                        <h4>Meaning</h4>
                        <div class="muted">Only initial & final angles matter for parallel slabs.</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </details>

          </div>
        </section>

        <!-- =========================
             FINAL
        ========================= -->
        <section class="section" id="final">
          <h2>
            <span>Final Answers (A–E) at a Glance</span>
            <span class="chip">Boxed</span>
          </h2>

          <div class="card">
            <div class="eq" id="finalAnswersBlock">
              <b>A)</b> \(\mathbf{E}_{\parallel}\big|_{\text{surface}}=0\).<br/>
              <b>B)</b> Increase \(\Delta f\) (better time resolution: \(\Delta t \sim 1/\Delta f\)).<br/>
              <b>C)</b> \(\omega_{\min}=\dfrac{\pi v}{16L}\).<br/>
              <b>D)</b> \(t_{\text{return}}=\dfrac{4L}{c}=4L\sqrt{\dfrac{\rho_L}{T}}\), with \(c=\sqrt{T/\rho_L}\).<br/>
              <b>E)</b> \(n_4=\sqrt{\dfrac{3}{2}}\approx 1.225\).
            </div>

            <div class="callout">
              <strong class="mono">Study tip:</strong>
              Expand one problem, rewrite the boxed answer in your own words, then check the sanity checks to lock intuition.
            </div>
          </div>
        </section>
      </main>
    </div>

    <footer>
      <div class="mono">Article-ready HTML • MathJax LaTeX • Expand/Collapse • Copy boxed answers • Print-friendly</div>
    </footer>
  </div>

  <script>
    // =========================
    // UX helpers (advanced but lightweight)
    // =========================
    const problems = Array.from(document.querySelectorAll("details.problem"));

    document.getElementById("expandAll").addEventListener("click", () => {
      problems.forEach(d => d.open = true);
      scrollToFirstClosed(false);
    });

    document.getElementById("collapseAll").addEventListener("click", () => {
      problems.forEach(d => d.open = false);
      // Keep PART 3 visible but neat
      const part3 = document.getElementById("part3");
      if (part3) part3.scrollIntoView({ behavior: "smooth", block: "start" });
    });

    function scrollToFirstClosed(behavior = true){
      const first = problems.find(d => d.open);
      if (!first) return;
      if (behavior) first.scrollIntoView({ behavior: "smooth", block: "start" });
    }

    // Copy final answers (plain text)
    document.getElementById("copySummary").addEventListener("click", async () => {
      const txt =
`Final Answers (A–E)
A) E_parallel at surface = 0 (just outside perfect conductor)
B) Increase Δf to improve time resolution (Δt ~ 1/Δf)
C) ω_min = π v / (16 L)
D) t_return = 4L/c = 4L sqrt(ρ_L/T), where c = sqrt(T/ρ_L)
E) n4 = sin(60°)/sin(45°) = sqrt(3/2) ≈ 1.225`;

      try{
        await navigator.clipboard.writeText(txt);
        toast("Copied boxed answers to clipboard ✔");
      }catch(e){
        // Fallback
        const ta = document.createElement("textarea");
        ta.value = txt;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        toast("Copied boxed answers (fallback) ✔");
      }
    });

    // Tiny toast (no deps)
    function toast(msg){
      const t = document.createElement("div");
      t.textContent = msg;
      t.style.position = "fixed";
      t.style.left = "50%";
      t.style.bottom = "18px";
      t.style.transform = "translateX(-50%)";
      t.style.padding = "10px 12px";
      t.style.borderRadius = "14px";
      t.style.border = "1px solid rgba(255,255,255,0.18)";
      t.style.background = "rgba(0,0,0,0.55)";
      t.style.backdropFilter = "blur(12px)";
      t.style.webkitBackdropFilter = "blur(12px)";
      t.style.color = "rgba(255,255,255,0.92)";
      t.style.fontFamily = "JetBrains Mono, ui-monospace, monospace";
      t.style.fontSize = "12px";
      t.style.zIndex = "9999";
      t.style.boxShadow = "0 16px 40px rgba(0,0,0,0.35)";
      t.style.opacity = "0";
      t.style.transition = "opacity .18s ease, transform .18s ease";
      document.body.appendChild(t);
      requestAnimationFrame(() => {
        t.style.opacity = "1";
        t.style.transform = "translateX(-50%) translateY(-2px)";
      });
      setTimeout(() => {
        t.style.opacity = "0";
        t.style.transform = "translateX(-50%) translateY(0px)";
        setTimeout(() => t.remove(), 220);
      }, 1600);
    }

    // Improve keyboard accessibility: Enter toggles details summary already,
    // but we add a subtle focus ring via CSS only if needed
  </script>
</body>
</html>
