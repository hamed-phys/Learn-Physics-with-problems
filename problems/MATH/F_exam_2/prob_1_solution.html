<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Derivatives with Trig Identities — Full Structured Solution</title>

  <!-- ====== SEO / Social ====== -->
  <meta name="description" content="Compute two derivatives using trig identities and careful domain handling. Includes analysis, strategy, full derivation, and sanity checks." />
  <meta property="og:title" content="Derivatives with Trig Identities — Full Structured Solution" />
  <meta property="og:description" content="Step-by-step: analysis, roadmap, derivation, and sanity checks for two trig derivatives." />
  <meta property="og:type" content="article" />

  <!-- ====== Fonts (system-first, no external dependency required) ====== -->
  <style>
    /* =========================
       Advanced Article Theme
       ========================= */

    :root{
      --bg: #070A12;
      --bg2:#0B1220;
      --card:#0D172A;
      --card2:#0A1324;
      --text:#E7EEF8;
      --muted:#A8B3C7;
      --soft:#7E8AA6;
      --line: rgba(231,238,248,.12);

      --accent: #7C5CFF;
      --accent2:#2AD7FF;
      --good:#3DFFB5;
      --warn:#FFCD4A;
      --bad:#FF4D6D;

      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --shadow2: 0 10px 30px rgba(0,0,0,.35);

      --r: 18px;
      --r2: 14px;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 10% 10%, rgba(124,92,255,.22), transparent 60%),
        radial-gradient(900px 600px at 90% 20%, rgba(42,215,255,.20), transparent 55%),
        radial-gradient(700px 500px at 40% 90%, rgba(61,255,181,.10), transparent 55%),
        linear-gradient(180deg, var(--bg), #050711 55%, #04050D);
      overflow-x:hidden;
    }

    /* Subtle animated grid */
    .grid-bg{
      position:fixed;
      inset:0;
      pointer-events:none;
      background-image:
        linear-gradient(to right, rgba(231,238,248,.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(231,238,248,.05) 1px, transparent 1px);
      background-size: 64px 64px;
      mask-image: radial-gradient(closest-side at 40% 25%, rgba(0,0,0,1), rgba(0,0,0,.1) 65%, rgba(0,0,0,0) 90%);
      opacity:.25;
      transform: translateZ(0);
    }
    .grid-bg::after{
      content:"";
      position:absolute;
      inset:-30%;
      background: conic-gradient(from 180deg at 50% 50%, rgba(124,92,255,.10), rgba(42,215,255,.10), rgba(61,255,181,.08), rgba(124,92,255,.10));
      filter: blur(90px);
      opacity:.65;
      animation: drift 14s ease-in-out infinite alternate;
    }
    @keyframes drift{
      0%{transform: translate(-2%, -1%) scale(1.05) rotate(-6deg)}
      100%{transform: translate(2%, 1%) scale(1.08) rotate(6deg)}
    }

    /* Layout */
    .wrap{
      width:min(1100px, 92vw);
      margin: 40px auto 90px;
      position:relative;
      z-index:1;
    }

    /* Hero */
    .hero{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(13,23,42,.88), rgba(10,19,36,.72));
      border-radius: calc(var(--r) + 8px);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(800px 350px at 10% 10%, rgba(124,92,255,.22), transparent 55%),
        radial-gradient(650px 320px at 85% 20%, rgba(42,215,255,.20), transparent 55%),
        radial-gradient(540px 320px at 40% 90%, rgba(61,255,181,.12), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .hero-inner{
      padding: 34px 34px 22px;
      position:relative;
      display:grid;
      gap:14px;
    }
    .kicker{
      display:flex;
      align-items:center;
      gap:10px;
      color: var(--muted);
      font-size: 13px;
      letter-spacing:.12em;
      text-transform:uppercase;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 0 0 4px rgba(124,92,255,.15), 0 0 26px rgba(42,215,255,.25);
    }
    h1{
      margin:0;
      font-size: clamp(26px, 3.5vw, 40px);
      line-height:1.08;
      letter-spacing:-0.02em;
    }
    .subtitle{
      margin:0;
      color: var(--muted);
      font-size: clamp(14px, 1.8vw, 17px);
      max-width: 75ch;
    }

    .hero-actions{
      margin-top: 10px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 999px;
      padding: 10px 14px;
      font-weight: 650;
      font-size: 14px;
      display:inline-flex;
      align-items:center;
      gap:10px;
      color: var(--text);
      background: rgba(231,238,248,.08);
      border:1px solid rgba(231,238,248,.12);
      box-shadow: var(--shadow2);
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(231,238,248,.22); background: rgba(231,238,248,.10);}
    .btn:active{ transform: translateY(0px) scale(.99); }
    .btn.primary{
      background: linear-gradient(135deg, rgba(124,92,255,.95), rgba(42,215,255,.75));
      border-color: rgba(255,255,255,.10);
    }
    .btn.primary:hover{ filter: brightness(1.05); }
    .btn .icon{
      width:18px;height:18px;display:inline-block;
      opacity:.95;
    }

    /* Two-column main */
    .main{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 310px 1fr;
      gap: 16px;
      align-items:start;
    }
    @media (max-width: 980px){
      .main{ grid-template-columns: 1fr; }
    }

    /* Sidebar / TOC */
    .side{
      position: sticky;
      top: 18px;
      border:1px solid var(--line);
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(13,23,42,.75), rgba(10,19,36,.6));
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .side header{
      padding: 16px 16px 12px;
      border-bottom:1px solid rgba(231,238,248,.10);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }
    .side header h2{
      margin:0;
      font-size: 14px;
      letter-spacing:.10em;
      text-transform:uppercase;
      color: var(--muted);
    }
    .pill{
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(231,238,248,.9);
      background: rgba(231,238,248,.08);
      border:1px solid rgba(231,238,248,.12);
      padding: 6px 10px;
      border-radius: 999px;
    }
    .toc{
      padding: 10px 10px 14px;
    }
    .toc a{
      display:flex;
      gap:10px;
      align-items:center;
      padding: 10px 10px;
      border-radius: 12px;
      text-decoration:none;
      color: var(--text);
      border:1px solid transparent;
      transition: background .15s ease, border-color .15s ease;
      outline:none;
    }
    .toc a:hover{
      background: rgba(231,238,248,.06);
      border-color: rgba(231,238,248,.12);
    }
    .toc a.active{
      background: linear-gradient(135deg, rgba(124,92,255,.18), rgba(42,215,255,.10));
      border-color: rgba(124,92,255,.30);
    }
    .toc .tag{
      width: 10px;height:10px;border-radius:50%;
      background: rgba(231,238,248,.25);
      box-shadow: 0 0 0 3px rgba(231,238,248,.06);
      flex:0 0 auto;
    }
    .toc a.active .tag{
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 0 0 4px rgba(124,92,255,.12);
    }
    .toc .label{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width: 0;
    }
    .toc .label b{
      font-size: 13px;
      letter-spacing:.01em;
    }
    .toc .label span{
      font-size: 12px;
      color: var(--muted);
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
      max-width: 260px;
    }

    /* Content cards */
    .content{
      display:flex;
      flex-direction:column;
      gap: 16px;
    }

    .card{
      border:1px solid var(--line);
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(13,23,42,.78), rgba(10,19,36,.62));
      box-shadow: var(--shadow2);
      overflow:hidden;
      position:relative;
    }
    .card header{
      padding: 18px 18px 12px;
      border-bottom:1px solid rgba(231,238,248,.10);
      display:flex;
      flex-wrap:wrap;
      align-items:baseline;
      justify-content:space-between;
      gap:10px;
    }
    .card header h2{
      margin:0;
      font-size: 18px;
      letter-spacing:-0.01em;
    }
    .meta{
      color: var(--muted);
      font-size: 13px;
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid rgba(231,238,248,.12);
      background: rgba(231,238,248,.06);
    }
    .chip i{
      width:8px;height:8px;border-radius:50%;
      display:inline-block;
      background: rgba(231,238,248,.25);
    }
    .chip.good i{ background: var(--good); }
    .chip.warn i{ background: var(--warn); }
    .chip.accent i{ background: linear-gradient(135deg, var(--accent), var(--accent2)); }

    .card .body{
      padding: 18px;
      line-height:1.65;
      color: rgba(231,238,248,.94);
      font-size: 15px;
    }

    /* Math blocks */
    .math{
      font-family: var(--mono);
      font-size: 14px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(231,238,248,.10);
      border-radius: 14px;
      padding: 12px 12px;
      overflow:auto;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
    }
    .math .dim{ color: rgba(231,238,248,.65); }
    .math .eq{ white-space: pre; }

    /* Callouts */
    .callout{
      border-radius: var(--r2);
      padding: 14px 14px;
      border: 1px solid rgba(231,238,248,.12);
      background: rgba(231,238,248,.06);
      display:grid;
      grid-template-columns: 24px 1fr;
      gap:12px;
      align-items:start;
      margin: 12px 0;
    }
    .callout .badge{
      width:24px;height:24px;border-radius: 9px;
      display:grid;place-items:center;
      font-weight:800;
      font-family: var(--mono);
      border:1px solid rgba(231,238,248,.14);
      background: rgba(0,0,0,.18);
    }
    .callout.good{ border-color: rgba(61,255,181,.22); background: rgba(61,255,181,.06); }
    .callout.good .badge{ color: #071; box-shadow: 0 0 0 4px rgba(61,255,181,.10) inset; }
    .callout.warn{ border-color: rgba(255,205,74,.25); background: rgba(255,205,74,.06); }
    .callout.warn .badge{ color:#7a5a00; box-shadow: 0 0 0 4px rgba(255,205,74,.12) inset; }
    .callout.accent{ border-color: rgba(124,92,255,.26); background: rgba(124,92,255,.06); }
    .callout.accent .badge{ color:#2b1f7a; box-shadow: 0 0 0 4px rgba(124,92,255,.12) inset; }

    /* Steps list */
    .steps{
      counter-reset: step;
      list-style:none;
      padding:0;
      margin: 12px 0 0;
      display:grid;
      gap:10px;
    }
    .steps li{
      counter-increment: step;
      border:1px solid rgba(231,238,248,.12);
      background: rgba(0,0,0,.15);
      border-radius: 14px;
      padding: 12px 12px;
      display:grid;
      grid-template-columns: 34px 1fr;
      gap:12px;
      align-items:start;
    }
    .steps li::before{
      content: counter(step);
      width:34px;height:34px;border-radius: 12px;
      display:grid;place-items:center;
      font-family: var(--mono);
      font-weight:800;
      background: linear-gradient(135deg, rgba(124,92,255,.25), rgba(42,215,255,.10));
      border:1px solid rgba(124,92,255,.25);
      color: rgba(231,238,248,.95);
    }

    /* Accordion details */
    details{
      border:1px solid rgba(231,238,248,.12);
      border-radius: 14px;
      background: rgba(0,0,0,.16);
      padding: 12px 12px;
      margin: 12px 0;
    }
    summary{
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      list-style:none;
      font-weight:700;
    }
    summary::-webkit-details-marker{ display:none; }
    summary .hint{
      color: var(--muted);
      font-weight:600;
      font-size: 13px;
    }
    details[open] summary{ margin-bottom: 10px; }
    details .inner{ color: rgba(231,238,248,.92); }

    /* Final boxed answer */
    .final{
      border-radius: calc(var(--r) + 6px);
      border:1px solid rgba(61,255,181,.22);
      background:
        radial-gradient(600px 240px at 20% 20%, rgba(61,255,181,.10), transparent 60%),
        linear-gradient(180deg, rgba(7, 255, 169, .06), rgba(0,0,0,.14));
      padding: 14px 14px;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
      margin: 14px 0 4px;
    }
    .final h3{
      margin:0 0 8px;
      font-size: 14px;
      letter-spacing:.08em;
      text-transform:uppercase;
      color: rgba(231,238,248,.88);
      display:flex;gap:10px;align-items:center;
    }
    .final h3 .spark{
      width:10px;height:10px;border-radius:50%;
      background: var(--good);
      box-shadow: 0 0 0 4px rgba(61,255,181,.10);
    }

    /* Footer */
    .foot{
      margin-top: 16px;
      color: var(--muted);
      font-size: 13px;
      text-align:center;
      opacity:.9;
    }

    /* Tiny utility */
    .muted{ color: var(--muted); }
    .hr{
      height:1px;
      background: rgba(231,238,248,.10);
      margin: 14px 0;
    }
    .kbd{
      font-family: var(--mono);
      font-size: 12px;
      border:1px solid rgba(231,238,248,.14);
      background: rgba(0,0,0,.25);
      padding: 3px 7px;
      border-radius: 8px;
      color: rgba(231,238,248,.9);
    }
  </style>
</head>

<body>
  <div class="grid-bg" aria-hidden="true"></div>

  <article class="wrap" id="top">
    <!-- =======================
         HERO
         ======================= -->
    <section class="hero">
      <div class="hero-inner">
        <div class="kicker">
          <span class="dot" aria-hidden="true"></span>
          <span>Calculus • Trig Identities • Derivatives</span>
        </div>

        <h1>Compute Two Trigonometric Derivatives (Full Structured Solution)</h1>
        <p class="subtitle">
          We compute (a) <span class="kbd">d/dθ</span> of a tangent-rational expression and (b) <span class="kbd">d/dt</span> of a square-root expression,
          using identities, chain rule, and a careful domain sign check.
        </p>

        <div class="hero-actions">
          <button class="btn primary" data-jump="#part1" title="Jump to Problem Analysis">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M7 7h10M7 12h10M7 17h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Start: Analysis
          </button>

          <button class="btn" data-jump="#part3" title="Jump to Full Solution">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Full Solution
          </button>

          <button class="btn" id="copy-results" title="Copy final boxed answers">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M8 8h10v12H8V8Z" stroke="currentColor" stroke-width="2" />
              <path d="M6 16H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1" stroke="currentColor" stroke-width="2" />
            </svg>
            Copy Results
          </button>
        </div>
      </div>
    </section>

    <!-- =======================
         MAIN GRID
         ======================= -->
    <div class="main">
      <!-- TOC -->
      <aside class="side" aria-label="Table of contents">
        <header>
          <h2>Contents</h2>
          <span class="pill" id="read-progress">0%</span>
        </header>

        <nav class="toc" id="toc">
          <a href="#part1">
            <span class="tag" aria-hidden="true"></span>
            <span class="label">
              <b>PART 1 — Problem Analysis</b>
              <span>Given/unknowns, principles, approaches</span>
            </span>
          </a>
          <a href="#part2">
            <span class="tag" aria-hidden="true"></span>
            <span class="label">
              <b>PART 2 — Strategy & Tips</b>
              <span>Roadmap + mistakes to avoid</span>
            </span>
          </a>
          <a href="#part3">
            <span class="tag" aria-hidden="true"></span>
            <span class="label">
              <b>PART 3 — Full Solution</b>
              <span>Derivations + boxed answers + checks</span>
            </span>
          </a>
          <a href="#a">
            <span class="tag" aria-hidden="true"></span>
            <span class="label">
              <b>(a) Tangent expression</b>
              <span>Identity + chain rule</span>
            </span>
          </a>
          <a href="#b">
            <span class="tag" aria-hidden="true"></span>
            <span class="label">
              <b>(b) Square-root expression</b>
              <span>Absolute value + domain</span>
            </span>
          </a>
        </nav>
      </aside>

      <!-- CONTENT -->
      <main class="content">
        <!-- =======================
             PART 1
             ======================= -->
        <section class="card" id="part1">
          <header>
            <h2>PART 1 — Problem Analysis (no solving yet)</h2>
            <div class="meta">
              <span class="chip accent"><i></i>Conceptual setup</span>
              <span class="chip"><i></i>Tools: identities, chain/quotient</span>
            </div>
          </header>

          <div class="body">
            <p>
              We must compute two derivatives and show clear steps:
            </p>

            <div class="math" role="region" aria-label="Problem statements in math form">
              <div class="eq">
(a)   d/dθ [  2 tan(θ) / ( 1 − (tan(θ))² )  ]

(b)   d/dt [ √( 1 − (sin(2t))² ) ],   with  −π/4 &lt; t &lt; π/4
              </div>
            </div>

            <div class="hr"></div>

            <h3 style="margin:0 0 8px;">Given / Unknowns / What to find</h3>
            <ul style="margin:0; padding-left:18px;">
              <li><b>Given:</b> two functions (one in θ, one in t) involving trig functions and algebraic structure.</li>
              <li><b>Unknowns:</b> the derivatives with respect to θ and t.</li>
              <li><b>Goal:</b> final simplified derivative expressions for (a) and (b).</li>
            </ul>

            <div class="callout accent">
              <div class="badge">!</div>
              <div>
                <b>Why the interval matters in (b):</b>
                <span class="muted">
                  \(\sqrt{\cos^2(2t)} = |\cos(2t)|\). The domain tells us the sign of \(\cos(2t)\),
                  so we can remove the absolute value correctly.
                </span>
              </div>
            </div>

            <h3 style="margin:14px 0 8px;">Relevant principles (and why they apply)</h3>
            <ul style="margin:0; padding-left:18px;">
              <li><b>Chain rule</b>: both expressions are compositions (trig inside algebra / trig inside trig).</li>
              <li><b>Trig identities</b>: (a) matches a double-angle identity; (b) uses \(1-\sin^2x=\cos^2x\).</li>
              <li><b>Absolute value logic</b>: \(\sqrt{u^2}=|u|\) is essential for (b) unless a sign is guaranteed.</li>
            </ul>

            <h3 style="margin:14px 0 8px;">Candidate approaches (compare)</h3>
            <ul style="margin:0; padding-left:18px;">
              <li><b>(a) Identity-first:</b> rewrite as \(\tan(2\theta)\), then differentiate (fastest, cleanest).</li>
              <li><b>(a) Quotient rule:</b> differentiate numerator/denominator directly (works but algebra-heavy).</li>
              <li><b>(b) Simplify-first:</b> convert to \(|\cos(2t)|\), use interval to drop absolute value (safest).</li>
              <li><b>(b) Chain rule directly:</b> differentiate square root expression; must still handle sign implicitly.</li>
            </ul>

            <div class="callout good">
              <div class="badge">✓</div>
              <div>
                <b>Best choice:</b>
                <span class="muted">
                  Use identities first for both parts. It reduces algebra and prevents sign errors.
                </span>
              </div>
            </div>
          </div>
        </section>

        <!-- =======================
             PART 2
             ======================= -->
        <section class="card" id="part2">
          <header>
            <h2>PART 2 — Strategy & Tips (roadmap only)</h2>
            <div class="meta">
              <span class="chip"><i></i>5–10 steps</span>
              <span class="chip warn"><i></i>Avoid sign mistakes</span>
            </div>
          </header>

          <div class="body">
            <h3 style="margin:0 0 8px;">(a) Roadmap</h3>
            <ol class="steps">
              <li>
                <div>
                  <b>Goal:</b> detect a known form. <br />
                  <span class="muted"><b>Tool:</b> \(\tan(2\theta)=\dfrac{2\tan\theta}{1-\tan^2\theta}\)</span>
                </div>
              </li>
              <li>
                <div>
                  <b>Goal:</b> rewrite the expression as \(\tan(2\theta)\). <br />
                  <span class="muted"><b>Tool:</b> substitution by identity</span>
                </div>
              </li>
              <li>
                <div>
                  <b>Goal:</b> differentiate \(\tan(\cdot)\). <br />
                  <span class="muted"><b>Tool:</b> \(\dfrac{d}{dx}\tan x=\sec^2 x\)</span>
                </div>
              </li>
              <li>
                <div>
                  <b>Goal:</b> apply chain rule for \(2\theta\). <br />
                  <span class="muted"><b>Tool:</b> \(\dfrac{d}{d\theta}(2\theta)=2\)</span>
                </div>
              </li>
              <li>
                <div>
                  <b>Goal:</b> present a clean final form. <br />
                  <span class="muted"><b>Tool:</b> simplify / optional alternate expressions</span>
                </div>
              </li>
            </ol>

            <div class="hr"></div>

            <h3 style="margin:0 0 8px;">(b) Roadmap</h3>
            <ol class="steps">
              <li>
                <div>
                  <b>Goal:</b> simplify the square root. <br />
                  <span class="muted"><b>Tool:</b> \(1-\sin^2x=\cos^2x\)</span>
                </div>
              </li>
              <li>
                <div>
                  <b>Goal:</b> handle \(\sqrt{\cos^2(2t)}\). <br />
                  <span class="muted"><b>Tool:</b> \(\sqrt{u^2}=|u|\)</span>
                </div>
              </li>
              <li>
                <div>
                  <b>Goal:</b> use the given interval to determine the sign. <br />
                  <span class="muted"><b>Tool:</b> \(-\pi/4&lt;t&lt;\pi/4 \Rightarrow -\pi/2&lt;2t&lt;\pi/2\) so \(\cos(2t)&gt;0\)</span>
                </div>
              </li>
              <li>
                <div>
                  <b>Goal:</b> differentiate \(\cos(2t)\). <br />
                  <span class="muted"><b>Tool:</b> chain rule</span>
                </div>
              </li>
            </ol>

            <details>
              <summary>
                Mistakes to avoid <span class="hint">Click to expand</span>
              </summary>
              <div class="inner">
                <ul style="margin:0; padding-left:18px;">
                  <li><b>(a)</b> forgetting the factor <b>2</b> from \(\dfrac{d}{d\theta}(2\theta)\).</li>
                  <li><b>(b)</b> replacing \(\sqrt{\cos^2(2t)}\) by \(\cos(2t)\) <b>without</b> checking the sign.</li>
                  <li>skipping a quick small-angle check near 0 (great for catching sign/factor errors).</li>
                </ul>
              </div>
            </details>
          </div>
        </section>

        <!-- =======================
             PART 3
             ======================= -->
        <section class="card" id="part3">
          <header>
            <h2>PART 3 — Full Solution</h2>
            <div class="meta">
              <span class="chip good"><i></i>Step-by-step</span>
              <span class="chip"><i></i>Sanity checks included</span>
            </div>
          </header>

          <div class="body">
            <div class="callout accent">
              <div class="badge">Φ</div>
              <div>
                <b>Physical intuition (why a “physics tutor” cares):</b>
                <span class="muted">
                  Derivatives measure <b>rates of change</b>. In physics, trig expressions often encode rotations,
                  phases, or oscillations. Simplifying first is like choosing a coordinate system that makes the
                  rate-of-change calculation clean and robust.
                </span>
              </div>
            </div>

            <!-- (a) -->
            <section id="a" style="scroll-margin-top:18px;">
              <h3 style="margin:0 0 8px;">(a) Differentiate \(\dfrac{2\tan\theta}{1-\tan^2\theta}\)</h3>

              <div class="math" role="region" aria-label="Part a derivation">
                <div class="eq">
Step 1: Use the tangent double-angle identity:
        tan(2θ) = (2 tanθ) / (1 − tan²θ)

So the function becomes:
        (2 tanθ)/(1 − tan²θ) = tan(2θ)

Step 2: Differentiate tan(2θ) using chain rule:
        d/dθ [tan(2θ)] = sec²(2θ) · d/dθ(2θ)
                      = sec²(2θ) · 2
                      = 2 sec²(2θ)
                </div>
              </div>

              <div class="final" aria-label="Final answer for part a">
                <h3><span class="spark" aria-hidden="true"></span>Final Result (a)</h3>
                <div class="math" style="margin:0;">
                  <div class="eq">
d/dθ [ (2 tanθ)/(1 − tan²θ) ]  =  2 sec²(2θ)
                  </div>
                </div>
              </div>

              <details>
                <summary>
                  Sanity checks for (a) <span class="hint">units • limits • interpretation</span>
                </summary>
                <div class="inner">
                  <ul style="margin:0; padding-left:18px;">
                    <li><b>Units:</b> \(\theta\) is dimensionless (radians), so the derivative is dimensionless. ✔</li>
                    <li>
                      <b>Limit near \(\theta=0\):</b> \(\tan(2\theta)\approx 2\theta\) ⇒ derivative \(\approx 2\).
                      Our result gives \(2\sec^2(0)=2\). ✔
                    </li>
                    <li>
                      <b>Interpretation:</b> since \(\sec^2(2\theta)\ge 1\) where defined, the slope is at least 2 in magnitude,
                      and it blows up near points where \(\cos(2\theta)=0\). ✔
                    </li>
                  </ul>
                </div>
              </details>
            </section>

            <div class="hr"></div>

            <!-- (b) -->
            <section id="b" style="scroll-margin-top:18px;">
              <h3 style="margin:0 0 8px;">(b) Differentiate \(\sqrt{1-\sin^2(2t)}\) for \(-\pi/4&lt;t&lt;\pi/4\)</h3>

              <div class="math" role="region" aria-label="Part b derivation">
                <div class="eq">
Step 1: Use the Pythagorean identity:
        1 − sin²(x) = cos²(x)   with x = 2t

So:
        √(1 − sin²(2t)) = √(cos²(2t)) = |cos(2t)|

Step 2: Use the domain to remove the absolute value.
Given:  −π/4 &lt; t &lt; π/4
Multiply by 2:  −π/2 &lt; 2t &lt; π/2
On (−π/2, π/2), cos(2t) &gt; 0
Therefore: |cos(2t)| = cos(2t)

Step 3: Differentiate cos(2t):
        d/dt[cos(2t)] = −sin(2t) · d/dt(2t)
                      = −sin(2t) · 2
                      = −2 sin(2t)
                </div>
              </div>

              <div class="final" aria-label="Final answer for part b">
                <h3><span class="spark" aria-hidden="true"></span>Final Result (b)</h3>
                <div class="math" style="margin:0;">
                  <div class="eq">
d/dt [ √(1 − sin²(2t)) ]  =  −2 sin(2t)     for  −π/4 &lt; t &lt; π/4
                  </div>
                </div>
              </div>

              <details>
                <summary>
                  Sanity checks for (b) <span class="hint">units • limits • interpretation</span>
                </summary>
                <div class="inner">
                  <ul style="margin:0; padding-left:18px;">
                    <li><b>Units:</b> trig inputs are dimensionless; derivative is per radian. ✔</li>
                    <li>
                      <b>Small \(t\) check:</b> \(\cos(2t)\approx 1-2t^2\) ⇒ derivative \(\approx -4t\).
                      Our result \(-2\sin(2t)\approx -2(2t)=-4t\). ✔
                    </li>
                    <li>
                      <b>Interpretation:</b> on this interval, the function equals \(\cos(2t)\), so it decreases for \(t>0\)
                      and increases for \(t<0\), matching cosine’s behavior. ✔
                    </li>
                  </ul>
                </div>
              </details>

              <div class="callout warn">
                <div class="badge">!</div>
                <div>
                  <b>Important note (outside the given interval):</b>
                  <span class="muted">
                    Without \(-\pi/4&lt;t&lt;\pi/4\), you must keep \(|\cos(2t)|\), and the derivative becomes piecewise because
                    \(|\cos(2t)|\) changes sign where \(\cos(2t)=0\).
                  </span>
                </div>
              </div>
            </section>

            <div class="hr"></div>

            <!-- Summary panel -->
            <section aria-label="Summary of answers">
              <h3 style="margin:0 0 8px;">Quick Summary (Both Final Answers)</h3>
              <div class="math" id="final-answers">
                <div class="eq">
(a)  d/dθ [ (2 tanθ)/(1 − tan²θ) ]  =  2 sec²(2θ)

(b)  d/dt [ √(1 − sin²(2t)) ]      =  −2 sin(2t)   for  −π/4 &lt; t &lt; π/4
                </div>
              </div>
            </section>

            <p class="foot">
              Tip: Press <span class="kbd">Copy Results</span> above to copy the final boxed answers for your notes.
            </p>
          </div>
        </section>

      </main>
    </div>
  </article>

  <!-- =======================
       JS: Smooth nav, active TOC, progress, copy
       ======================= -->
  <script>
    (function(){
      const $ = (sel, root=document) => root.querySelector(sel);
      const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

      // Smooth jump buttons
      $$("[data-jump]").forEach(btn => {
        btn.addEventListener("click", () => {
          const target = $(btn.getAttribute("data-jump"));
          if(!target) return;
          target.scrollIntoView({behavior:"smooth", block:"start"});
          history.replaceState(null, "", btn.getAttribute("data-jump"));
        });
      });

      // Copy final answers
      const copyBtn = $("#copy-results");
      const answers = $("#final-answers");
      if(copyBtn && answers){
        copyBtn.addEventListener("click", async () => {
          const text = answers.innerText.trim().replace(/\n{3,}/g, "\n\n");
          try{
            await navigator.clipboard.writeText(text);
            copyBtn.textContent = "Copied ✓";
            copyBtn.classList.add("primary");
            setTimeout(() => {
              copyBtn.classList.remove("primary");
              copyBtn.innerHTML = `
                <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M8 8h10v12H8V8Z" stroke="currentColor" stroke-width="2" />
                  <path d="M6 16H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1" stroke="currentColor" stroke-width="2" />
                </svg>
                Copy Results
              `;
            }, 1400);
          }catch(e){
            // Fallback: select text
            const range = document.createRange();
            range.selectNodeContents(answers);
            const sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
            copyBtn.textContent = "Select & Copy (Ctrl+C)";
            setTimeout(() => (copyBtn.textContent = "Copy Results"), 1600);
          }
        });
      }

      // Active TOC highlighting + reading progress
      const tocLinks = $$("#toc a");
      const sections = tocLinks
        .map(a => document.querySelector(a.getAttribute("href")))
        .filter(Boolean);

      const progressPill = $("#read-progress");

      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if(entry.isIntersecting){
            const id = "#" + entry.target.id;
            tocLinks.forEach(a => a.classList.toggle("active", a.getAttribute("href") === id));
          }
        });
      }, { rootMargin: "-35% 0px -58% 0px", threshold: 0.01 });

      sections.forEach(sec => io.observe(sec));

      const updateProgress = () => {
        const doc = document.documentElement;
        const scrollTop = doc.scrollTop || document.body.scrollTop;
        const scrollHeight = doc.scrollHeight - doc.clientHeight;
        const p = scrollHeight > 0 ? Math.min(100, Math.max(0, (scrollTop / scrollHeight) * 100)) : 0;
        if(progressPill) progressPill.textContent = `${Math.round(p)}%`;
      };

      updateProgress();
      window.addEventListener("scroll", updateProgress, {passive:true});

      // Smooth TOC clicks
      tocLinks.forEach(a => {
        a.addEventListener("click", (e) => {
          const target = document.querySelector(a.getAttribute("href"));
          if(!target) return;
          e.preventDefault();
          target.scrollIntoView({behavior:"smooth", block:"start"});
          history.replaceState(null, "", a.getAttribute("href"));
        });
      });
    })();
  </script>
</body>
</html>
