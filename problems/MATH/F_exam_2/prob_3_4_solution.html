<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="color-scheme" content="dark light" />
  <title>Calculus Optimization & Taylor Approximation â€” Solutions (Problems 3 & 4)</title>

  <!-- =========================
       ADVANCED, SINGLE-FILE CSS
       ========================= -->
  <style>
    :root{
      --bg0: #070A12;
      --bg1: #0B1020;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --stroke2: rgba(255,255,255,.22);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --muted2: rgba(255,255,255,.52);
      --accent: #7C5CFF;
      --accent2:#00D4FF;
      --good: #23C483;
      --warn: #FFB020;
      --bad:  #FF4D6D;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 18px;
      --radius2: 26px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", "Noto Sans", "Liberation Sans", sans-serif;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 20% 10%, rgba(124,92,255,.18), transparent 60%),
        radial-gradient(900px 600px at 90% 15%, rgba(0,212,255,.14), transparent 55%),
        radial-gradient(1000px 700px at 60% 90%, rgba(35,196,131,.12), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* Subtle animated noise grid */
    .noise{
      pointer-events:none;
      position:fixed;
      inset:0;
      background:
        linear-gradient(rgba(255,255,255,.03) 1px, transparent 1px) 0 0 / 46px 46px,
        linear-gradient(90deg, rgba(255,255,255,.03) 1px, transparent 1px) 0 0 / 46px 46px;
      opacity:.35;
      mask-image: radial-gradient(800px 550px at 50% 20%, rgba(0,0,0,1), transparent 70%);
    }

    /* Animated gradient blob */
    .blob{
      pointer-events:none;
      position:fixed;
      width:900px; height:900px;
      left: -260px; top:-260px;
      background: radial-gradient(circle at 30% 30%, rgba(124,92,255,.35), transparent 55%),
                  radial-gradient(circle at 70% 70%, rgba(0,212,255,.22), transparent 55%);
      filter: blur(30px);
      opacity:.7;
      transform: translate3d(0,0,0);
      animation: floatBlob 14s ease-in-out infinite alternate;
    }
    @keyframes floatBlob{
      0%{ transform: translate(0,0) scale(1); }
      100%{ transform: translate(160px,120px) scale(1.08); }
    }

    a{ color: inherit; text-decoration: none; }

    .wrap{
      width:min(1100px, 92vw);
      margin: 0 auto;
      padding: 34px 0 90px;
      position:relative;
      z-index:2;
    }

    /* =========================
       HERO
       ========================= */
    .hero{
      display:grid;
      grid-template-columns: 1.35fr .65fr;
      gap: 18px;
      align-items:stretch;
      margin-top: 18px;
    }

    .hero-card{
      border-radius: var(--radius2);
      padding: 24px 24px 22px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }

    .hero-card::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(800px 220px at 30% 0%, rgba(124,92,255,.35), transparent 55%),
        radial-gradient(800px 220px at 75% 10%, rgba(0,212,255,.25), transparent 55%);
      opacity:.6;
      filter: blur(12px);
      z-index:0;
    }

    .hero-card > *{ position:relative; z-index:1; }

    .kicker{
      display:flex;
      gap:10px;
      align-items:center;
      color: var(--muted);
      font-size: 13px;
      letter-spacing:.16em;
      text-transform: uppercase;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--stroke2);
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(255,255,255,.85);
    }

    .title{
      margin: 12px 0 10px;
      font-size: clamp(26px, 2.8vw, 40px);
      line-height: 1.06;
      letter-spacing: -.02em;
    }

    .subtitle{
      margin: 0;
      color: var(--muted);
      max-width: 64ch;
      line-height: 1.55;
      font-size: 15.5px;
    }

    .hero-actions{
      margin-top: 16px;
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      align-items:center;
    }

    .btn{
      appearance:none;
      border: 1px solid var(--stroke2);
      background: rgba(255,255,255,.07);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 13.5px;
      display:inline-flex;
      gap:10px;
      align-items:center;
      cursor:pointer;
      transition: transform .16s ease, background .16s ease, border-color .16s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.09); border-color: rgba(255,255,255,.28); }
    .btn:active{ transform: translateY(0); }
    .btn.primary{
      background: linear-gradient(135deg, rgba(124,92,255,.45), rgba(0,212,255,.20));
      border-color: rgba(124,92,255,.55);
    }
    .btn.primary:hover{ border-color: rgba(0,212,255,.55); }

    .hero-side{
      border-radius: var(--radius2);
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow);
      padding: 18px;
      display:flex;
      flex-direction:column;
      gap: 10px;
      position:relative;
      overflow:hidden;
    }

    .hero-side::after{
      content:"";
      position:absolute;
      right:-120px; bottom:-140px;
      width: 360px; height: 360px;
      background: radial-gradient(circle at 30% 30%, rgba(35,196,131,.22), transparent 55%);
      filter: blur(16px);
      opacity:.85;
    }

    .toc-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }

    .toc-title h3{
      margin:0;
      font-size: 14px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
    }

    .toc{
      list-style:none;
      margin: 0;
      padding: 0;
      display:flex;
      flex-direction:column;
      gap: 8px;
      position:relative;
      z-index:1;
    }

    .toc a{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.12);
      color: rgba(255,255,255,.86);
      transition: background .16s ease, border-color .16s ease, transform .16s ease;
    }
    .toc a:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.18);
    }
    .toc small{ color: var(--muted2); font-family: var(--mono); font-size: 12px; }

    /* =========================
       LAYOUT
       ========================= */
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      margin-top: 18px;
    }

    .card{
      border-radius: var(--radius2);
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    .card-header{
      padding: 16px 18px 14px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      background: linear-gradient(180deg, rgba(255,255,255,.06), transparent);
    }

    .card-header .left{
      display:flex;
      gap: 12px;
      align-items:flex-start;
    }

    .badge{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      display:grid;
      place-items:center;
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.16);
      font-family: var(--mono);
      font-weight: 800;
      color: rgba(255,255,255,.92);
      position:relative;
    }

    .badge::before{
      content:"";
      position:absolute; inset:-2px;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(124,92,255,.55), rgba(0,212,255,.25));
      filter: blur(12px);
      opacity:.45;
      z-index:-1;
    }

    .meta h2{
      margin: 0;
      font-size: 18px;
      letter-spacing: -.01em;
    }
    .meta p{
      margin: 4px 0 0;
      color: var(--muted);
      line-height:1.45;
      font-size: 13.5px;
    }

    .card-body{
      padding: 14px 18px 18px;
      display:grid;
      gap: 14px;
    }

    .section{
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.14);
      overflow:hidden;
    }

    .section > header{
      padding: 12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.04);
      cursor:pointer;
      user-select:none;
    }

    .section > header h3{
      margin: 0;
      font-size: 13px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: rgba(255,255,255,.82);
      display:flex;
      gap: 10px;
      align-items:center;
    }

    .chip{
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(255,255,255,.78);
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.05);
    }

    .caret{
      width: 36px; height: 36px;
      border-radius: 12px;
      display:grid;
      place-items:center;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      transition: transform .18s ease;
      flex: 0 0 auto;
    }
    .section[open] .caret{ transform: rotate(180deg); }

    details.section > header::-webkit-details-marker { display:none; }

    .section .content{
      padding: 12px 14px 14px;
      display:grid;
      gap: 12px;
    }

    .two{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    @media (max-width: 900px){
      .hero{ grid-template-columns: 1fr; }
      .two{ grid-template-columns: 1fr; }
    }

    .callout{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      padding: 12px 12px;
      display:grid;
      gap: 8px;
    }

    .callout strong{ letter-spacing:.02em; }
    .callout p{ margin:0; color: var(--muted); line-height:1.55; font-size: 14px; }

    .list{
      margin: 0;
      padding: 0 0 0 16px;
      color: rgba(255,255,255,.86);
      line-height: 1.55;
      font-size: 14px;
    }
    .list li{ margin: 6px 0; color: rgba(255,255,255,.86); }
    .list li span{ color: var(--muted); }

    .math{
      font-family: var(--mono);
      font-size: 13.5px;
      line-height: 1.6;
      color: rgba(255,255,255,.88);
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 14px;
      padding: 10px 12px;
      overflow:auto;
    }
    .math .dim{ color: var(--muted2); }
    .math .ok{ color: rgba(35,196,131,.95); }
    .math .hi{ color: rgba(0,212,255,.95); }
    .math .acc{ color: rgba(124,92,255,.95); }

    .equation{
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px dashed rgba(255,255,255,.18);
      background: rgba(255,255,255,.03);
      overflow:auto;
      font-family: var(--mono);
      font-size: 13.5px;
      line-height: 1.55;
    }

    .result{
      border-radius: 18px;
      padding: 14px 14px;
      border: 1px solid rgba(124,92,255,.35);
      background: linear-gradient(135deg, rgba(124,92,255,.22), rgba(0,212,255,.08));
      position:relative;
      overflow:hidden;
    }
    .result::before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(400px 220px at 30% 20%, rgba(124,92,255,.45), transparent 60%),
                  radial-gradient(400px 220px at 80% 70%, rgba(0,212,255,.25), transparent 60%);
      filter: blur(12px);
      opacity:.55;
      z-index:0;
    }
    .result > *{ position:relative; z-index:1; }

    .result h4{
      margin:0 0 6px;
      font-size: 13px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: rgba(255,255,255,.82);
      display:flex; gap:10px; align-items:center;
    }
    .result .box{
      font-family: var(--mono);
      font-size: 16px;
      line-height: 1.5;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      overflow:auto;
    }

    /* Footer */
    footer{
      margin-top: 18px;
      padding: 14px 4px 0;
      color: var(--muted2);
      font-size: 12.5px;
      display:flex;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
    }
    footer .mono{ font-family: var(--mono); }

    /* Print styles */
    @media print{
      body{ background: #fff; color: #111; }
      .noise,.blob,.hero-actions,.toc-title button{ display:none !important; }
      .card,.hero-card,.hero-side,.section,.callout,.math,.equation,.result{ box-shadow:none !important; background:#fff !important; }
      .card,.hero-card,.hero-side,.section,.callout,.math,.equation,.result{ border-color:#bbb !important; }
      .muted, .subtitle, .meta p, .callout p, footer{ color:#333 !important; }
      a{ color:#111 !important; text-decoration:none !important; }
    }
  </style>
</head>

<body>
  <div class="blob" aria-hidden="true"></div>
  <div class="noise" aria-hidden="true"></div>

  <main class="wrap" id="top">
    <!-- =========================
         HERO
         ========================= -->
    <section class="hero" aria-label="Article Header">
      <div class="hero-card">
        <div class="kicker">
          <span class="pill">CALCULUS â€¢ OPTIMIZATION â€¢ SERIES</span>
          <span class="pill">Problems 3 &amp; 4</span>
        </div>

        <h1 class="title">Maximizing a Box Volume &amp; Quadratic Approximation</h1>
        <p class="subtitle">
          A clean, step-by-step solution set with <strong>analysis</strong>, a <strong>minimal roadmap</strong>, and
          a <strong>full derivation</strong>â€”formatted as an article card system you can drop into your site.
        </p>

        <div class="hero-actions">
          <button class="btn primary" data-scroll="#p3">
            <span aria-hidden="true">â†³</span> Jump to Problem 3
          </button>
          <button class="btn" data-scroll="#p4">
            <span aria-hidden="true">â†³</span> Jump to Problem 4
          </button>
          <button class="btn" id="expandAll">
            <span aria-hidden="true">âŸ²</span> Expand/Collapse All
          </button>
          <button class="btn" id="printBtn">
            <span aria-hidden="true">ğŸ–¨</span> Print / Save PDF
          </button>
        </div>
      </div>

      <aside class="hero-side" aria-label="Quick Navigation">
        <div class="toc-title">
          <h3>Contents</h3>
          <button class="btn" id="copyLink" title="Copy article link">
            <span aria-hidden="true">ğŸ”—</span> Copy
          </button>
        </div>
        <ul class="toc">
          <li><a href="#p3"><span>Problem 3 â€” Maximum volume box</span><small>#p3</small></a></li>
          <li><a href="#p4"><span>Problem 4 â€” Quadratic approximation</span><small>#p4</small></a></li>
          <li><a href="#checks"><span>Sanity checks &amp; takeaways</span><small>#checks</small></a></li>
        </ul>
      </aside>
    </section>

    <!-- =========================
         PROBLEM 3
         ========================= -->
    <article class="card" id="p3" aria-label="Problem 3">
      <header class="card-header">
        <div class="left">
          <div class="badge" aria-hidden="true">3</div>
          <div class="meta">
            <h2>Problem 3 â€” Maximize the volume of the folded box</h2>
            <p>
              From a square sheet of side <span class="chip">E</span>, cut out squares of side <span class="chip">x</span> and fold up the flaps.
              Find <span class="chip">x</span> that maximizes the box volume.
            </p>
          </div>
        </div>
        <span class="pill">30 points</span>
      </header>

      <div class="card-body">
        <!-- PART 1 -->
        <details class="section" open>
          <header>
            <h3><span class="chip">PART 1</span> Problem Analysis (no solving yet)</h3>
            <div class="caret" aria-hidden="true">âŒ„</div>
          </header>
          <div class="content">
            <div class="two">
              <div class="callout">
                <strong>Restatement</strong>
                <p>
                  You cut out corner squares (side <span class="chip">x</span>) from a square sheet (side <span class="chip">E</span>),
                  then fold up to make an open-top box. Determine which <span class="chip">x</span> yields the largest possible volume.
                </p>
              </div>
              <div class="callout">
                <strong>Given / Unknowns</strong>
                <ul class="list">
                  <li><strong>Given:</strong> sheet side length <span class="chip">E</span></li>
                  <li><strong>Unknown:</strong> cut size <span class="chip">x</span></li>
                  <li><strong>Goal:</strong> maximize <span class="chip">V(x)</span> subject to physical constraints</li>
                </ul>
              </div>
            </div>

            <div class="callout">
              <strong>Why calculus applies</strong>
              <p>
                The volume depends continuously on <span class="chip">x</span>. A maximum (inside the allowed interval)
                occurs at a critical point where <span class="chip">V'(x)=0</span>, then we verify it is a maximum.
              </p>
            </div>

            <div class="two">
              <div class="callout">
                <strong>Candidate approaches</strong>
                <ul class="list">
                  <li><strong>Direct derivative:</strong> form <span class="chip">V(x)</span>, solve <span class="chip">V'(x)=0</span>, confirm max.</li>
                  <li><strong>Log optimization:</strong> maximize <span class="chip">ln V</span> to simplify products.</li>
                  <li><strong>Dimensionless scaling:</strong> substitute <span class="chip">u=x/E</span> to reduce algebra.</li>
                </ul>
              </div>
              <div class="callout">
                <strong>Best choice</strong>
                <p>
                  Use the <strong>direct derivative</strong> method: itâ€™s standard, transparent, and gives a clean closed-form result.
                </p>
              </div>
            </div>
          </div>
        </details>

        <!-- PART 2 -->
        <details class="section">
          <header>
            <h3><span class="chip">PART 2</span> Strategy &amp; Tips (roadmap only)</h3>
            <div class="caret" aria-hidden="true">âŒ„</div>
          </header>
          <div class="content">
            <div class="callout">
              <strong>Roadmap (no algebra yet)</strong>
              <ol class="list">
                <li>Model dimensions after cutting/folding: identify base side and height. <span>(Geometry)</span></li>
                <li>Write volume as <span class="chip">V(x)=\text{base area}\times\text{height}</span>. <span>(Definition)</span></li>
                <li>State the domain: all lengths must remain positive. <span>(Physical constraints)</span></li>
                <li>Differentiate <span class="chip">V'(x)</span> and set to zero. <span>(Optimization)</span></li>
                <li>Solve for critical points and keep only those in the domain. <span>(Algebra)</span></li>
                <li>Confirm maximum using <span class="chip">V''(x)&lt;0</span> or sign chart. <span>(Second derivative test)</span></li>
              </ol>
            </div>

            <div class="callout">
              <strong>Common mistakes</strong>
              <ul class="list">
                <li>Using <span class="chip">E-x</span> instead of the correct base side <span class="chip">E-2x</span>.</li>
                <li>Forgetting the allowed interval <span class="chip">0&lt;x&lt;E/2</span>.</li>
                <li>Stopping at <span class="chip">V'(x)=0</span> without verifying itâ€™s a maximum.</li>
              </ul>
            </div>
          </div>
        </details>

        <!-- PART 3 -->
        <details class="section" open>
          <header>
            <h3><span class="chip">PART 3</span> Full Solution</h3>
            <div class="caret" aria-hidden="true">âŒ„</div>
          </header>
          <div class="content">
            <div class="callout">
              <strong>Physical intuition</strong>
              <p>
                Increasing <span class="chip">x</span> increases the height, but shrinks the base. If <span class="chip">xâ†’0</span>, height vanishes, so volume vanishes.
                If <span class="chip">xâ†’E/2</span>, the base collapses to zero, so volume also vanishes. Therefore a maximum must occur for an interior value.
              </p>
            </div>

            <div class="math" aria-label="Geometry to volume">
              <div><span class="dim">After cutting and folding:</span></div>
              <div>height: <span class="hi">h = x</span></div>
              <div>base side: <span class="hi">E âˆ’ 2x</span></div>
              <div>base area: <span class="hi">(E âˆ’ 2x)Â²</span></div>
              <div>volume: <span class="acc">V(x) = x(E âˆ’ 2x)Â²</span></div>
              <div class="dim">Domain: 0 &lt; x &lt; E/2</div>
            </div>

            <div class="callout">
              <strong>Differentiate and find critical points</strong>
              <p>
                We differentiate <span class="chip">V(x)=x(Eâˆ’2x)Â²</span>. Expanding first makes the derivative clean and avoids product-rule clutter.
              </p>
            </div>

            <div class="equation" aria-label="Derivative steps">
              1) Expand: (E âˆ’ 2x)Â² = EÂ² âˆ’ 4Ex + 4xÂ²<br/>
              2) Multiply by x: V(x) = x(EÂ² âˆ’ 4Ex + 4xÂ²) = EÂ²x âˆ’ 4ExÂ² + 4xÂ³<br/>
              3) Differentiate: V'(x) = EÂ² âˆ’ 8Ex + 12xÂ²<br/>
              4) Set to zero: EÂ² âˆ’ 8Ex + 12xÂ² = 0
            </div>

            <div class="callout">
              <strong>Solve the quadratic</strong>
              <p>
                Solve <span class="chip">12xÂ² âˆ’ 8Ex + EÂ² = 0</span> with the quadratic formula, then keep only physically allowed solutions.
              </p>
            </div>

            <div class="equation" aria-label="Quadratic solve">
              x = [8E Â± âˆš((8E)Â² âˆ’ 4Â·12Â·EÂ²)] / (2Â·12)<br/>
              = [8E Â± âˆš(64EÂ² âˆ’ 48EÂ²)] / 24<br/>
              = [8E Â± âˆš(16EÂ²)] / 24<br/>
              = [8E Â± 4E] / 24<br/>
              â‡’ x = E/2  or  x = E/6
            </div>

            <div class="callout">
              <strong>Maximum test</strong>
              <p>
                The candidate <span class="chip">x=E/2</span> collapses the base to zero (volume 0). The interior point <span class="chip">x=E/6</span> is the true maximizer.
                We confirm via the second derivative.
              </p>
            </div>

            <div class="equation" aria-label="Second derivative check">
              V'(x) = EÂ² âˆ’ 8Ex + 12xÂ²<br/>
              V''(x) = âˆ’8E + 24x<br/>
              V''(E/6) = âˆ’8E + 24(E/6) = âˆ’8E + 4E = âˆ’4E &lt; 0  â‡’ maximum
            </div>

            <div class="result" aria-label="Final result problem 3">
              <h4><span aria-hidden="true">âœ…</span> Final Answer</h4>
              <div class="box">x<sub>max</sub> = E / 6</div>
            </div>

            <div class="callout">
              <strong>Sanity checks</strong>
              <ul class="list">
                <li><strong>Units:</strong> <span class="chip">E</span> has length units â‡’ <span class="chip">E/6</span> has length units.</li>
                <li><strong>Limits:</strong> <span class="chip">xâ†’0</span> â‡’ <span class="chip">Vâ†’0</span>; <span class="chip">xâ†’E/2</span> â‡’ base â†’ 0 â‡’ <span class="chip">Vâ†’0</span>.</li>
                <li><strong>Interpretation:</strong> optimal cut is a fixed fraction: <span class="chip">x/E = 1/6</span>.</li>
              </ul>
            </div>
          </div>
        </details>
      </div>
    </article>

    <!-- =========================
         PROBLEM 4
         ========================= -->
    <article class="card" id="p4" aria-label="Problem 4">
      <header class="card-header">
        <div class="left">
          <div class="badge" aria-hidden="true">4</div>
          <div class="meta">
            <h2>Problem 4 â€” Quadratic approximation near Î¸ = 0</h2>
            <p>
              Find the 2nd-order (quadratic) approximation of <span class="chip">âˆš(2 âˆ’ cos Î¸)</span> for <span class="chip">Î¸ â‰ˆ 0</span>.
            </p>
          </div>
        </div>
        <span class="pill">10 points</span>
      </header>

      <div class="card-body">
        <!-- PART 1 -->
        <details class="section" open>
          <header>
            <h3><span class="chip">PART 1</span> Problem Analysis (no solving yet)</h3>
            <div class="caret" aria-hidden="true">âŒ„</div>
          </header>
          <div class="content">
            <div class="two">
              <div class="callout">
                <strong>Restatement</strong>
                <p>
                  Approximate the function <span class="chip">f(Î¸)=âˆš(2âˆ’cos Î¸)</span> by a quadratic polynomial around <span class="chip">Î¸=0</span>.
                </p>
              </div>
              <div class="callout">
                <strong>Given / Unknowns</strong>
                <ul class="list">
                  <li><strong>Given:</strong> <span class="chip">f(Î¸)=âˆš(2âˆ’cos Î¸)</span></li>
                  <li><strong>Point:</strong> <span class="chip">Î¸â‰ˆ0</span></li>
                  <li><strong>Find:</strong> polynomial up to <span class="chip">O(Î¸Â²)</span></li>
                </ul>
              </div>
            </div>

            <div class="callout">
              <strong>Why Taylor series applies</strong>
              <p>
                Near <span class="chip">Î¸=0</span>, <span class="chip">cos Î¸</span> has a convergent Taylor series.
                Since the square-root input becomes <span class="chip">1 + small</span>, we expand using <span class="chip">âˆš(1+u)</span>.
              </p>
            </div>

            <div class="two">
              <div class="callout">
                <strong>Candidate approaches</strong>
                <ul class="list">
                  <li>Expand <span class="chip">cos Î¸</span> then apply <span class="chip">âˆš(1+u)</span> series.</li>
                  <li>Differentiate <span class="chip">f(Î¸)</span> directly and build Taylor polynomial from derivatives at 0.</li>
                  <li>Use binomial approximation carefully with small-angle intuition.</li>
                </ul>
              </div>
              <div class="callout">
                <strong>Best choice</strong>
                <p>
                  Expand <span class="chip">cos Î¸</span> first; itâ€™s fast, rigorous, and naturally yields the correct order.
                </p>
              </div>
            </div>
          </div>
        </details>

        <!-- PART 2 -->
        <details class="section">
          <header>
            <h3><span class="chip">PART 2</span> Strategy &amp; Tips (roadmap only)</h3>
            <div class="caret" aria-hidden="true">âŒ„</div>
          </header>
          <div class="content">
            <div class="callout">
              <strong>Roadmap (no algebra yet)</strong>
              <ol class="list">
                <li>Write Taylor series for <span class="chip">cos Î¸</span> to order <span class="chip">Î¸Â²</span>.</li>
                <li>Compute <span class="chip">2 âˆ’ cos Î¸</span> and rewrite as <span class="chip">1 + u</span>.</li>
                <li>Use <span class="chip">âˆš(1+u) â‰ˆ 1 + u/2</span> to quadratic accuracy.</li>
                <li>Drop terms beyond <span class="chip">Î¸Â²</span>.</li>
                <li>Check value at 0 and even symmetry.</li>
              </ol>
            </div>

            <div class="callout">
              <strong>Common mistakes</strong>
              <ul class="list">
                <li>Forgetting <span class="chip">cos Î¸ = 1 âˆ’ Î¸Â²/2 + O(Î¸â´)</span>.</li>
                <li>Accidentally introducing odd powers (the function is even).</li>
                <li>Keeping <span class="chip">uÂ²</span> even though itâ€™s order <span class="chip">Î¸â´</span>, not needed for quadratic.</li>
              </ul>
            </div>
          </div>
        </details>

        <!-- PART 3 -->
        <details class="section" open>
          <header>
            <h3><span class="chip">PART 3</span> Full Solution</h3>
            <div class="caret" aria-hidden="true">âŒ„</div>
          </header>
          <div class="content">
            <div class="callout">
              <strong>Physical intuition</strong>
              <p>
                Near <span class="chip">Î¸=0</span>, we have <span class="chip">cos Î¸â‰ˆ1</span>, so <span class="chip">2âˆ’cos Î¸â‰ˆ1</span>.
                The square root is therefore close to <span class="chip">1</span>, with the first correction scaling like <span class="chip">Î¸Â²</span>.
              </p>
            </div>

            <div class="equation" aria-label="Taylor expansion steps">
              cos Î¸ = 1 âˆ’ Î¸Â²/2 + O(Î¸â´)<br/>
              2 âˆ’ cos Î¸ = 2 âˆ’ (1 âˆ’ Î¸Â²/2 + O(Î¸â´)) = 1 + Î¸Â²/2 + O(Î¸â´)
            </div>

            <div class="callout">
              <strong>Square-root series</strong>
              <p>
                Let <span class="chip">u = Î¸Â²/2 + O(Î¸â´)</span>. Then
                <span class="chip">âˆš(1+u) = 1 + u/2 + O(uÂ²)</span>.
                Since <span class="chip">uÂ² ~ Î¸â´</span>, it does not affect the quadratic approximation.
              </p>
            </div>

            <div class="equation" aria-label="Final approximation">
              âˆš(2 âˆ’ cos Î¸) = âˆš(1 + u) â‰ˆ 1 + (1/2)u<br/>
              â‰ˆ 1 + (1/2)(Î¸Â²/2) = 1 + Î¸Â²/4
            </div>

            <div class="result" aria-label="Final result problem 4">
              <h4><span aria-hidden="true">âœ…</span> Final Answer</h4>
              <div class="box">âˆš(2 âˆ’ cos Î¸) â‰ˆ 1 + Î¸Â² / 4  &nbsp;&nbsp;(for Î¸ â‰ˆ 0)</div>
            </div>

            <div class="callout">
              <strong>Sanity checks</strong>
              <ul class="list">
                <li><strong>Value at 0:</strong> âˆš(2âˆ’cos 0)=âˆš1=1 matches the approximation.</li>
                <li><strong>Even symmetry:</strong> depends on cos Î¸ â‡’ only even powers appear.</li>
                <li><strong>Units:</strong> Î¸ is dimensionless (radians), so Î¸Â²/4 is dimensionless.</li>
              </ul>
            </div>
          </div>
        </details>
      </div>
    </article>

    <!-- =========================
         TAKEAWAYS
         ========================= -->
    <section class="card" id="checks" aria-label="Takeaways">
      <header class="card-header">
        <div class="left">
          <div class="badge" aria-hidden="true">âœ“</div>
          <div class="meta">
            <h2>Quick takeaways</h2>
            <p>What to remember next time you see these patterns.</p>
          </div>
        </div>
        <span class="pill">Summary</span>
      </header>
      <div class="card-body">
        <div class="two">
          <div class="callout">
            <strong>Optimization template</strong>
            <ul class="list">
              <li>Build <span class="chip">V(x)</span> from geometry.</li>
              <li>Restrict domain by physical constraints.</li>
              <li>Solve <span class="chip">V'(x)=0</span> and verify max via <span class="chip">V''(x)&lt;0</span>.</li>
            </ul>
          </div>
          <div class="callout">
            <strong>Series template</strong>
            <ul class="list">
              <li>Expand inner function first (here <span class="chip">cos Î¸</span>).</li>
              <li>Rewrite as <span class="chip">1+u</span> and use binomial/Taylor.</li>
              <li>Keep only the order requested (here up to <span class="chip">Î¸Â²</span>).</li>
            </ul>
          </div>
        </div>

        <div class="math" aria-label="Final results recap">
          <div><span class="dim">Final Results:</span></div>
          <div class="ok">Problem 3: x<sub>max</sub> = E/6</div>
          <div class="ok">Problem 4: âˆš(2 âˆ’ cos Î¸) â‰ˆ 1 + Î¸Â²/4</div>
        </div>
      </div>
    </section>

    <footer>
      <span>Built as a single-file article component (HTML+CSS+JS) â€” drop into your GitHub Pages site.</span>
      <span class="mono">Tip: Use your siteâ€™s wrapper to control margins if needed.</span>
    </footer>
  </main>

  <!-- =========================
       ADVANCED, SINGLE-FILE JS
       ========================= -->
  <script>
    (function(){
      const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      // Smooth scroll buttons
      document.querySelectorAll("[data-scroll]").forEach(btn => {
        btn.addEventListener("click", () => {
          const sel = btn.getAttribute("data-scroll");
          const el = document.querySelector(sel);
          if (!el) return;
          el.scrollIntoView({ behavior: prefersReducedMotion ? "auto" : "smooth", block: "start" });
        });
      });

      // Expand/Collapse all sections
      const expandBtn = document.getElementById("expandAll");
      const allDetails = Array.from(document.querySelectorAll("details.section"));
      let expanded = true;

      function setAll(open){
        allDetails.forEach(d => (d.open = open));
      }

      expandBtn.addEventListener("click", () => {
        expanded = !expanded;
        setAll(expanded);
        expandBtn.innerHTML = expanded
          ? '<span aria-hidden="true">âŸ²</span> Expand/Collapse All'
          : '<span aria-hidden="true">âŸ²</span> Expand/Collapse All';
      });

      // Print
      document.getElementById("printBtn").addEventListener("click", () => window.print());

      // Copy link
      const copyBtn = document.getElementById("copyLink");
      copyBtn.addEventListener("click", async () => {
        try{
          const url = location.href.split("#")[0] + "#top";
          await navigator.clipboard.writeText(url);
          copyBtn.textContent = "âœ… Copied";
          setTimeout(() => (copyBtn.innerHTML = '<span aria-hidden="true">ğŸ”—</span> Copy'), 1200);
        }catch(e){
          // Fallback
          const tmp = document.createElement("input");
          tmp.value = location.href.split("#")[0] + "#top";
          document.body.appendChild(tmp);
          tmp.select();
          document.execCommand("copy");
          tmp.remove();
          copyBtn.textContent = "âœ… Copied";
          setTimeout(() => (copyBtn.innerHTML = '<span aria-hidden="true">ğŸ”—</span> Copy'), 1200);
        }
      });

      // Accessible: clicking the header toggles details (works by default), but we keep focus styles clean
      // Small progressive enhancement: auto-highlight toc as you scroll
      const tocLinks = Array.from(document.querySelectorAll(".toc a"));
      const targets = tocLinks
        .map(a => document.querySelector(a.getAttribute("href")))
        .filter(Boolean);

      if ("IntersectionObserver" in window) {
        const io = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (!entry.isIntersecting) return;
            const id = "#" + entry.target.id;
            tocLinks.forEach(a => {
              const active = a.getAttribute("href") === id;
              a.style.borderColor = active ? "rgba(124,92,255,.55)" : "rgba(255,255,255,.10)";
              a.style.background = active ? "rgba(124,92,255,.12)" : "rgba(0,0,0,.12)";
            });
          });
        }, { rootMargin: "-40% 0px -55% 0px", threshold: 0.01 });

        targets.forEach(t => io.observe(t));
      }
    })();
  </script>
</body>
</html>
