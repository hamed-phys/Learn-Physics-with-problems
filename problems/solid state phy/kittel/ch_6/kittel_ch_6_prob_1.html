<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0b1020" />
  <title>Kinetic Energy of a 3D Electron Gas at 0 K: U₀ = (3/5) N E_F</title>
  <style>
    :root{
      --bg: #070a12;
      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.08);
      --text: rgba(255,255,255,0.9);
      --muted: rgba(255,255,255,0.72);
      --faint: rgba(255,255,255,0.55);
      --line: rgba(255,255,255,0.14);
      --accent: #7dd3fc;
      --accent2:#a78bfa;
      --good:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --radius: 18px;
      --radius2: 14px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --tocW: 290px;
    }

    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f7fb;
        --panel: rgba(10,20,40,0.06);
        --panel2: rgba(10,20,40,0.08);
        --text: rgba(10,20,40,0.92);
        --muted: rgba(10,20,40,0.74);
        --faint: rgba(10,20,40,0.58);
        --line: rgba(10,20,40,0.14);
        --shadow: 0 10px 30px rgba(10,20,40,0.12);
      }
    }

    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: var(--sans);
      background: radial-gradient(1200px 700px at 20% 10%, rgba(125,211,252,0.15), transparent 60%),
                  radial-gradient(900px 600px at 70% 20%, rgba(167,139,250,0.14), transparent 55%),
                  radial-gradient(1000px 700px at 60% 90%, rgba(52,211,153,0.10), transparent 55%),
                  var(--bg);
      color:var(--text);
      line-height:1.55;
    }

    a{ color: var(--accent); text-decoration: none; }
    a:hover{ text-decoration: underline; }

    header{
      position: relative;
      padding: 38px 18px 22px;
      border-bottom: 1px solid var(--line);
      overflow:hidden;
    }
    .wrap{
      max-width: 1180px;
      margin: 0 auto;
      padding: 0 12px;
    }
    .titleRow{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }
    h1{
      font-size: clamp(1.55rem, 1.1rem + 1.6vw, 2.4rem);
      line-height:1.15;
      margin: 0;
      letter-spacing: -0.02em;
    }
    .subtitle{
      margin:0;
      color: var(--muted);
      font-size: 1.02rem;
      max-width: 80ch;
    }
    .badgeRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 10px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: var(--panel);
      border: 1px solid var(--line);
      box-shadow: var(--shadow);
      color: var(--muted);
      font-size: 0.92rem;
      backdrop-filter: blur(8px);
    }
    .dot{
      width:10px;
      height:10px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 0 3px rgba(125,211,252,0.18);
    }

    main{
      padding: 18px 18px 64px;
    }

    /* Layout with sticky TOC */
    .grid{
      display:grid;
      grid-template-columns: var(--tocW) 1fr;
      gap: 16px;
      align-items:start;
    }
    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
    }

    nav.toc{
      position: sticky;
      top: 12px;
      align-self:start;
      background: linear-gradient(180deg, var(--panel2), var(--panel));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 12px 12px 10px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      animation: floatIn 500ms ease-out both;
    }
    @keyframes floatIn{
      from{ transform: translateY(8px); opacity:0; }
      to{ transform: translateY(0); opacity:1; }
    }
    .toc h2{
      font-size: 0.96rem;
      margin: 4px 6px 8px;
      color: var(--muted);
      letter-spacing: 0.02em;
      text-transform: uppercase;
    }
    .toc a{
      display:block;
      padding: 7px 10px;
      border-radius: 12px;
      color: var(--text);
      text-decoration:none;
      border: 1px solid transparent;
      font-size: 0.95rem;
    }
    .toc a:hover{
      background: rgba(125,211,252,0.10);
      border-color: rgba(125,211,252,0.22);
      text-decoration:none;
    }
    .toc .small{
      color: var(--faint);
      font-size: 0.9rem;
      margin: 8px 10px 2px;
    }

    article{
      min-width: 0;
      display:flex;
      flex-direction:column;
      gap: 16px;
    }

    section{
      background: linear-gradient(180deg, var(--panel2), var(--panel));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    section h2{
      margin: 0 0 10px;
      font-size: 1.25rem;
      letter-spacing:-0.01em;
    }
    section h3{
      margin: 14px 0 8px;
      font-size: 1.06rem;
      color: var(--text);
    }
    p{ margin: 10px 0; color: var(--muted); }

    ul,ol{ margin: 10px 0 10px 18px; color: var(--muted); }
    li{ margin: 6px 0; }

    .callouts{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      margin-top: 10px;
    }
    .card{
      grid-column: span 12;
      background: rgba(0,0,0,0.10);
      border: 1px solid var(--line);
      border-radius: var(--radius2);
      padding: 12px;
    }
    @media (min-width: 860px){
      .card.half{ grid-column: span 6; }
      .card.third{ grid-column: span 4; }
    }
    .cardTitle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      margin-bottom: 6px;
    }
    .tag{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 0.86rem;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.04);
      color: var(--muted);
    }
    .tag.good{ border-color: rgba(52,211,153,0.35); }
    .tag.warn{ border-color: rgba(251,191,36,0.40); }
    .tag.bad{ border-color: rgba(251,113,133,0.38); }
    .tag .miniDot{ width:8px; height:8px; border-radius:50%; background: var(--accent2); box-shadow:0 0 0 3px rgba(167,139,250,0.12); }
    .tag.good .miniDot{ background: var(--good); box-shadow:0 0 0 3px rgba(52,211,153,0.12); }
    .tag.warn .miniDot{ background: var(--warn); box-shadow:0 0 0 3px rgba(251,191,36,0.14); }
    .tag.bad .miniDot{ background: var(--bad); box-shadow:0 0 0 3px rgba(251,113,133,0.14); }

    .mathBox{
      position: relative;
      background: rgba(0,0,0,0.14);
      border: 1px solid var(--line);
      border-radius: var(--radius2);
      padding: 12px 12px 12px;
      overflow:hidden;
    }
    .mathBox .label{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom: 8px;
      color: var(--text);
      font-weight: 650;
      letter-spacing: 0.01em;
    }
    .eq{
      font-family: var(--mono);
      color: rgba(255,255,255,0.92);
      font-size: 0.96rem;
      white-space: pre-wrap;
      word-break: break-word;
      margin: 0;
    }
    @media (prefers-color-scheme: light){
      .eq{ color: rgba(10,20,40,0.92); }
    }

    .copyBtn{
      appearance:none;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.04);
      color: var(--text);
      padding: 7px 10px;
      border-radius: 12px;
      cursor:pointer;
      font-size: 0.9rem;
      transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
      user-select:none;
    }
    .copyBtn:hover{
      transform: translateY(-1px);
      background: rgba(125,211,252,0.10);
      border-color: rgba(125,211,252,0.25);
    }
    .copyBtn:active{ transform: translateY(0); }
    .copyRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .toast{
      position: fixed;
      left: 50%;
      bottom: 16px;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.75);
      color: rgba(255,255,255,0.92);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 999px;
      padding: 10px 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      opacity: 0;
      pointer-events:none;
      transition: opacity 180ms ease, transform 180ms ease;
      font-size: 0.95rem;
      z-index: 99;
    }
    .toast.show{ opacity: 1; transform: translateX(-50%) translateY(-2px); }

    details{
      border: 1px dashed rgba(255,255,255,0.20);
      border-radius: var(--radius2);
      padding: 10px 12px;
      background: rgba(255,255,255,0.03);
      margin-top: 10px;
    }
    details summary{
      cursor: pointer;
      color: var(--text);
      font-weight: 650;
      list-style: none;
      outline: none;
    }
    details summary::-webkit-details-marker{ display:none; }
    details summary::after{
      content: "▾";
      float:right;
      color: var(--faint);
      transition: transform 140ms ease;
    }
    details[open] summary::after{ transform: rotate(180deg); }

    figure{
      margin: 10px 0 0;
      padding: 12px;
      border-radius: var(--radius2);
      border: 1px solid var(--line);
      background: rgba(0,0,0,0.10);
    }
    figcaption{
      margin-top: 8px;
      color: var(--muted);
      font-size: 0.93rem;
    }
    canvas{
      width: 100%;
      height: 330px;
      display:block;
      border-radius: 12px;
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.10);
    }

    .backTop{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.04);
      box-shadow: var(--shadow);
      color: var(--text);
      text-decoration:none;
      margin-top: 14px;
      width: fit-content;
    }
    .backTop:hover{ text-decoration:none; background: rgba(125,211,252,0.10); border-color: rgba(125,211,252,0.25); }
    .arrow{ width:10px; height:10px; border-left:2px solid var(--text); border-top:2px solid var(--text); transform: rotate(45deg); opacity:0.9; }

    footer{
      padding: 18px;
      border-top: 1px solid var(--line);
      color: var(--faint);
      font-size: 0.95rem;
    }

    /* Print-friendly */
    @media print{
      body{ background: #fff !important; color:#000 !important; }
      header, footer{ border: none; }
      nav.toc{ display:none; }
      .grid{ grid-template-columns: 1fr; }
      section{ box-shadow:none; border: 1px solid #ddd; background:#fff; }
      .copyBtn, .toast, .backTop{ display:none !important; }
      a{ color:#000; text-decoration: underline; }
      .eq{ color:#000; }
      section{ break-inside: avoid; page-break-inside: avoid; }
      h2{ page-break-after: avoid; }
      figure{ break-inside: avoid; }
    }
  </style>
</head>

<body>
  <header id="top">
    <div class="wrap">
      <div class="titleRow">
        <h1>Kinetic Energy of a 3D Free-Electron Gas at 0 K</h1>
        <p class="subtitle">
          Prove that the total kinetic energy of <em>N</em> noninteracting (free) electrons in three dimensions at absolute zero is
          <span style="color:var(--text); font-weight:700;">U<sub>0</sub> = (3/5) N E<sub>F</sub></span>.
          We derive this from first principles using the “filled Fermi sea” picture and explicit k-space/DOS integrals.
        </p>
        <div class="badgeRow">
          <div class="badge"><span class="dot"></span>Statistical/Quantum Physics</div>
          <div class="badge"><span class="dot" style="background:var(--accent2); box-shadow:0 0 0 3px rgba(167,139,250,0.18)"></span>Mathematical Physics Emphasis</div>
          <div class="badge"><span class="dot" style="background:var(--good); box-shadow:0 0 0 3px rgba(52,211,153,0.18)"></span>Applied/Industry Lens</div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="wrap">
      <div class="grid">
        <nav class="toc" aria-label="Table of contents">
          <h2>Contents</h2>
          <a href="#quick">Quick Summary</a>
          <a href="#part0">PART 0 — Concept Primer</a>
          <a href="#part0b">PART 0B — Industry & Applied Physics</a>
          <a href="#part1">PART 1 — Problem Analysis</a>
          <a href="#part2">PART 2 — Strategy & Tips</a>
          <a href="#part3">PART 3 — Full Solution</a>
          <a href="#part4">PART 4 — Deeper Understanding</a>
          <a href="#part5">PART 5 — Optional Plot Guide</a>
          <div class="small">Utilities</div>
          <a href="#copy-final">Copy Final Answer</a>
          <a href="#plot">Single Static Plot</a>
        </nav>

        <article>
          <section id="quick">
            <h2>Quick Summary</h2>
            <ul>
              <li><strong>Goal:</strong> Show that for a 3D gas of <em>N</em> free electrons at <em>T = 0 K</em>, the total kinetic energy is <strong>U<sub>0</sub> = (3/5) N E<sub>F</sub></strong>.</li>
              <li><strong>Key physics idea:</strong> At 0 K, fermions fill all single-particle states up to the Fermi energy (a “filled Fermi sea”).</li>
              <li><strong>Mathematical core:</strong> Convert a sum over quantum states to an integral in <em>k</em>-space (phase-space counting), using spherical symmetry.</li>
              <li><strong>Governing relations:</strong> Free-electron dispersion <span style="font-family:var(--mono)">E(k)=ħ²k²/(2m)</span> and 3D DOS scaling <span style="font-family:var(--mono)">g(E) ∝ √E</span>.</li>
              <li><strong>Result type:</strong> Symbolic; depends only on <em>N</em> and <em>E<sub>F</sub></em>.</li>
              <li><strong>Meaning:</strong> Average kinetic energy per electron at 0 K is <strong>(3/5)E<sub>F</sub></strong> because lower-energy states are also occupied.</li>
              <li><strong>Why 3/5:</strong> It’s a ratio of power-law moments (3D volume measure vs energy weighting) for quadratic dispersion.</li>
            </ul>

            <div class="callouts">
              <div class="card half">
                <div class="cardTitle">
                  <span class="tag good"><span class="miniDot"></span>Key Result</span>
                  <button class="copyBtn" data-copy="#eq-final">Copy equation</button>
                </div>
                <div class="mathBox">
                  <div class="label">Final formula (plain text)</div>
                  <pre class="eq" id="eq-final">U0 = (3/5) N EF</pre>
                </div>
              </div>
              <div class="card half">
                <div class="cardTitle">
                  <span class="tag"><span class="miniDot"></span>Core dispersion</span>
                  <button class="copyBtn" data-copy="#eq-disp">Copy equation</button>
                </div>
                <div class="mathBox">
                  <div class="label">Free-electron energy</div>
                  <pre class="eq" id="eq-disp">E(k) = (ħ^2 k^2) / (2 m)</pre>
                </div>
              </div>
            </div>

            <a class="backTop" href="#top" aria-label="Back to top"><span class="arrow"></span>Back to top</a>
          </section>

          <section id="part0">
            <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

            <h3>0.1 Core definitions (symbols + SI units)</h3>
            <ul>
              <li><strong>N</strong> — number of electrons (dimensionless).</li>
              <li><strong>V</strong> — volume (m³); often take a cube of side L so V=L³.</li>
              <li><strong>n = N/V</strong> — number density (m⁻³).</li>
              <li><strong>m</strong> — electron mass (kg) (free-electron model).</li>
              <li><strong>ħ</strong> — reduced Planck constant (J·s).</li>
              <li><strong>k</strong> — wavevector magnitude (m⁻¹).</li>
              <li><strong>k<sub>F</sub></strong> — Fermi wavevector (m⁻¹).</li>
              <li><strong>E(k)</strong> — single-particle kinetic energy (J).</li>
              <li><strong>E<sub>F</sub></strong> — Fermi energy (J or eV).</li>
              <li><strong>U<sub>0</sub></strong> — total kinetic energy at 0 K (J).</li>
            </ul>

            <h3>0.2 Physical meaning</h3>
            <p>
              Fermions obey the Pauli exclusion principle. At 0 K, the ground state is formed by occupying
              every available single-particle state starting from the lowest energy, up to a cutoff energy E<sub>F</sub>.
              In momentum space this produces a filled sphere (“Fermi sea”) of radius k<sub>F</sub>.
            </p>

            <h3>0.3 Key laws/principles and validity conditions</h3>
            <div class="callouts">
              <div class="card third">
                <div class="cardTitle">
                  <span class="tag good"><span class="miniDot"></span>Fermi statistics at 0 K</span>
                </div>
                <p>Occupation: f(E)=1 for E≤E<sub>F</sub>, f(E)=0 for E&gt;E<sub>F</sub>.</p>
              </div>
              <div class="card third">
                <div class="cardTitle">
                  <span class="tag warn"><span class="miniDot"></span>Free electrons</span>
                </div>
                <p>No interactions, no external potential. The Hamiltonian is purely kinetic (Laplacian operator).</p>
              </div>
              <div class="card third">
                <div class="cardTitle">
                  <span class="tag"><span class="miniDot"></span>Thermodynamic limit</span>
                </div>
                <p>Sums over discrete k-states become integrals because the spectrum becomes dense as V grows.</p>
              </div>
            </div>

            <h3>0.4 Common models/approximations</h3>
            <ul>
              <li><strong>Periodic boundary conditions (PBC):</strong> Makes eigenstates plane waves and state counting clean; physical results become boundary-independent for large V.</li>
              <li><strong>Continuum k-space approximation:</strong> Replace discrete sums by integrals (Riemann sum → integral).</li>
              <li><strong>Rotational symmetry:</strong> Since E depends only on |k|, integrate over spheres in k-space.</li>
            </ul>

            <h3>0.5 Mini intuition examples</h3>
            <ul>
              <li><strong>Why average energy is less than E<sub>F</sub>:</strong> many electrons sit deep in the Fermi sea at energies much smaller than E<sub>F</sub>.</li>
              <li><strong>Scaling hint:</strong> N~k<sub>F</sub>³ while E~k² ⇒ average energy ~k<sub>F</sub>²~E<sub>F</sub> times a constant.</li>
            </ul>

            <h3>0.6 What to watch for</h3>
            <ul>
              <li>Include spin factor 2.</li>
              <li>Use <span style="font-family:var(--mono)">d^3k = 4πk^2 dk</span> only after invoking isotropy.</li>
              <li>Track factors of (2π) from PBC state density.</li>
              <li>Remember E<sub>F</sub> is a maximum, not an average.</li>
            </ul>

            <div class="card" style="margin-top:12px;">
              <div class="cardTitle">
                <span class="tag"><span class="miniDot"></span>Math Insight</span>
              </div>
              <p>
                The derivation is a geometric integration over a 3D ball in k-space:
                <span style="font-family:var(--mono)">Σ_k → (V/(2π)^3)∫ d^3k</span>.
                The prefactor <span style="font-family:var(--mono)">3/5</span> emerges as a ratio of moments
                <span style="font-family:var(--mono)">∫_0^1 x^4 dx</span> and <span style="font-family:var(--mono)">∫_0^1 x^2 dx</span>.
              </p>
            </div>

            <a class="backTop" href="#top"><span class="arrow"></span>Back to top</a>
          </section>

          <section id="part0b">
            <h2>PART 0B — Industry & Applied Physics Perspective</h2>

            <h3>Where this appears in industry</h3>
            <ul>
              <li><strong>Metal interconnects:</strong> Degenerate electrons define baseline energy/velocity scales that influence transport models and reliability concerns like electromigration.</li>
              <li><strong>Degenerate semiconductors:</strong> Heavy doping pushes E<sub>F</sub> into a band; energy and DOS relations matter for device simulation.</li>
              <li><strong>Cryo-electronics & low-T metrology:</strong> Degenerate electrons yield small heat capacity at low T; crucial for cryogenic sensors and quantum hardware environments.</li>
            </ul>

            <h3>Why engineers care</h3>
            <ul>
              <li><strong>Performance:</strong> E<sub>F</sub> sets characteristic carrier speeds near the Fermi surface.</li>
              <li><strong>Reliability:</strong> Energy scales affect scattering, heating, and failure mechanisms.</li>
              <li><strong>Efficiency/cost:</strong> Predictive models reduce trial-and-error in material/doping choice.</li>
            </ul>

            <h3>Typical measurement/validation methods</h3>
            <ul>
              <li><strong>ARPES:</strong> Probes band structure and Fermi surface.</li>
              <li><strong>Transport (Hall/resistivity):</strong> Constrains density and degeneracy.</li>
              <li><strong>Low-T heat capacity:</strong> Electronic contribution relates to DOS at E<sub>F</sub>.</li>
            </ul>

            <h3>Design trade-offs and constraints</h3>
            <ul>
              <li>Real solids: replace free-electron m with effective mass and consider anisotropy.</li>
              <li>Interactions and disorder modify energies; free-electron model is the baseline.</li>
              <li>Finite temperature smears the sharp 0 K step; corrections are systematic (Sommerfeld expansion).</li>
            </ul>

            <h3>From lab to product</h3>
            <p>
              Engineers keep the same counting framework but use realistic dispersions E<sub>n</sub>(k) from experiments/DFT,
              plus scattering models in Boltzmann transport to connect to measurable conductivities.
            </p>

            <a class="backTop" href="#top"><span class="arrow"></span>Back to top</a>
          </section>

          <section id="part1">
            <h2>PART 1 — Problem Analysis (No Solving Yet)</h2>

            <h3>1.1 Restate the problem</h3>
            <p>
              For a 3D gas of N free electrons at T=0 K, prove that the total kinetic energy is U<sub>0</sub> = (3/5) N E<sub>F</sub>.
            </p>

            <h3>1.2 Given, unknowns, goal</h3>
            <ul>
              <li><strong>Given:</strong> N electrons, free-particle model, 3D, T=0.</li>
              <li><strong>Unknown:</strong> U<sub>0</sub>.</li>
              <li><strong>Prove:</strong> U<sub>0</sub> = (3/5) N E<sub>F</sub>.</li>
            </ul>

            <h3>1.3 Relevant principles</h3>
            <ul>
              <li>Free-particle Schrödinger eigenproblem with Laplacian operator ∇².</li>
              <li>Pauli exclusion + spin degeneracy (2 states per k).</li>
              <li>0 K occupation step at E<sub>F</sub>.</li>
              <li>Sum-to-integral replacement in large volume.</li>
            </ul>

            <h3>1.4 Mathematical model (explicit)</h3>
            <div class="callouts">
              <div class="card half">
                <div class="cardTitle">
                  <span class="tag"><span class="miniDot"></span>Domain & boundary conditions</span>
                </div>
                <ul>
                  <li>Domain: Ω=[0,L]³, V=L³.</li>
                  <li>Boundary conditions: periodic, ψ(r+Le<sub>i</sub>)=ψ(r).</li>
                  <li>Coordinates: Cartesian in r; spherical in k due to isotropy.</li>
                </ul>
              </div>
              <div class="card half">
                <div class="cardTitle">
                  <span class="tag"><span class="miniDot"></span>Operator/eigenvalue problem</span>
                </div>
                <div class="mathBox">
                  <div class="label">Hamiltonian eigenproblem</div>
                  <pre class="eq" id="eq-ham">Ĥ ψ = E ψ,  Ĥ = - (ħ^2 / 2m) ∇^2   on Ω with PBC</pre>
                </div>
                <div class="copyRow">
                  <button class="copyBtn" data-copy="#eq-ham">Copy equation</button>
                </div>
              </div>
            </div>

            <h3>1.5 Approaches</h3>
            <ol>
              <li><strong>k-space volume counting:</strong> Directly integrate over occupied k-sphere.</li>
              <li><strong>DOS method:</strong> Derive g(E) and integrate up to E<sub>F</sub>.</li>
              <li><strong>Thermodynamic identities:</strong> Use known relations for degenerate gases (less “from scratch”).</li>
            </ol>

            <h3>1.6 Chosen approach</h3>
            <p>
              Use k-space counting (most transparent) and show every step, including the sum→integral measure and symmetry arguments.
            </p>

            <a class="backTop" href="#top"><span class="arrow"></span>Back to top</a>
          </section>

          <section id="part2">
            <h2>PART 2 — Strategy & Tips (Roadmap Only)</h2>

            <ol>
              <li>Write the free-particle Hamiltonian and plane-wave eigenstates; extract E(k).</li>
              <li>Use PBC to find k-lattice spacing and the sum→integral conversion factor.</li>
              <li>At 0 K, identify the occupied region |k|≤k<sub>F</sub>.</li>
              <li>Compute N by integrating d³k over the k-sphere, including spin.</li>
              <li>Compute U<sub>0</sub> by integrating E(k)d³k over the same region.</li>
              <li>Eliminate k<sub>F</sub> using E<sub>F</sub>=ħ²k<sub>F</sub>²/(2m), then simplify to get U<sub>0</sub>=(3/5)NE<sub>F</sub>.</li>
              <li>Check units and interpret physically.</li>
            </ol>

            <div class="callouts">
              <div class="card half">
                <div class="cardTitle">
                  <span class="tag warn"><span class="miniDot"></span>Common mistakes</span>
                </div>
                <ul>
                  <li>Forget spin factor 2.</li>
                  <li>Mis-handle (2π)³ in the measure.</li>
                  <li>Use k² instead of k⁴ in the energy integral (must multiply by E∝k²).</li>
                  <li>Skip steps when simplifying constants.</li>
                </ul>
              </div>
              <div class="card half">
                <div class="cardTitle">
                  <span class="tag"><span class="miniDot"></span>Scaling check</span>
                </div>
                <p>
                  N~k<sub>F</sub>³, U~k<sub>F</sub>⁵ ⇒ U/N ~ k<sub>F</sub>² ~ E<sub>F</sub>.
                  So the final answer must be a constant times N E<sub>F</sub>.
                </p>
              </div>
            </div>

            <a class="backTop" href="#top"><span class="arrow"></span>Back to top</a>
          </section>

          <section id="part3">
            <h2>PART 3 — Full Solution (Detailed + Teaching)</h2>

            <h3>3.1 Physical intuition</h3>
            <p>
              The filled Fermi sea includes many low-energy electrons. Since E<sub>F</sub> is the maximum occupied energy,
              the mean must be some fraction &lt; 1 of E<sub>F</sub>. In 3D with E∝k², the weighting produces exactly 3/5.
            </p>

            <h3>3.2 Step 1 — Operator model and dispersion</h3>
            <div class="mathBox">
              <div class="label">Hamiltonian (operator notation)</div>
              <pre class="eq" id="eq-op">Ĥ = - (ħ^2 / 2m) ∇^2</pre>
            </div>
            <p>
              With PBC, eigenfunctions are plane waves ψ<sub>k</sub>(r)=V<sup>-1/2</sup>e<sup>ik·r</sup>.
              Using linearity of ∇² and the identity ∇²e<sup>ik·r</sup>=-|k|²e<sup>ik·r</sup>,
              we get the eigenvalue:
            </p>
            <div class="mathBox">
              <div class="label">Dispersion</div>
              <pre class="eq" id="eq-disp2">E(k) = (ħ^2 |k|^2) / (2m)</pre>
            </div>

            <h3>3.3 Step 2 — k-space measure (sum → integral)</h3>
            <p>
              PBC implies allowed k components: k<sub>i</sub>=(2π/L)n<sub>i</sub>. Hence spacing in each direction is Δk=2π/L,
              so each k-state occupies volume (Δk)³=(2π/L)³=(2π)³/V in k-space. Therefore,
            </p>
            <div class="mathBox">
              <div class="label">k-space cell and sum→integral rule</div>
              <pre class="eq" id="eq-sumint">Σ_{k,spin} (…) ≈ 2 * (V/(2π)^3) ∫ (…) d^3k</pre>
            </div>
            <p>
              This is valid as V→∞ because the k-lattice becomes dense and the sum is a Riemann sum approximation of the integral.
            </p>

            <h3>3.4 Step 3 — 0 K occupation and Fermi sphere</h3>
            <div class="mathBox">
              <div class="label">0 K occupation</div>
              <pre class="eq" id="eq-occ">f(E) = 1 for E ≤ EF, and f(E) = 0 for E > EF</pre>
            </div>
            <p>
              Since E depends only on |k|, occupied states form a sphere |k|≤k<sub>F</sub>, with
            </p>
            <div class="mathBox">
              <div class="label">Fermi relation</div>
              <pre class="eq" id="eq-efkf">EF = (ħ^2 kF^2) / (2m)</pre>
            </div>

            <h3>3.5 Step 4 — Compute N (explicit angular integration)</h3>
            <div class="mathBox">
              <div class="label">Start from counting definition</div>
              <pre class="eq" id="eq-nstart">N = 2 * (V/(2π)^3) ∫_{|k|≤kF} d^3k</pre>
            </div>
            <p>
              Use spherical coordinates in k-space: d³k = k² sinθ dk dθ dφ. Because the integrand is 1 (radial symmetry),
              integrate over angles:
              ∫₀²π dφ ∫₀^π sinθ dθ = 4π. Hence
            </p>
            <div class="mathBox">
              <div class="label">Evaluate the integral step-by-step</div>
              <pre class="eq" id="eq-nint">N = 2 * (V/(2π)^3) * ∫_0^{kF} (4π k^2) dk
  = 2 * (V/(2π)^3) * 4π * [k^3/3]_0^{kF}
  = 2 * (V/(2π)^3) * 4π * (kF^3/3)</pre>
            </div>
            <p>
              Since (2π)³=8π³, we simplify:
            </p>
            <div class="mathBox">
              <div class="label">Result for N</div>
              <pre class="eq" id="eq-nkf">N = V * (kF^3) / (3π^2)</pre>
            </div>

            <h3>3.6 Step 5 — Compute U0 (energy integral, no skipped steps)</h3>
            <div class="mathBox">
              <div class="label">Energy definition</div>
              <pre class="eq" id="eq-ustart">U0 = 2 * (V/(2π)^3) ∫_{|k|≤kF} E(k) d^3k</pre>
            </div>
            <p>
              Substitute E(k)=ħ²k²/(2m) and use spherical coordinates:
            </p>
            <div class="mathBox">
              <div class="label">Substitute and integrate</div>
              <pre class="eq" id="eq-uint">U0 = 2 * (V/(2π)^3) ∫_0^{kF} (ħ^2 k^2/(2m)) (4π k^2) dk
   = 2 * (V/(2π)^3) * (ħ^2/(2m)) * 4π ∫_0^{kF} k^4 dk</pre>
            </div>
            <p>
              Compute the radial integral:
              ∫₀^{kF} k⁴ dk = [k⁵/5]₀^{kF} = kF⁵/5.
              Then
            </p>
            <div class="mathBox">
              <div class="label">Simplify constants</div>
              <pre class="eq" id="eq-ukf2">U0 = 2 * (V/(2π)^3) * (ħ^2/(2m)) * 4π * (kF^5/5)
   = (V/(2π)^3) * (ħ^2/m) * 4π * (kF^5/5)
   = V * (ħ^2 kF^5) / (10 m π^2)</pre>
            </div>

            <h3>3.7 Step 6 — Eliminate kF using EF and compare with N EF</h3>
            <p>
              Compute N·E<sub>F</sub> using N = V kF³/(3π²) and E<sub>F</sub> = ħ²kF²/(2m):
            </p>
            <div class="mathBox">
              <div class="label">Compute N EF explicitly</div>
              <pre class="eq" id="eq-nef">N EF = (V kF^3/(3π^2)) * (ħ^2 kF^2/(2m))
     = V * (ħ^2 kF^5) / (6 m π^2)</pre>
            </div>
            <p>
              Now take the ratio:
            </p>
            <div class="mathBox">
              <div class="label">Ratio gives the prefactor</div>
              <pre class="eq" id="eq-ratio">U0 / (N EF) = [V ħ^2 kF^5/(10 m π^2)] / [V ħ^2 kF^5/(6 m π^2)]
            = (1/10)/(1/6)
            = 6/10
            = 3/5</pre>
            </div>

            <div class="callouts">
              <div class="card">
                <div class="cardTitle">
                  <span class="tag good"><span class="miniDot"></span>Final Answer</span>
                  <button class="copyBtn" id="copy-final" data-copy="#final-ans">Copy final answer</button>
                </div>
                <div class="mathBox">
                  <div class="label">Boxed result (plain text)</div>
                  <pre class="eq" id="final-ans">U0 = (3/5) N EF</pre>
                </div>
              </div>
            </div>

            <h3>3.8 Sanity checks</h3>
            <div class="callouts">
              <div class="card half">
                <div class="cardTitle">
                  <span class="tag"><span class="miniDot"></span>Dimensional analysis</span>
                </div>
                <p>N is dimensionless, E<sub>F</sub> has units of energy, so U<sub>0</sub> has units of energy.</p>
              </div>
              <div class="card half">
                <div class="cardTitle">
                  <span class="tag"><span class="miniDot"></span>Physical reasonableness</span>
                </div>
                <p>Average energy U<sub>0</sub>/N = (3/5)E<sub>F</sub> &lt; E<sub>F</sub>, consistent with a filled sea.</p>
              </div>
            </div>

            <div class="card" style="margin-top:12px;">
              <div class="cardTitle">
                <span class="tag"><span class="miniDot"></span>Nondimensionalization (why 3/5 is inevitable)</span>
              </div>
              <p>
                Let x=k/k<sub>F</sub>. Then N ∝ ∫₀¹ x² dx = 1/3 and U ∝ ∫₀¹ x⁴ dx = 1/5.
                The ratio (1/5)/(1/3)=3/5 is purely geometric (3D) + dispersion (k²).
              </p>
            </div>

            <a class="backTop" href="#top"><span class="arrow"></span>Back to top</a>
          </section>

          <section id="part4">
            <h2>PART 4 — Deeper Understanding (Theory Around the Result)</h2>

            <h3>4.1 What each term controls</h3>
            <p>
              E<sub>F</sub> sets the characteristic single-particle energy scale of the degenerate gas; N scales the extensive total energy.
              The factor 3/5 encodes the distribution of occupied energies under the 3D DOS.
            </p>

            <h3>4.2 Parameter dependence</h3>
            <ul>
              <li>For fixed volume, higher N ⇒ higher density ⇒ larger k<sub>F</sub> and E<sub>F</sub>, so U<sub>0</sub> rises superlinearly with density.</li>
              <li>For a given density, larger m ⇒ smaller E<sub>F</sub> (since E<sub>F</sub>∝1/m), reducing U<sub>0</sub>.</li>
            </ul>

            <h3>4.3 Alternative derivation idea (DOS)</h3>
            <p>
              Derive g(E) in 3D: g(E) = C √E. Then
              N = ∫₀^{E<sub>F</sub>} g(E)dE ∝ E<sub>F</sub>^{3/2} and
              U = ∫₀^{E<sub>F</sub>} E g(E)dE ∝ E<sub>F</sub>^{5/2}, giving U/N = (3/5)E<sub>F</sub>.
            </p>

            <div class="card" style="margin-top:12px;">
              <div class="cardTitle">
                <span class="tag"><span class="miniDot"></span>Math Insight</span>
              </div>
              <p>
                The result is a ratio of two integrals of a power-law measure: moment(5/2) divided by moment(3/2),
                or equivalently k-moment(5) divided by k-moment(3). This is a clean example of how spectral geometry determines thermodynamics.
              </p>
            </div>

            <h3>4.4 Concept check</h3>
            <ul>
              <li><strong>Q:</strong> Why does spherical symmetry apply in k-space? <strong>A:</strong> Because E depends only on |k| for free electrons, making constant-energy surfaces spheres.</li>
              <li><strong>Q:</strong> Where does the factor 2 come from? <strong>A:</strong> Spin degeneracy (two spins per k-state).</li>
              <li><strong>Q:</strong> Is the 3/5 universal? <strong>A:</strong> No; it depends on dimension and dispersion.</li>
            </ul>

            <a class="backTop" href="#top"><span class="arrow"></span>Back to top</a>
          </section>

          <section id="plot">
            <h2>Single Static Plot (Helpful Visualization)</h2>
            <p>
              Plotting normalized curves highlights that higher energies contribute more strongly to U, but the mean remains below E<sub>F</sub>.
              We plot (dimensionless) g(E)/g(E<sub>F</sub>) = √(E/E<sub>F</sub>) and (E g(E))/(E<sub>F</sub>g(E<sub>F</sub>)) = (E/E<sub>F</sub>)^(3/2) for 0≤E/E<sub>F</sub>≤1.
            </p>

            <figure>
              <canvas id="dosCanvas" width="1200" height="660" aria-label="Density of states plot"></canvas>
              <figcaption>
                Normalized example plot (dimensionless). The ratio of the areas under the weighted and unweighted curves equals (3/5), giving U<sub>0</sub>/N = (3/5)E<sub>F</sub>.
              </figcaption>
            </figure>

            <a class="backTop" href="#top"><span class="arrow"></span>Back to top</a>
          </section>

          <section id="part5">
            <h2>PART 5 — Optional Plot Guide</h2>

            <h3>What it shows</h3>
            <ul>
              <li>x-axis: E/E<sub>F</sub> (dimensionless).</li>
              <li>y-axis: normalized DOS and normalized energy contribution (dimensionless).</li>
              <li>Feature: energy weighting increases curvature; the area ratio yields 3/5.</li>
            </ul>

            <h3>Example values</h3>
            <p>No numerical parameters are used; everything is normalized. The final solution remains symbolic.</p>

            <a class="backTop" href="#top"><span class="arrow"></span>Back to top</a>
          </section>

        </article>
      </div>
    </div>

    <div class="toast" id="toast" role="status" aria-live="polite">Copied.</div>
  </main>

  <footer>
    <div class="wrap">
      <div style="display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between;">
        <div>© Learning article — Free-electron Fermi gas at 0 K. Built with vanilla HTML/CSS/JS.</div>
        <div style="color:var(--faint)">Tip: Print this page for a clean handout.</div>
      </div>
    </div>
  </footer>

  <script>
    // Copy-to-clipboard buttons (plain text)
    (function(){
      const toast = document.getElementById('toast');
      let toastTimer = null;

      function showToast(msg){
        toast.textContent = msg || "Copied.";
        toast.classList.add('show');
        clearTimeout(toastTimer);
        toastTimer = setTimeout(()=>toast.classList.remove('show'), 1200);
      }

      async function copyText(txt){
        try{
          await navigator.clipboard.writeText(txt);
          showToast("Copied to clipboard.");
        }catch(e){
          const ta = document.createElement('textarea');
          ta.value = txt;
          ta.style.position = 'fixed';
          ta.style.left = '-9999px';
          document.body.appendChild(ta);
          ta.select();
          try{
            document.execCommand('copy');
            showToast("Copied (fallback).");
          }catch(err){
            showToast("Copy failed.");
          }
          document.body.removeChild(ta);
        }
      }

      document.querySelectorAll('.copyBtn[data-copy]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const sel = btn.getAttribute('data-copy');
          const el = document.querySelector(sel);
          if(!el) return showToast("Nothing to copy.");
          copyText(el.textContent.trim());
        });
      });
    })();

    // Single static plot: normalized DOS g(E) ~ sqrt(E) and E*g(E) ~ E^(3/2), for E/EF in [0,1]
    (function(){
      const canvas = document.getElementById('dosCanvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');

      function draw(){
        const dpr = Math.max(1, window.devicePixelRatio || 1);
        const cssW = canvas.clientWidth;
        const cssH = canvas.clientHeight;
        canvas.width = Math.round(cssW * dpr);
        canvas.height = Math.round(cssH * dpr);
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

        const W = cssW, H = cssH;
        ctx.clearRect(0,0,W,H);

        // Layout
        const padL = 62, padR = 18, padT = 34, padB = 56;
        const plotW = W - padL - padR;
        const plotH = H - padT - padB;

        // Colors from CSS variables
        const styles = getComputedStyle(document.documentElement);
        const text = styles.getPropertyValue('--text').trim() || 'rgba(255,255,255,0.9)';
        const muted = styles.getPropertyValue('--muted').trim() || 'rgba(255,255,255,0.72)';
        const line = styles.getPropertyValue('--line').trim() || 'rgba(255,255,255,0.14)';
        const accent = styles.getPropertyValue('--accent').trim() || '#7dd3fc';
        const accent2 = styles.getPropertyValue('--accent2').trim() || '#a78bfa';

        // Axes mapping
        const xMin = 0, xMax = 1;
        const yMin = 0, yMax = 1.05;
        function xToPx(x){ return padL + (x - xMin) / (xMax - xMin) * plotW; }
        function yToPx(y){ return padT + (1 - (y - yMin) / (yMax - yMin)) * plotH; }

        // Title
        ctx.fillStyle = text;
        ctx.font = '600 15px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillText('3D Normalized Density of States and Energy Weighting (0 ≤ E/EF ≤ 1)', padL, 20);

        // Grid + ticks
        ctx.strokeStyle = line;
        ctx.lineWidth = 1;

        const xTicks = 6;
        const yTicks = 6;

        ctx.beginPath();
        for(let i=0;i<=xTicks;i++){
          const x = xMin + (xMax-xMin)*i/xTicks;
          const px = xToPx(x);
          ctx.moveTo(px, padT);
          ctx.lineTo(px, padT+plotH);
        }
        for(let j=0;j<=yTicks;j++){
          const y = yMin + (yMax-yMin)*j/yTicks;
          const py = yToPx(y);
          ctx.moveTo(padL, py);
          ctx.lineTo(padL+plotW, py);
        }
        ctx.stroke();

        // Axes
        ctx.strokeStyle = muted;
        ctx.lineWidth = 1.3;
        ctx.beginPath();
        ctx.moveTo(padL, padT);
        ctx.lineTo(padL, padT+plotH);
        ctx.lineTo(padL+plotW, padT+plotH);
        ctx.stroke();

        // Tick labels
        ctx.fillStyle = muted;
        ctx.font = '12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        for(let i=0;i<=xTicks;i++){
          const x = xMin + (xMax-xMin)*i/xTicks;
          const px = xToPx(x);
          const label = (Math.round(x*100)/100).toFixed( (i===0 || i===xTicks) ? 0 : 1 );
          ctx.fillText(label, px-8, padT+plotH+22);
        }
        for(let j=0;j<=yTicks;j++){
          const y = yMin + (yMax-yMin)*j/yTicks;
          const py = yToPx(y);
          const label = (Math.round(y*100)/100).toFixed( (j===0) ? 0 : 1 );
          ctx.fillText(label, 14, py+4);
        }

        // Axis labels
        ctx.fillStyle = text;
        ctx.font = '600 13px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillText('x = E/EF (dimensionless)', padL + plotW/2 - 78, padT+plotH+44);

        // y-label
        ctx.save();
        ctx.translate(16, padT + plotH/2 + 52);
        ctx.rotate(-Math.PI/2);
        ctx.fillText('Normalized y (dimensionless)', 0, 0);
        ctx.restore();

        // Curves
        function plotCurve(fn, stroke){
          ctx.strokeStyle = stroke;
          ctx.lineWidth = 2.2;
          ctx.beginPath();
          const N = 400;
          for(let i=0;i<=N;i++){
            const x = xMin + (xMax-xMin)*i/N;
            const y = fn(x);
            const px = xToPx(x);
            const py = yToPx(y);
            if(i===0) ctx.moveTo(px, py);
            else ctx.lineTo(px, py);
          }
          ctx.stroke();
        }

        plotCurve(x => Math.sqrt(x), accent);
        plotCurve(x => Math.pow(x, 1.5), accent2);

        // Legend
        const lx = padL + 14, ly = padT + 12;
        ctx.fillStyle = 'rgba(0,0,0,0.25)';
        ctx.strokeStyle = line;
        ctx.lineWidth = 1;
        const boxW = 290, boxH = 60;

        function roundRect(c, x, y, w, h, r){
          c.beginPath();
          c.moveTo(x+r, y);
          c.arcTo(x+w, y, x+w, y+h, r);
          c.arcTo(x+w, y+h, x, y+h, r);
          c.arcTo(x, y+h, x, y, r);
          c.arcTo(x, y, x+w, y, r);
          c.closePath();
        }

        roundRect(ctx, lx-10, ly-10, boxW, boxH, 12);
        ctx.fill();
        ctx.stroke();

        ctx.font = '13px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';

        ctx.strokeStyle = accent; ctx.lineWidth = 3;
        ctx.beginPath(); ctx.moveTo(lx, ly+10); ctx.lineTo(lx+34, ly+10); ctx.stroke();
        ctx.fillStyle = text;
        ctx.fillText('g(E)/g(EF) = √(E/EF)', lx+44, ly+14);

        ctx.strokeStyle = accent2; ctx.lineWidth = 3;
        ctx.beginPath(); ctx.moveTo(lx, ly+36); ctx.lineTo(lx+34, ly+36); ctx.stroke();
        ctx.fillStyle = text;
        ctx.fillText('(E g(E)) / (EF g(EF)) = (E/EF)^(3/2)', lx+44, ly+40);
      }

      let t=null;
      window.addEventListener('resize', ()=>{
        clearTimeout(t);
        t=setTimeout(draw, 90);
      });
      draw();
    })();
  </script>
</body>
</html>
