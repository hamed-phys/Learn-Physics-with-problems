<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Schottky Vacancies in Sodium: Equilibrium Concentration at 300 K</title>
  <style>
    :root{
      --bg:#0b0f14;
      --card:#111826;
      --muted:#9bb0c6;
      --text:#e8f0fb;
      --accent:#6ee7ff;
      --accent2:#a78bfa;
      --warn:#ffcc66;
      --ok:#7CFFB2;
      --border:rgba(255,255,255,.10);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:var(--sans);
      background: radial-gradient(1200px 800px at 20% 0%, rgba(110,231,255,.10), transparent 55%),
                  radial-gradient(900px 700px at 90% 10%, rgba(167,139,250,.10), transparent 55%),
                  var(--bg);
      color:var(--text);
      line-height:1.55;
    }
    header{
      padding: 28px 18px 10px;
      border-bottom:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.03), transparent);
      position:relative;
      overflow:hidden;
    }
    header .wrap{
      max-width:1200px;
      margin:0 auto;
      display:grid;
      grid-template-columns: 1.3fr .7fr;
      gap:18px;
      align-items:start;
    }
    h1{
      margin:0 0 8px 0;
      font-size: clamp(1.35rem, 2.2vw, 2.1rem);
      letter-spacing:.2px;
    }
    .subtitle{
      margin:0;
      color:var(--muted);
      font-size: .98rem;
    }
    .meta{
      background: rgba(255,255,255,.03);
      border:1px solid var(--border);
      border-radius:16px;
      padding:14px 14px;
      box-shadow: var(--shadow);
    }
    .meta strong{color:var(--accent)}
    .layout{
      max-width:1200px;
      margin: 0 auto;
      padding: 18px;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap:18px;
      align-items:start;
    }
    nav{
      position: sticky;
      top: 14px;
      align-self:start;
      background: rgba(255,255,255,.03);
      border:1px solid var(--border);
      border-radius:16px;
      padding:14px;
      box-shadow: var(--shadow);
    }
    nav h2{
      margin:0 0 8px 0;
      font-size:1.02rem;
      color:var(--accent);
      letter-spacing:.3px;
    }
    nav a{
      display:block;
      padding:8px 10px;
      margin:4px 0;
      border-radius:12px;
      color:var(--text);
      text-decoration:none;
      border:1px solid transparent;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      font-size:.96rem;
    }
    nav a:hover{
      background: rgba(110,231,255,.06);
      border-color: rgba(110,231,255,.18);
      transform: translateY(-1px);
    }
    nav .toplink{
      margin-top:10px;
      padding-top:10px;
      border-top:1px solid var(--border);
      color:var(--muted);
      font-size:.92rem;
    }
    main{
      min-width:0;
    }
    section, article{
      background: rgba(255,255,255,.03);
      border:1px solid var(--border);
      border-radius:18px;
      padding: 18px;
      margin-bottom: 16px;
      box-shadow: var(--shadow);
    }
    h2{
      margin:0 0 10px;
      font-size:1.25rem;
      letter-spacing:.2px;
    }
    h3{
      margin: 14px 0 8px;
      font-size: 1.05rem;
      color: #d7e7ff;
    }
    p{margin: 10px 0}
    ul{margin: 8px 0 8px 22px}
    li{margin:6px 0}
    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
    }
    @media (max-width: 980px){
      header .wrap{grid-template-columns:1fr}
      .layout{grid-template-columns:1fr}
      nav{position:relative; top:auto}
      .grid2{grid-template-columns:1fr}
    }
    .callout{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border-radius:16px;
      padding:14px;
      margin: 12px 0;
    }
    .callout .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-weight:700;
      font-size:.86rem;
      letter-spacing:.35px;
      text-transform:uppercase;
      color: var(--accent);
      margin-bottom:8px;
    }
    .callout.warn .tag{color: var(--warn)}
    .callout.ok .tag{color: var(--ok)}
    .callout .tag::before{
      content:"";
      width:10px;height:10px;border-radius:50%;
      background: currentColor;
      box-shadow: 0 0 0 4px rgba(255,255,255,.04);
    }
    .eqbox{
      border:1px solid rgba(110,231,255,.22);
      background: rgba(110,231,255,.06);
      border-radius:16px;
      padding:12px;
      margin: 12px 0;
      overflow:auto;
    }
    pre{
      margin:0;
      white-space:pre-wrap;
      word-break:break-word;
      font-family: var(--mono);
      font-size: .95rem;
      line-height: 1.5;
      color: #eaf6ff;
    }
    code{font-family: var(--mono)}
    .btnrow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
    }
    button.copy{
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      color:var(--text);
      border-radius:12px;
      padding:10px 12px;
      font-weight:600;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    button.copy:hover{
      transform: translateY(-1px);
      background: rgba(167,139,250,.08);
      border-color: rgba(167,139,250,.22);
    }
    .tiny{
      font-size:.92rem;
      color:var(--muted);
    }
    details{
      border:1px solid var(--border);
      border-radius:16px;
      padding:10px 12px;
      background: rgba(255,255,255,.02);
      margin: 12px 0;
    }
    details summary{
      cursor:pointer;
      font-weight:700;
      color: #d9ecff;
    }
    footer{
      max-width:1200px;
      margin: 0 auto;
      padding: 10px 18px 28px;
      color: var(--muted);
      font-size:.92rem;
    }
    .kpi{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    .kpi .box{
      border:1px solid var(--border);
      border-radius:16px;
      padding:12px;
      background: rgba(255,255,255,.02);
    }
    .kpi .box .label{color:var(--muted); font-size:.86rem}
    .kpi .box .val{font-weight:800; font-size:1.05rem; margin-top:4px; color:#eaf6ff}
    .printnote{
      display:none;
    }
    @media print{
      body{background:#fff; color:#000}
      header, nav, .btnrow, .printnote{display:none !important}
      section, article{box-shadow:none; border:1px solid #ccc; background:#fff}
      a{color:#000; text-decoration:none}
      .eqbox{background:#f6fbff; border-color:#9adcf0}
      .callout{background:#f7f7f7; border-color:#ccc}
      h2{page-break-after:avoid}
      section, article{page-break-inside:avoid}
      .printnote{display:block}
    }
  </style>
</head>

<body>
  <header id="top">
    <div class="wrap">
      <div>
        <h1>Schottky (Vacancy) Concentration in Sodium at 300 K</h1>
        <p class="subtitle">
          A statistical-thermodynamics derivation (free-energy minimization) with an applied engineering lens:
          how a 1 eV vacancy-formation energy implies an extremely tiny equilibrium vacancy fraction at room temperature.
        </p>
      </div>
      <aside class="meta">
        <p style="margin:0 0 8px 0;"><strong>Given:</strong> energy to remove a Na atom from bulk to boundary = <strong>1 eV</strong></p>
        <p style="margin:0 0 8px 0;"><strong>Find:</strong> equilibrium Schottky vacancy concentration at <strong>300 K</strong></p>
        <p style="margin:0;" class="tiny">Interpretation: this is the vacancy formation energy in the dilute, non-interacting defect limit.</p>
      </aside>
    </div>
  </header>

  <div class="layout">
    <nav aria-label="Table of contents">
      <h2>Table of Contents</h2>
      <a href="#quick-summary">Quick Summary</a>
      <a href="#part0">PART 0 — Concept Primer</a>
      <a href="#part0b">PART 0B — Industry & Applied Physics</a>
      <a href="#part1">PART 1 — Problem Analysis</a>
      <a href="#part2">PART 2 — Strategy & Tips</a>
      <a href="#part3">PART 3 — Full Solution</a>
      <a href="#part4">PART 4 — Deeper Understanding</a>
      <a href="#part5">PART 5 — Optional Plot Guide</a>
      <div class="toplink">
        <a href="#top">Back to top ↑</a>
      </div>
    </nav>

    <main>
      <section id="quick-summary">
        <h2>Quick Summary</h2>
        <ul>
          <li><strong>What this is:</strong> equilibrium concentration of vacancies (“Schottky vacancies”) in a sodium crystal at 300 K.</li>
          <li><strong>Key physics idea:</strong> defects cost energy but increase entropy; equilibrium comes from minimizing the <em>Helmholtz free energy</em>.</li>
          <li><strong>Governing equation:</strong> in the dilute limit, vacancy fraction <code>c = n_v/N ≈ exp(-E_f/(k_B T))</code>.</li>
          <li><strong>Given parameter:</strong> vacancy formation energy <code>E_f = 1 eV</code> (remove one atom from bulk to boundary/surface).</li>
          <li><strong>Numerical result:</strong> at 300 K, <code>k_B T ≈ 0.02585 eV</code>, so <code>c ≈ exp(-38.7) ≈ 1.6×10^-17</code>.</li>
          <li><strong>Physical meaning:</strong> at room temperature, thermal creation of vacancies in Na metal is <em>vanishingly small</em>; diffusion via vacancies is slow unless T is high or nonequilibrium defects exist.</li>
          <li><strong>Optional absolute density:</strong> using Na atomic density <code>N/V ≈ 2.5×10^22 cm^-3</code>, we get <code>n_v/V ≈ 4×10^5 cm^-3</code> (still tiny).</li>
          <li><strong>Result type:</strong> numeric (dimensionless fraction; and optional per-volume concentration).</li>
        </ul>

        <div class="kpi" aria-label="Key results">
          <div class="box">
            <div class="label">Vacancy fraction (equilibrium)</div>
            <div class="val">c ≈ 1.6 × 10<sup>-17</sup></div>
          </div>
          <div class="box">
            <div class="label">Optional vacancy density</div>
            <div class="val">n<sub>v</sub>/V ≈ 4 × 10<sup>5</sup> cm<sup>-3</sup></div>
          </div>
        </div>
      </section>

      <article id="part0">
        <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

        <h3>Core definitions (symbols + SI units)</h3>
        <ul>
          <li><strong>Vacancy</strong>: a missing atom at a lattice site (point defect).</li>
          <li><code>N</code> — number of lattice sites in the crystal (dimensionless).</li>
          <li><code>n_v</code> — number of vacancies (dimensionless).</li>
          <li><code>c = n_v/N</code> — vacancy concentration (fraction, dimensionless).</li>
          <li><code>E_f</code> — vacancy formation energy (J in SI, often eV in solids).</li>
          <li><code>T</code> — absolute temperature (K).</li>
          <li><code>k_B</code> — Boltzmann constant (J/K or eV/K).</li>
          <li><code>F = U - T S</code> — Helmholtz free energy (J).</li>
        </ul>

        <h3>Physical meaning and intuition</h3>
        <p>
          Creating a vacancy costs internal energy because you break bonding/packing in the solid. But it also increases the
          number of microstates: you can place a vacancy in many possible lattice sites, which increases configurational entropy.
          At equilibrium, the solid chooses the <em>defect population</em> that minimizes free energy:
          energy penalty vs. entropy reward.
        </p>

        <div class="callout">
          <div class="tag">Key idea</div>
          <p style="margin:0;">
            <strong>Equilibrium defects are a thermodynamic balance:</strong>
            minimize <code>F(n_v) = U(n_v) - T S(n_v)</code> at fixed <code>T, V, N</code>.
          </p>
        </div>

        <h3>Key laws/principles + validity conditions</h3>
        <ul>
          <li><strong>Statistical thermodynamics:</strong> <code>F = -k_B T ln Z</code> or (more directly here) free-energy minimization.</li>
          <li><strong>Configurational entropy (ideal mixing):</strong> treat vacancies as an ideal “component” mixing with atoms on lattice sites.</li>
          <li><strong>Dilute-defect approximation:</strong> <code>c ≪ 1</code>, so vacancy–vacancy interactions are negligible, and <code>N - n_v ≈ N</code>.</li>
          <li><strong>Equilibrium assumption:</strong> enough time at temperature <code>T</code> for defect population to equilibrate.</li>
        </ul>

        <h3>Common models/approximations (and why)</h3>
        <ul>
          <li><strong>Non-interacting point defects:</strong> simplest useful model; yields exponential Arrhenius dependence.</li>
          <li><strong>Neglect formation entropy (or absorb into prefactor):</strong> often written <code>c = exp(ΔS_f/k_B) exp(-ΔH_f/(k_B T))</code>.
              If not given, we use the dominant energetic term.</li>
          <li><strong>Surface as reservoir:</strong> “remove atom from bulk to boundary” means the atom goes to a low-energy reservoir at the surface,
              so the energy quoted is the vacancy formation energy.</li>
        </ul>

        <h3>Mini intuition examples (minimal algebra)</h3>
        <ul>
          <li>If <code>E_f</code> increases, vacancies become exponentially rarer: doubling <code>E_f</code> squares the exponential penalty in the exponent.</li>
          <li>If <code>T</code> increases, vacancies rise rapidly because <code>k_B T</code> grows and the exponent becomes less negative.</li>
          <li>At room temperature, <code>k_B T</code> is about 0.026 eV, far smaller than typical defect energies (~1 eV), so vacancies are tiny.</li>
        </ul>

        <h3>What to watch for (pitfalls)</h3>
        <ul>
          <li><strong>Units trap:</strong> mixing Joules and eV without converting (or using <code>k_B</code> in the wrong units).</li>
          <li><strong>Schottky vs. Frenkel:</strong> Schottky = vacancy-type defects; in ionic crystals it often means a <em>pair</em> of vacancies to preserve charge neutrality.
              Here, sodium is a metal; the statement effectively means “vacancies.”</li>
          <li><strong>Prefactor ambiguity:</strong> more refined treatments include <code>exp(ΔS_f/k_B)</code> and sometimes degeneracy factors; if not given, the clean result is
              the Arrhenius exponential.</li>
          <li><strong>Equilibrium vs. processing:</strong> quenched-in defects from fast cooling can exceed equilibrium values.</li>
        </ul>

        <div class="callout ok">
          <div class="tag">Math Insight</div>
          <p style="margin:0;">
            The core equation <code>c ≈ exp(-E_f/(k_B T))</code> is an <strong>Arrhenius law</strong>:
            mathematically it comes from minimizing a <em>convex free-energy function</em> consisting of a linear energy term (<code>∝ n_v</code>)
            plus an entropy term (<code>∝ n_v ln n_v</code>) from combinatorics.
          </p>
        </div>
      </article>

      <article id="part0b">
        <h2>PART 0B — Industry & Applied Physics Perspective</h2>
        <p>
          Even though this problem is “textbook,” vacancy thermodynamics is a backbone concept in industrial materials engineering because
          vacancies enable diffusion, creep, sintering, microstructure evolution, and many failure modes.
        </p>

        <h3>Where it appears (concrete application areas)</h3>
        <ul>
          <li><strong>Heat treatment & microstructure control:</strong> vacancy-driven diffusion controls precipitation, homogenization, and grain growth.</li>
          <li><strong>Reliability of metallic interconnects (electronics):</strong> electromigration involves vacancy fluxes and void formation.</li>
          <li><strong>High-temperature components:</strong> creep deformation often relies on vacancy diffusion (Nabarro–Herring/Coble creep regimes).</li>
          <li><strong>Additive manufacturing & welding:</strong> rapid thermal cycles create nonequilibrium defect populations affecting strength and fatigue.</li>
        </ul>

        <h3>Why engineers care</h3>
        <ul>
          <li><strong>Performance:</strong> diffusion rates often scale with vacancy concentration, so defect thermodynamics links directly to kinetics.</li>
          <li><strong>Safety & reliability:</strong> voids, swelling, and creep rupture are defect-mediated phenomena.</li>
          <li><strong>Cost & manufacturability:</strong> controlling temperature/time profiles controls defect populations and hence properties and yield.</li>
        </ul>

        <h3>Typical measurement/validation methods</h3>
        <ul>
          <li><strong>Diffusion experiments:</strong> infer vacancy-related activation energies from Arrhenius plots of diffusivity.</li>
          <li><strong>Positron annihilation spectroscopy (PAS):</strong> sensitive to open-volume defects like vacancies.</li>
          <li><strong>Electrical resistivity/thermopower changes:</strong> defects scatter electrons, altering transport properties.</li>
        </ul>

        <h3>Design trade-offs and constraints</h3>
        <ul>
          <li>Real materials have impurities, dislocations, and grain boundaries that act as sinks/sources for vacancies.</li>
          <li>Processing may create <em>nonequilibrium</em> vacancies; design must consider kinetics (how fast equilibrium is reached).</li>
          <li>Defect interactions become important at higher concentrations (not the case here at 300 K for Na).</li>
        </ul>

        <details>
          <summary>From lab to product: adapting the ideal model</summary>
          <p>
            In product settings, the “equilibrium vacancy concentration” is a baseline. Engineers often need an <em>effective</em> vacancy concentration
            that includes excess vacancies from quenching, irradiation, or electromigration. Practically, one couples thermodynamics
            (this Arrhenius equilibrium) with kinetics (diffusion equations and sink strengths for dislocations/grain boundaries) to predict
            time-dependent defect evolution.
          </p>
        </details>
      </article>

      <article id="part1">
        <h2>PART 1 — Problem Analysis (No Solving Yet)</h2>

        <h3>Restate the problem</h3>
        <p>
          A sodium crystal requires an energy of <code>1 eV</code> to remove one sodium atom from the interior (bulk) to the boundary (surface).
          Treating this as the vacancy formation energy, find the equilibrium concentration of Schottky vacancies at <code>T = 300 K</code>.
        </p>

        <div class="grid2">
          <div class="callout">
            <div class="tag">Given</div>
            <ul>
              <li><code>E_f = 1 eV</code> (vacancy formation energy)</li>
              <li><code>T = 300 K</code></li>
              <li><code>k_B = 8.617333262×10^-5 eV/K</code> (use eV form to avoid conversions)</li>
            </ul>
          </div>
          <div class="callout">
            <div class="tag">Unknown</div>
            <ul>
              <li>Vacancy fraction <code>c = n_v/N</code> (dimensionless)</li>
              <li>(Optional) vacancy density <code>n_v/V</code> if atomic density is estimated</li>
            </ul>
          </div>
        </div>

        <h3>Relevant principles (and why they apply)</h3>
        <ul>
          <li><strong>Free-energy minimization:</strong> the equilibrium defect number minimizes Helmholtz free energy at fixed <code>T</code>.</li>
          <li><strong>Combinatorial entropy:</strong> vacancies can be placed on lattice sites in <code>W = C(N, n_v)</code> ways.</li>
          <li><strong>Dilute limit:</strong> at room temperature with eV-scale energies, we expect <code>c ≪ 1</code>, enabling simplifications.</li>
        </ul>

        <h3>Assumptions (explicit)</h3>
        <div class="callout warn">
          <div class="tag">Assumptions</div>
          <ul>
            <li>Vacancies are <strong>non-interacting</strong> (no vacancy–vacancy interaction energy).</li>
            <li>Crystal is large: <code>N ≫ 1</code>, <code>n_v ≫ 1</code> may still be false, but Stirling is used consistently in the thermodynamic limit.</li>
            <li><code>E_f = 1 eV</code> is the dominant formation free energy (formation entropy not provided, so prefactor taken as 1).</li>
            <li>Equilibrium is achieved at <code>300 K</code>.</li>
          </ul>
        </div>

        <h3>Possible approaches (compare 2–3)</h3>
        <ul>
          <li><strong>(A) Free-energy minimization (best for teaching):</strong>
            derive <code>c</code> from <code>F(n_v)=n_v E_f - T S_conf</code>.
            <em>Pros:</em> shows where exponential law comes from. <em>Cons:</em> uses Stirling approximation/combinatorics.</li>
          <li><strong>(B) Chemical potential / mass-action style:</strong>
            treat vacancy formation as a “reaction” and use equilibrium constants.
            <em>Pros:</em> compact. <em>Cons:</em> hides entropy origin if not careful.</li>
          <li><strong>(C) Partition-function approach:</strong>
            build a lattice-gas partition function for vacancies.
            <em>Pros:</em> very general. <em>Cons:</em> more formal than needed here.</li>
        </ul>

        <p>
          <strong>We choose (A)</strong> because it cleanly exposes the mathematical physics: combinatorial entropy plus energetic cost,
          giving the Arrhenius form in a controlled dilute limit.
        </p>
      </article>

      <article id="part2">
        <h2>PART 2 — Strategy & Tips (Roadmap Only)</h2>
        <ol>
          <li><strong>Model the defect population:</strong> define <code>N</code> sites, <code>n_v</code> vacancies, fraction <code>c=n_v/N</code>.</li>
          <li><strong>Write internal energy:</strong> <code>U(n_v) = n_v E_f</code> (linearity from non-interacting defects).</li>
          <li><strong>Write configurational entropy:</strong> count microstates <code>W = C(N,n_v)</code>; then <code>S = k_B ln W</code>.</li>
          <li><strong>Form Helmholtz free energy:</strong> <code>F(n_v) = U(n_v) - T S(n_v)</code>.</li>
          <li><strong>Minimize:</strong> solve <code>∂F/∂n_v = 0</code> (equilibrium condition).</li>
          <li><strong>Dilute approximation:</strong> simplify for <code>c≪1</code> to get <code>c ≈ exp(-E_f/(k_B T))</code>.</li>
          <li><strong>Insert numbers:</strong> compute <code>k_B T</code> in eV at 300 K and evaluate the exponential.</li>
          <li><strong>Sanity-check:</strong> dimensionless exponent, limiting trends with <code>T</code>, and order of magnitude.</li>
          <li><strong>(Optional) Convert to per-volume concentration:</strong> estimate atomic density of Na and multiply by <code>c</code>.</li>
        </ol>

        <div class="callout warn">
          <div class="tag">Common mistakes</div>
          <ul>
            <li>Using <code>k_B = 1.38×10^-23</code> J/K with <code>E_f</code> in eV without conversion.</li>
            <li>Forgetting that <code>c</code> is a <em>fraction</em>, not percent (multiply by 100 only if asked).</li>
            <li>Dropping the dilute approximation when <code>c</code> is not small (here it is extremely small, so it’s safe).</li>
            <li>Confusing Schottky <em>pairs</em> in ionic crystals with single vacancies in metals.</li>
          </ul>
        </div>
      </article>

      <article id="part3">
        <h2>PART 3 — Full Solution (Detailed + Teaching)</h2>

        <h3>Physical intuition before calculating</h3>
        <p>
          Room-temperature thermal energy is about <code>k_B T ≈ 0.026 eV</code>, while the defect cost is <code>1 eV</code>.
          Since <code>1 eV ≫ k_B T</code>, we expect an <em>exponentially tiny</em> vacancy fraction.
        </p>

        <h3>Mathematical model (variables, domain, conditions)</h3>
        <div class="callout">
          <div class="tag">Model statement</div>
          <ul>
            <li><strong>System:</strong> crystalline Na with <code>N</code> lattice sites (fixed volume, fixed <code>N</code> sites).</li>
            <li><strong>State variable:</strong> integer vacancy number <code>n_v</code>, with domain <code>0 ≤ n_v ≤ N</code>.</li>
            <li><strong>Thermodynamic ensemble:</strong> canonical in the sense of fixed <code>T</code> (Helmholtz free energy minimization).</li>
            <li><strong>Boundary/geometry:</strong> bulk crystal with a boundary acting as an atom reservoir; geometry does not enter because we assume uniform vacancy probability.</li>
            <li><strong>Assumption:</strong> dilute, non-interacting vacancies so energy is linear: <code>U(n_v)=n_v E_f</code>.</li>
          </ul>
          <p class="tiny" style="margin:8px 0 0;">
            Note: no PDEs are needed here because the question asks for equilibrium concentration, not spatial diffusion.
            (If we studied kinetics, we would introduce diffusion PDEs with <code>∂c/∂t = ∇·(D ∇c)</code>.)
          </p>
        </div>

        <h3>Step 1 — Internal energy as a linear functional of defect number</h3>
        <p>
          Let <code>E_f</code> be the energy required to create one vacancy (remove one atom from the interior to the boundary).
          If vacancies do not interact, the total internal energy cost is additive:
        </p>
        <div class="eqbox" id="eq1">
<pre><code>U(n_v) = n_v E_f</code></pre>
        </div>
        <p class="tiny">
          Why valid? Linearity follows from the <em>non-interacting defect approximation</em>:
          each vacancy costs the same energy and there is no extra interaction term like <code>~ n_v^2</code>.
        </p>

        <h3>Step 2 — Configurational entropy from combinatorics</h3>
        <p>
          A vacancy can occupy any lattice site. The number of distinct ways to choose <code>n_v</code> vacant sites among <code>N</code> sites is
          the binomial coefficient:
        </p>
        <div class="eqbox" id="eq2">
<pre><code>W(N,n_v) = C(N, n_v) = N! / (n_v! (N - n_v)!)</code></pre>
        </div>
        <p>
          The configurational entropy is then:
        </p>
        <div class="eqbox" id="eq3">
<pre><code>S_conf(n_v) = k_B ln W(N,n_v)</code></pre>
        </div>

        <details>
          <summary>Optional: Stirling approximation step (no “magic jump”)</summary>
          <p>
            For large integers, <code>ln N! ≈ N ln N - N</code> (Stirling). Apply to each factorial:
          </p>
          <div class="eqbox">
<pre><code>ln W = ln N! - ln n_v! - ln (N - n_v)!
≈ (N ln N - N) - (n_v ln n_v - n_v) - ((N - n_v) ln (N - n_v) - (N - n_v))
= N ln N - n_v ln n_v - (N - n_v) ln (N - n_v)</code></pre>
          </div>
          <p>
            So
            <code>S_conf ≈ k_B [ N ln N - n_v ln n_v - (N - n_v) ln (N - n_v) ]</code>.
            This is the standard lattice-mixing entropy.
          </p>
        </details>

        <h3>Step 3 — Helmholtz free energy and equilibrium condition</h3>
        <p>
          The Helmholtz free energy at fixed <code>T</code> is:
        </p>
        <div class="eqbox" id="eq4">
<pre><code>F(n_v) = U(n_v) - T S_conf(n_v)
       = n_v E_f - T k_B ln W(N,n_v)</code></pre>
        </div>
        <p>
          Equilibrium with respect to the internal variable <code>n_v</code> occurs when:
        </p>
        <div class="eqbox" id="eq5">
<pre><code>∂F/∂n_v = 0</code></pre>
        </div>

        <h3>Step 4 — Differentiate (showing the key calculus step)</h3>
        <p>
          Using the Stirling-based expression for <code>S_conf</code>, we can differentiate:
        </p>
        <div class="eqbox" id="eq6">
<pre><code>F(n_v) ≈ n_v E_f - k_B T [ N ln N - n_v ln n_v - (N - n_v) ln (N - n_v) ]</code></pre>
        </div>
        <p>
          Differentiate term-by-term (treat <code>N</code> as constant):
        </p>
        <div class="eqbox" id="eq7">
<pre><code>∂F/∂n_v = E_f - k_B T [ - (ln n_v + 1) - ( -ln (N - n_v) - 1 ) ]
        = E_f - k_B T [ -ln n_v + ln (N - n_v) ]
        = E_f - k_B T ln( (N - n_v)/n_v )</code></pre>
        </div>
        <p class="tiny">
          The <code>+1</code> terms cancel, which is a common place students worry; the algebra above shows the cancellation explicitly.
        </p>

        <p>
          Set <code>∂F/∂n_v = 0</code>:
        </p>
        <div class="eqbox" id="eq8">
<pre><code>0 = E_f - k_B T ln( (N - n_v)/n_v )
⇒ ln( (N - n_v)/n_v ) = E_f/(k_B T)</code></pre>
        </div>
        <p>
          Exponentiate both sides (valid because exp is monotone and we are solving an algebraic equation):
        </p>
        <div class="eqbox" id="eq9">
<pre><code>(N - n_v)/n_v = exp( E_f/(k_B T) )
⇒ n_v/(N - n_v) = exp( -E_f/(k_B T) )</code></pre>
        </div>

        <h3>Step 5 — Dilute-vacancy approximation and final symbolic result</h3>
        <p>
          At ordinary temperatures with eV-scale <code>E_f</code>, we expect <code>n_v ≪ N</code>, so <code>N - n_v ≈ N</code>.
          This is the <strong>dilute limit</strong>. Mathematically, we neglect terms of order <code>O(n_v/N)</code> relative to 1.
        </p>
        <div class="eqbox" id="eq10">
<pre><code>c = n_v/N ≈ exp( -E_f/(k_B T) )</code></pre>
        </div>

        <div class="callout ok">
          <div class="tag">Final equation</div>
          <p style="margin:0;">
            <strong>Equilibrium vacancy fraction:</strong>
            <code>c ≈ exp(-E_f/(k_B T))</code>
          </p>
        </div>

        <div class="btnrow">
          <button class="copy" data-copy-target="#eq10">Copy key equation (plain text)</button>
        </div>

        <h3>Step 6 — Insert numbers (carefully, with unit check)</h3>
        <p>
          Use <code>k_B</code> in eV/K so the exponent is dimensionless:
        </p>
        <div class="eqbox" id="eq11">
<pre><code>k_B = 8.617333262×10^-5 eV/K
T = 300 K
⇒ k_B T = (8.617333262×10^-5)(300) eV
       = 2.5851999786×10^-2 eV
       ≈ 0.02585 eV</code></pre>
        </div>

        <p>
          Now compute:
        </p>
        <div class="eqbox" id="eq12">
<pre><code>E_f/(k_B T) = 1 eV / 0.02585 eV ≈ 38.7
⇒ c ≈ exp(-38.7) ≈ 1.6×10^-17</code></pre>
        </div>

        <div class="callout ok" id="final-answer-box">
          <div class="tag">Final Answer</div>
          <div class="eqbox" id="final-answer">
<pre><code>Vacancy (Schottky) concentration at 300 K:
c = n_v/N ≈ exp(-E_f/(k_B T)) = exp(-1 eV / (8.617×10^-5 eV/K × 300 K))
  ≈ exp(-38.7) ≈ 1.6×10^-17 (dimensionless fraction of sites).</code></pre>
          </div>
          <div class="btnrow">
            <button class="copy" data-copy-target="#final-answer">Copy final answer (plain text)</button>
          </div>
        </div>

        <h3>Optional: convert to vacancies per unit volume (engineering-style)</h3>
        <p>
          If you want an absolute concentration, estimate the atomic site density of sodium from its mass density
          (example engineering estimate; not required by the problem statement).
        </p>

        <details>
          <summary>Show the atomic-density estimate (example calculation)</summary>
          <div class="eqbox" id="eq13">
<pre><code>Na density (room temp) ρ ≈ 0.971 g/cm^3
Molar mass M ≈ 22.99 g/mol
Avogadro N_A = 6.022×10^23 mol^-1

Atomic density:
N/V ≈ (ρ/M) N_A
    ≈ (0.971/22.99)×6.022×10^23 cm^-3
    ≈ 2.54×10^22 cm^-3

Vacancy density:
n_v/V = c (N/V) ≈ (1.6×10^-17)(2.54×10^22) cm^-3
      ≈ 4.1×10^5 cm^-3</code></pre>
          </div>
        </details>

        <h3>Sanity checks</h3>
        <ul>
          <li><strong>Dimensional check:</strong> <code>E_f/(k_B T)</code> is unitless (eV/eV), so <code>exp(…)</code> is valid.</li>
          <li><strong>Limiting case:</strong> as <code>T→0</code>, <code>c→0</code>; as <code>T→∞</code>, <code>c→1</code> (but dilute approximation breaks long before).</li>
          <li><strong>Physical reasonableness:</strong> since <code>E_f</code> is ~40 times <code>k_B T</code>, the population must be extremely small.</li>
        </ul>
      </article>

      <article id="part4">
        <h2>PART 4 — Deeper Understanding (Theory Around the Result)</h2>

        <h3>Re-interpret the final formula</h3>
        <p>
          The equilibrium vacancy fraction
          <code>c ≈ exp(-E_f/(k_B T))</code>
          says that <strong>energy barriers dominate</strong> at low temperature: each additional ~<code>k_B T</code> in formation energy
          reduces <code>c</code> by a factor of <code>e</code>.
        </p>

        <h3>Parameter dependence</h3>
        <ul>
          <li><strong>Increase <code>E_f</code>:</strong> <code>c</code> decreases exponentially (strong sensitivity).</li>
          <li><strong>Increase <code>T</code>:</strong> <code>c</code> increases rapidly; roughly, <code>ln c = -E_f/(k_B T)</code> so a plot of <code>ln c</code> vs <code>1/T</code> is a straight line (Arrhenius plot).</li>
          <li><strong>Include formation entropy:</strong> more generally <code>c = exp(ΔS_f/k_B) exp(-ΔH_f/(k_B T))</code>, where <code>ΔH_f</code> is enthalpy and <code>ΔS_f</code> includes vibrational contributions; this changes the prefactor but not the core exponential temperature dependence.</li>
        </ul>

        <h3>Alternative derivation idea (brief but meaningful)</h3>
        <p>
          You can view vacancy formation as a “reaction” on lattice sites:
          <code>Atom_on_site → Vacancy + Atom_at_surface</code>.
          In equilibrium, chemical potentials balance. The ideal-mixing chemical potential of vacancies contains a term
          <code>k_B T ln(c/(1-c))</code>, and setting it equal to the energetic cost <code>E_f</code> leads to
          <code>c/(1-c)=exp(-E_f/(k_B T))</code>, the same result as the free-energy approach.
        </p>

        <div class="callout">
          <div class="tag">Concept check (with answers)</div>
          <ul>
            <li><strong>Q:</strong> Why is the dependence exponential rather than linear in <code>T</code>?<br/>
                <strong>A:</strong> Because equilibrium comes from <code>F=U-TS</code> with combinatorial entropy, yielding <code>ln c ∝ -1/T</code>.</li>
            <li><strong>Q:</strong> If <code>E_f</code> were 0.5 eV instead of 1 eV, what happens at 300 K?<br/>
                <strong>A:</strong> Exponent halves: <code>c</code> becomes <code>exp(-19.35) ≈ 4×10^-9</code>, vastly larger (still small).</li>
            <li><strong>Q:</strong> Does “Schottky vacancy” here mean a vacancy pair as in NaCl?<br/>
                <strong>A:</strong> No; sodium is metallic. The problem’s wording effectively means single lattice vacancies with formation energy 1 eV.</li>
            <li><strong>Q:</strong> What would break the model?<br/>
                <strong>A:</strong> High vacancy concentrations (interactions), strong nonequilibrium processing, or needing vibrational entropy/prefactors for precision.</li>
          </ul>
        </div>
      </article>

      <article id="part5">
        <h2>PART 5 — Optional Plot Guide</h2>
        <p>
          A plot is <strong>not necessary</strong> here because the problem asks for one number at one temperature, and the governing law is a simple exponential.
          (A plot becomes useful if you compare materials or temperatures, e.g., an Arrhenius plot of <code>ln c</code> vs <code>1/T</code>.)
        </p>
      </article>

      <p class="printnote">Print-friendly note: copy buttons and sticky navigation are hidden in print view.</p>
    </main>
  </div>

  <footer>
    <p style="margin:0;">
      Built for learning: equilibrium point-defect thermodynamics via free-energy minimization. No external libraries; equations are plain text for easy copying.
    </p>
  </footer>

  <script>
    // Copy-to-clipboard for equation blocks and final answer (plain text)
    function getTextFromTarget(selector){
      const el = document.querySelector(selector);
      if(!el) return "";
      // Prefer <code> content if present
      const code = el.querySelector('code');
      if(code) return code.textContent.trim();
      return el.textContent.trim();
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        return true;
      }catch(e){
        // Fallback: temporary textarea
        try{
          const ta = document.createElement('textarea');
          ta.value = text;
          ta.style.position = 'fixed';
          ta.style.left = '-9999px';
          document.body.appendChild(ta);
          ta.focus();
          ta.select();
          const ok = document.execCommand('copy');
          document.body.removeChild(ta);
          return ok;
        }catch(err){
          return false;
        }
      }
    }

    document.querySelectorAll('button.copy').forEach(btn=>{
      btn.addEventListener('click', async ()=>{
        const target = btn.getAttribute('data-copy-target');
        const text = getTextFromTarget(target);
        const ok = await copyText(text);
        const old = btn.textContent;
        btn.textContent = ok ? "Copied ✓" : "Copy failed";
        setTimeout(()=>btn.textContent = old, 900);
      });
    });
  </script>
</body>
</html>