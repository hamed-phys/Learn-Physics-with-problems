<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Magnetoelastic Coupling in a Cubic Crystal: Energy Minimization and Magnetostriction</title>
  <style>
    :root{
      --bg:#0b0f17;
      --panel:#0f172a;
      --panel2:#0b1222;
      --text:#e7eefc;
      --muted:#a9b6d3;
      --line:rgba(231,238,252,.12);
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --ok:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --shadow: 0 16px 40px rgba(0,0,0,.35);
      --radius:16px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:var(--sans);
      background:
        radial-gradient(1200px 700px at 10% 0%, rgba(125,211,252,.12), transparent 55%),
        radial-gradient(1000px 700px at 90% 10%, rgba(167,139,250,.12), transparent 55%),
        linear-gradient(180deg, var(--bg), #070a12 70%);
      color:var(--text);
      line-height:1.55;
    }

    header{
      padding:28px 18px 8px;
      max-width:1200px;
      margin:0 auto;
    }
    .hero{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--line);
      border-radius: calc(var(--radius) + 8px);
      box-shadow: var(--shadow);
      padding:20px 20px 18px;
      position:relative;
      overflow:hidden;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(600px 240px at 15% 20%, rgba(125,211,252,.20), transparent 65%),
        radial-gradient(520px 240px at 85% 25%, rgba(167,139,250,.18), transparent 65%);
      opacity:.85;
      pointer-events:none;
    }
    .hero > *{position:relative; z-index:1}
    h1{
      margin:0 0 8px;
      font-size: clamp(1.35rem, 1.1rem + 1.4vw, 2.15rem);
      letter-spacing:.2px;
    }
    .subtitle{
      margin:0;
      color:var(--muted);
      max-width: 70ch;
    }

    main{
      max-width:1200px;
      margin:0 auto;
      padding: 14px 18px 64px;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap:18px;
      align-items:start;
    }

    nav.toc{
      position: sticky;
      top: 14px;
      align-self:start;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:14px 14px 12px;
    }
    nav.toc h2{
      margin:0 0 10px;
      font-size: 1rem;
      letter-spacing:.2px;
    }
    .toc a{
      display:block;
      color: var(--muted);
      text-decoration:none;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid transparent;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      font-size:.95rem;
    }
    .toc a:hover{
      background: rgba(125,211,252,.08);
      border-color: rgba(125,211,252,.22);
      color: var(--text);
      transform: translateY(-1px);
    }
    .toc small{
      display:block;
      color: rgba(169,182,211,.75);
      margin-top:10px;
      padding: 0 10px;
    }

    article{min-width:0}
    section{
      margin: 0 0 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px 16px 14px;
    }
    h2{margin:0 0 10px; font-size: 1.2rem}
    h3{margin:14px 0 8px; font-size: 1.05rem}
    p{margin: 8px 0}
    ul,ol{margin: 8px 0 8px 22px}
    li{margin: 6px 0}
    .muted{color:var(--muted)}
    .grid2{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    @media (max-width: 980px){
      main{grid-template-columns: 1fr}
      nav.toc{position:relative}
      .grid2{grid-template-columns:1fr}
    }

    .callout{
      border-radius: 14px;
      padding: 12px 12px 10px;
      border: 1px solid var(--line);
      background: rgba(0,0,0,.22);
      margin: 10px 0;
    }
    .callout.assumptions{border-color: rgba(251,191,36,.28); background: rgba(251,191,36,.08)}
    .callout.keyeq{border-color: rgba(125,211,252,.28); background: rgba(125,211,252,.08)}
    .callout.mistakes{border-color: rgba(251,113,133,.28); background: rgba(251,113,133,.08)}
    .callout.final{border-color: rgba(52,211,153,.30); background: rgba(52,211,153,.08)}
    .callout.mathinsight{border-color: rgba(167,139,250,.28); background: rgba(167,139,250,.08)}

    .eqbox{
      border:1px solid var(--line);
      border-radius: 14px;
      overflow:hidden;
      background: rgba(0,0,0,.25);
      margin: 10px 0;
    }
    .eqhead{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      padding: 10px 10px;
      border-bottom:1px solid var(--line);
      background: rgba(255,255,255,.03);
    }
    .eqtitle{
      font-size:.95rem;
      color: var(--muted);
      margin:0;
    }
    pre.eq{
      margin:0;
      padding: 12px 12px;
      white-space: pre-wrap;
      word-break: break-word;
      font-family: var(--mono);
      font-size: .95rem;
      line-height: 1.45;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(231,238,252,.20);
      background: rgba(255,255,255,.04);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      font-size:.9rem;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      user-select:none;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(125,211,252,.08);
      border-color: rgba(125,211,252,.28);
    }
    .btn:active{transform: translateY(0px) scale(.99)}
    .btn.small{padding:6px 9px; font-size:.85rem}

    details{
      border:1px dashed rgba(231,238,252,.22);
      border-radius: 14px;
      padding: 10px 12px;
      background: rgba(0,0,0,.18);
      margin: 10px 0;
    }
    details summary{cursor:pointer; font-weight:600}

    .backtotop{
      display:inline-block;
      margin-top:10px;
      color: var(--accent);
      text-decoration:none;
    }
    .backtotop:hover{text-decoration:underline}

    footer{
      max-width:1200px;
      margin:0 auto;
      padding: 0 18px 28px;
      color: var(--muted);
      font-size: .95rem;
    }

    @media print{
      body{background:#fff; color:#000}
      header, main, footer{max-width:none}
      nav.toc{display:none}
      section{box-shadow:none; border:1px solid #ddd; background:#fff; page-break-inside:avoid}
      .btn{display:none}
      .hero{box-shadow:none; background:#fff; border:1px solid #ddd}
      pre.eq{color:#000}
      .callout{background:#fff}
      a{color:#000}
    }
  </style>
</head>

<body>
<header id="top">
  <div class="hero">
    <h1>Magnetoelastic Coupling in a Cubic Crystal: Minimizing Energy to Get Magnetostriction</h1>
    <p class="subtitle">
      We derive the equilibrium strain components <span class="muted">(normal and shear)</span> induced by a given magnetization direction in a cubic crystal by minimizing the total energy density: elastic + magnetoelastic coupling.
    </p>
  </div>
</header>

<main>
  <nav class="toc" aria-label="Table of contents">
    <h2>Contents</h2>
    <a href="#quick-summary">Quick Summary</a>
    <a href="#part0">PART 0 — Concept Primer</a>
    <a href="#part0b">PART 0B — Industry & Applied Physics</a>
    <a href="#part1">PART 1 — Problem Analysis</a>
    <a href="#part2">PART 2 — Strategy & Tips</a>
    <a href="#part3">PART 3 — Full Solution</a>
    <a href="#part4">PART 4 — Deeper Understanding</a>
    <a href="#part5">PART 5 — Optional Plot Guide</a>
  </nav>

  <article>
    <section id="quick-summary">
      <h2>Quick Summary</h2>
      <ul>
        <li><strong>What this is about:</strong> magnetoelastic coupling in a <strong>cubic</strong> crystal—how magnetization direction induces strain (magnetostriction).</li>
        <li><strong>Key physics idea:</strong> the crystal chooses strains <em>e<sub>ij</sub></em> that minimize the <strong>total energy density</strong> (elastic + magnetoelastic).</li>
        <li><strong>Governing model:</strong> quadratic elastic energy in small-strain (Hooke’s law for cubic symmetry) plus linear coupling in strain to the direction cosines α<sub>i</sub>.</li>
        <li><strong>Mathematical tool:</strong> <strong>variational minimization</strong> / stationary point of a convex quadratic form: ∂U/∂e<sub>ij</sub> = 0.</li>
        <li><strong>Main results (symbolic):</strong>
          <ul>
            <li>Normal strains depend on α<sub>i</sub><sup>2</sup> and elastic constants C<sub>11</sub>, C<sub>12</sub>.</li>
            <li>Shear strains: e<sub>ij</sub> = −(B<sub>2</sub>/C<sub>44</sub>) α<sub>i</sub>α<sub>j</sub> for i≠j.</li>
          </ul>
        </li>
        <li><strong>Physical meaning:</strong> magnetization “selects” a distortion that reduces magnetic anisotropy energy at the cost of elastic energy; the balance sets the strain.</li>
        <li><strong>Engineering hook:</strong> these strains underpin magnetostrictive actuation/sensing and stress-induced anisotropy in devices.</li>
      </ul>
      <a class="backtotop" href="#top">Back to top ↑</a>
    </section>

    <section id="part0">
      <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

      <h3>0.1 Core definitions (symbols + SI units)</h3>
      <div class="grid2">
        <div class="callout">
          <strong>Small-strain tensor:</strong>
          <p class="muted">
            e<sub>ij</sub> = 1/2 (∂u<sub>i</sub>/∂x<sub>j</sub> + ∂u<sub>j</sub>/∂x<sub>i</sub>), dimensionless.
          </p>
          <p class="muted">
            Here u(x) is the displacement field; in this problem we treat strain components as uniform variables to be minimized.
          </p>
        </div>
        <div class="callout">
          <strong>Magnetization direction cosines:</strong>
          <p class="muted">
            α = (α<sub>x</sub>, α<sub>y</sub>, α<sub>z</sub>) with α<sub>x</sub><sup>2</sup> + α<sub>y</sub><sup>2</sup> + α<sub>z</sub><sup>2</sup> = 1.
          </p>
          <p class="muted">
            α’s are dimensionless; they are components of a unit vector in the cubic-axis basis.
          </p>
        </div>
      </div>

      <div class="callout">
        <strong>Elastic constants (cubic):</strong>
        <p class="muted">
          C<sub>11</sub>, C<sub>12</sub>, C<sub>44</sub> (Pa) define the stiffness for normal and shear strains in cubic symmetry.
        </p>
      </div>

      <div class="callout">
        <strong>Magnetoelastic constants:</strong>
        <p class="muted">
          B<sub>1</sub>, B<sub>2</sub> (Pa) set the strength of coupling between strain and magnetization direction.
        </p>
      </div>

      <h3>0.2 Key principles and validity conditions</h3>
      <div class="callout assumptions">
        <strong>Assumptions:</strong>
        <ul>
          <li>Small strains (Hookean elasticity), uniform strain state.</li>
          <li>Cubic symmetry, axes aligned with crystal axes.</li>
          <li>No applied external stress; α treated as fixed while minimizing w.r.t. strain.</li>
          <li>Mechanical stability: stiffness matrix positive definite.</li>
        </ul>
      </div>

      <h3>0.3 “Math Insight” callout</h3>
      <div class="callout mathinsight">
        <strong>Math Insight:</strong>
        <p class="muted">
          The energy density is a convex quadratic function of the strain components:
          U(e)= 1/2 eᵀ A e + bᵀ e, so the minimizer satisfies A e* = −b.
          This is a linear system; uniqueness follows from positive-definiteness of A.
        </p>
      </div>

      <a class="backtotop" href="#top">Back to top ↑</a>
    </section>

    <section id="part0b">
      <h2>PART 0B — Industry & Applied Physics Perspective</h2>

      <ul>
        <li><strong>Applications:</strong> magnetostrictive actuators/transducers; force/torque sensors (Villari effect); vibration/noise in transformers and motors; stress-anisotropy control in magnetic thin films.</li>
        <li><strong>Why engineers care:</strong> performance (strain output, sensitivity), reliability (fatigue, delamination), and manufacturability (texture, residual stress) depend on B’s and C’s.</li>
        <li><strong>Measurement:</strong> strain gauges, laser vibrometry, XRD/neutron diffraction, magnetometry under applied stress.</li>
        <li><strong>Trade-offs:</strong> strong coupling may increase losses/hysteresis; real constraints (clamping, bonding) require constrained minimization and effective constants.</li>
      </ul>

      <details>
        <summary>From lab to product (optional note)</summary>
        <p class="muted">
          Real devices often impose constraints (e.g., clamped strains) and have non-uniform fields.
          The same principle applies—minimize total energy—but with boundary conditions and possibly spatial variation, turning the problem into a constrained variational formulation.
        </p>
      </details>

      <a class="backtotop" href="#top">Back to top ↑</a>
    </section>

    <section id="part1">
      <h2>PART 1 — Problem Analysis (No solving yet)</h2>

      <p>
        We are given U<sub>el</sub> for a cubic crystal and a magnetoelastic coupling U<sub>c</sub>.
        We must show that minimizing U = U<sub>el</sub> + U<sub>c</sub> yields the stated equilibrium strains.
      </p>

      <div class="callout assumptions">
        <strong>Model statement (variables, domain, conditions):</strong>
        <ul>
          <li>Variables: six independent strain components e<sub>xx</sub>, e<sub>yy</sub>, e<sub>zz</sub>, e<sub>xy</sub>, e<sub>yz</sub>, e<sub>zx</sub>.</li>
          <li>Parameters: C<sub>11</sub>, C<sub>12</sub>, C<sub>44</sub>, B<sub>1</sub>, B<sub>2</sub>, α (unit vector).</li>
          <li>Domain: homogeneous crystal (spatially uniform strain), so minimization is algebraic.</li>
          <li>Boundary condition surrogate: “free” crystal → equilibrium corresponds to ∂U/∂e<sub>ij</sub>=0 (equivalently zero stress).</li>
        </ul>
      </div>

      <a class="backtotop" href="#top">Back to top ↑</a>
    </section>

    <section id="part2">
      <h2>PART 2 — Strategy & Tips (Roadmap only)</h2>
      <ol>
        <li>Write U(e,α) = U<sub>el</sub> + U<sub>c</sub>.</li>
        <li>Minimize w.r.t. shear strains e<sub>xy</sub>, e<sub>yz</sub>, e<sub>zx</sub> (each decouples).</li>
        <li>Minimize w.r.t. normal strains e<sub>xx</sub>, e<sub>yy</sub>, e<sub>zz</sub> (solve 3×3 linear system).</li>
        <li>Use α<sub>x</sub><sup>2</sup>+α<sub>y</sub><sup>2</sup>+α<sub>z</sub><sup>2</sup>=1 to simplify.</li>
        <li>Check units, limiting cases, and symmetry.</li>
      </ol>

      <div class="callout mistakes">
        <strong>Common mistakes</strong>
        <ul>
          <li>Confusing tensor shear e<sub>ij</sub> with engineering shear γ<sub>ij</sub>=2e<sub>ij</sub>.</li>
          <li>Dropping the C<sub>12</sub> coupling terms when differentiating.</li>
          <li>Not using the α-normalization to simplify denominators.</li>
        </ul>
      </div>

      <a class="backtotop" href="#top">Back to top ↑</a>
    </section>

    <section id="part3">
      <h2>PART 3 — Full Solution (Detailed + Teaching)</h2>

      <h3>3.1 Given energies</h3>
      <div class="eqbox" role="group">
        <div class="eqhead">
          <p class="eqtitle">Elastic energy density (given)</p>
          <button class="btn small" data-copy-target="eq-el">Copy</button>
        </div>
        <pre class="eq" id="eq-el">U_el = (1/2) C11 (e_xx^2 + e_yy^2 + e_zz^2)
     + (1/2) C44 (e_xy^2 + e_yz^2 + e_zx^2)
     + C12 (e_yy e_zz + e_zz e_xx + e_xx e_yy)</pre>
      </div>

      <div class="eqbox" role="group">
        <div class="eqhead">
          <p class="eqtitle">Magnetoelastic coupling (given)</p>
          <button class="btn small" data-copy-target="eq-cpl">Copy</button>
        </div>
        <pre class="eq" id="eq-cpl">U_c = B1(αx^2 e_xx + αy^2 e_yy + αz^2 e_zz)
    + B2(αx αy e_xy + αy αz e_yz + αz αx e_zx)</pre>
      </div>

      <div class="callout keyeq">
        <strong>Minimization condition (variational / calculus of variations in the uniform limit):</strong>
        <p class="muted">
          For each independent strain component e<sub>ij</sub>, equilibrium satisfies
          ∂U/∂e<sub>ij</sub> = 0.
          Because U is quadratic in e and the elastic part is positive definite, this stationary point is the unique global minimum.
        </p>
      </div>

      <h3>3.2 Shear strains (i≠j): one-variable convex quadratics</h3>
      <p>Example for e<sub>xy</sub> (others identical by cyclic permutation):</p>
      <div class="eqbox" role="group">
        <div class="eqhead">
          <p class="eqtitle">Shear-dependent part and derivative</p>
          <button class="btn small" data-copy-target="eq-shear">Copy</button>
        </div>
        <pre class="eq" id="eq-shear">U(e_xy) = (1/2) C44 e_xy^2 + B2(αx αy) e_xy
∂U/∂e_xy = C44 e_xy + B2 αx αy = 0
⇒ e_xy = -(B2/C44) αx αy</pre>
      </div>

      <p>Thus, for all shears (i≠j):</p>
      <div class="eqbox" role="group">
        <div class="eqhead">
          <p class="eqtitle">Shear results</p>
          <button class="btn small" data-copy-target="eq-shears">Copy</button>
        </div>
        <pre class="eq" id="eq-shears">e_xy = -(B2/C44) αx αy
e_yz = -(B2/C44) αy αz
e_zx = -(B2/C44) αz αx</pre>
      </div>

      <h3>3.3 Normal strains: solve the coupled 3×3 system</h3>
      <p>Differentiate U with respect to e<sub>xx</sub>, e<sub>yy</sub>, e<sub>zz</sub>:</p>
      <div class="eqbox" role="group">
        <div class="eqhead">
          <p class="eqtitle">Normal stationarity equations</p>
          <button class="btn small" data-copy-target="eq-normalsys">Copy</button>
        </div>
        <pre class="eq" id="eq-normalsys">C11 e_xx + C12(e_yy + e_zz) + B1 αx^2 = 0
C11 e_yy + C12(e_xx + e_zz) + B1 αy^2 = 0
C11 e_zz + C12(e_xx + e_yy) + B1 αz^2 = 0</pre>
      </div>

      <p>
        Add the three equations and use αx²+αy²+αz²=1. Let S = e_xx+e_yy+e_zz:
      </p>
      <div class="eqbox" role="group">
        <div class="eqhead">
          <p class="eqtitle">Trace equation</p>
          <button class="btn small" data-copy-target="eq-trace">Copy</button>
        </div>
        <pre class="eq" id="eq-trace">(C11 + 2C12) S + B1(αx^2 + αy^2 + αz^2) = 0
⇒ S = -B1/(C11 + 2C12)</pre>
      </div>

      <p>
        Solve for e<sub>xx</sub> by writing (e<sub>yy</sub>+e<sub>zz</sub>) = S − e<sub>xx</sub> in the first equation:
      </p>
      <div class="eqbox" role="group">
        <div class="eqhead">
          <p class="eqtitle">Isolate e_xx</p>
          <button class="btn small" data-copy-target="eq-exx">Copy</button>
        </div>
        <pre class="eq" id="eq-exx">C11 e_xx + C12(S - e_xx) + B1 αx^2 = 0
⇒ (C11 - C12) e_xx + C12 S + B1 αx^2 = 0
⇒ e_xx = -(C12 S + B1 αx^2)/(C11 - C12)</pre>
      </div>

      <p>Substitute S = −B1/(C11+2C12) and simplify:</p>
      <div class="eqbox" role="group">
        <div class="eqhead">
          <p class="eqtitle">Simplification</p>
          <button class="btn small" data-copy-target="eq-simplify">Copy</button>
        </div>
        <pre class="eq" id="eq-simplify">e_xx = - ( C12(-B1/(C11+2C12)) + B1 αx^2 )/(C11 - C12)
     = B1 ( C12/(C11+2C12) - αx^2 )/(C11 - C12)
     = B1 [ C12 - αx^2 (C11 + 2C12) ] / [ (C11 - C12)(C11 + 2C12) ]</pre>
      </div>

      <p>By symmetry, replace x→y or z to get e<sub>yy</sub>, e<sub>zz</sub>.</p>

      <div class="callout final">
        <strong>Final Answer (copy-ready)</strong>
        <div class="eqbox" role="group">
          <div class="eqhead">
            <p class="eqtitle">Equilibrium strains minimizing U</p>
            <button class="btn small" data-copy-target="eq-final">Copy final answer</button>
          </div>
          <pre class="eq" id="eq-final">For i = x,y,z:
e_ii = B1 [ C12 - α_i^2 (C11 + 2 C12) ] / [ (C11 - C12)(C11 + 2 C12) ].

For i ≠ j:
e_ij = - (B2 / C44) α_i α_j.</pre>
        </div>
      </div>

      <h3>3.4 Sanity checks</h3>
      <ul>
        <li><strong>Units:</strong> B and C are Pa, so B/C is dimensionless → strains dimensionless. ✔</li>
        <li><strong>Limit B→0:</strong> e→0. ✔</li>
        <li><strong>Stability/minimum:</strong> requires C44&gt;0 and (C11−C12)(C11+2C12)&gt;0. ✔</li>
      </ul>

      <a class="backtotop" href="#top">Back to top ↑</a>
    </section>

    <section id="part4">
      <h2>PART 4 — Deeper Understanding (Theory Around the Result)</h2>

      <h3>4.1 Interpreting parameters</h3>
      <ul>
        <li>B<sub>1</sub>: drives normal strains via α<sub>i</sub><sup>2</sup>.</li>
        <li>B<sub>2</sub>: drives shear strains via α<sub>i</sub>α<sub>j</sub>.</li>
        <li>C<sub>44</sub>: resists shear; larger C<sub>44</sub> reduces shear response.</li>
        <li>(C<sub>11</sub>+2C<sub>12</sub>): volumetric stiffness; sets trace strain S.</li>
        <li>(C<sub>11</sub>−C<sub>12</sub>): deviatoric stiffness; sets anisotropic normal response.</li>
      </ul>

      <div class="callout mathinsight">
        <strong>Math Insight:</strong>
        <p class="muted">
          The normal-stiffness matrix has eigenvalues (C11+2C12) for the volumetric mode (1,1,1)
          and (C11−C12) for two orthogonal deviatoric modes. That is why the denominators appear only as these combinations.
        </p>
      </div>

      <h3>4.2 Alternative derivation idea</h3>
      <p class="muted">
        Define stress σ<sub>ij</sub> = ∂U/∂e<sub>ij</sub>. A free crystal has σ<sub>ij</sub>=0 at equilibrium.
        This reproduces the same equations but emphasizes physical meaning: magnetoelastic terms act as an “eigenstress” canceled by elastic strain.
      </p>

      <h3>4.3 Concept checks (with answers)</h3>
      <ul>
        <li><strong>Q:</strong> Why is the minimization linear in the unknown strains?<br><strong>A:</strong> Because ∂/∂e of a quadratic is linear, and ∂/∂e of a linear term is constant.</li>
        <li><strong>Q:</strong> Why does the solution exist and is unique?<br><strong>A:</strong> The stiffness matrix is positive definite (stable crystal), so the quadratic form is strictly convex.</li>
        <li><strong>Q:</strong> What happens if the body is clamped?<br><strong>A:</strong> You minimize with constraints; strains differ and stresses become nonzero.</li>
      </ul>

      <a class="backtotop" href="#top">Back to top ↑</a>
    </section>

    <section id="part5">
      <h2>PART 5 — Optional Plot Guide</h2>
      <p class="muted">
        No plot is necessary: the problem is symbolic and fully solved by energy minimization.
        A plot would require selecting numerical constants and a magnetization path, which is not needed to prove the stated formulas.
      </p>
      <a class="backtotop" href="#top">Back to top ↑</a>
    </section>
  </article>
</main>

<footer>
  <p>
    <strong>Engineering note:</strong> In devices, constraints and residual stresses modify the minimization.
    The same math applies but with added constraint terms and boundary conditions.
  </p>
</footer>

<script>
  (function(){
    function copyText(text){
      if (navigator.clipboard && window.isSecureContext){
        return navigator.clipboard.writeText(text);
      }
      const ta = document.createElement('textarea');
      ta.value = text;
      ta.style.position = 'fixed';
      ta.style.left = '-9999px';
      ta.style.top = '-9999px';
      document.body.appendChild(ta);
      ta.focus();
      ta.select();
      try { document.execCommand('copy'); } catch(e){}
      document.body.removeChild(ta);
      return Promise.resolve();
    }

    function flash(btn, msg){
      const old = btn.textContent;
      btn.textContent = msg;
      btn.style.borderColor = "rgba(52,211,153,.45)";
      btn.style.background = "rgba(52,211,153,.10)";
      setTimeout(()=>{
        btn.textContent = old;
        btn.style.borderColor = "";
        btn.style.background = "";
      }, 900);
    }

    document.querySelectorAll('[data-copy-target]').forEach(btn=>{
      btn.addEventListener('click', async ()=>{
        const id = btn.getAttribute('data-copy-target');
        const el = document.getElementById(id);
        const text = (el ? el.textContent : '').trim();
        if(!text){ flash(btn, "Nothing to copy"); return; }
        try{
          await copyText(text);
          flash(btn, "Copied ✓");
        }catch(e){
          flash(btn, "Copy failed");
        }
      });
    });
  })();
</script>

</body>
</html>
