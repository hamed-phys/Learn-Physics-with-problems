<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Giant Magnetoresistance (GMR) in a Two-Layer Ferromagnetic Conductor — Full Derivation</title>
  <style>
    :root{
      --bg:#0b0f14;
      --panel:#101824;
      --panel2:#0f1620;
      --text:#e9eef6;
      --muted:#b7c3d6;
      --faint:#8fa1bb;
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --ok:#86efac;
      --warn:#fbbf24;
      --bad:#fb7185;
      --border:rgba(255,255,255,.10);
      --border2:rgba(255,255,255,.16);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
      --radius2:22px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --max: 1100px;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: var(--sans);
      background: radial-gradient(1200px 900px at 15% 10%, rgba(167,139,250,.12), transparent 45%),
                  radial-gradient(1000px 800px at 80% 0%, rgba(125,211,252,.10), transparent 40%),
                  linear-gradient(180deg, #070a0f 0%, var(--bg) 40%, #070a0f 100%);
      color:var(--text);
      line-height:1.6;
    }

    header{
      position:relative;
      padding:48px 18px 22px;
      border-bottom:1px solid var(--border);
    }
    .wrap{ max-width: var(--max); margin: 0 auto; }
    .title{
      display:grid;
      gap:10px;
      align-items:start;
    }
    h1{
      margin:0;
      font-size: clamp(26px, 3.2vw, 40px);
      letter-spacing:-0.02em;
      line-height:1.15;
    }
    .subtitle{
      margin:0;
      color: var(--muted);
      max-width: 80ch;
    }

    .layout{
      max-width: var(--max);
      margin: 0 auto;
      padding: 18px;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap: 18px;
      align-items:start;
    }

    nav{
      position: sticky;
      top: 14px;
      background: linear-gradient(180deg, rgba(16,24,36,.88), rgba(16,24,36,.70));
      backdrop-filter: blur(10px);
      border:1px solid var(--border);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      padding: 14px;
      overflow:hidden;
    }
    nav .toc-title{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    nav h2{
      font-size: 14px;
      margin:0;
      letter-spacing:.08em;
      text-transform:uppercase;
      color: var(--faint);
    }
    .toc a{
      display:block;
      padding:10px 10px;
      border-radius: 12px;
      text-decoration:none;
      color: var(--text);
      border:1px solid transparent;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      font-size: 14px;
    }
    .toc a:hover{
      background: rgba(125,211,252,.08);
      border-color: rgba(125,211,252,.20);
      transform: translateY(-1px);
    }
    .toc a small{
      color: var(--muted);
      display:block;
      font-size: 12px;
      margin-top:2px;
    }

    main{
      min-width: 0;
    }

    section{
      background: linear-gradient(180deg, rgba(16,24,36,.80), rgba(15,22,32,.72));
      border:1px solid var(--border);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      padding: 18px;
      margin-bottom: 18px;
      overflow:hidden;
    }
    section h2{
      margin: 0 0 10px;
      font-size: 20px;
      letter-spacing:-0.01em;
    }
    section h3{
      margin: 18px 0 10px;
      font-size: 16px;
      color: var(--text);
    }
    p{ margin: 8px 0 0; color: var(--text); }
    ul{ margin: 10px 0 0 20px; color: var(--text); }
    li{ margin: 6px 0; }
    .muted{ color: var(--muted); }
    .fine{ color: var(--faint); font-size: 13px; }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 12px;
    }
    @media (max-width: 980px){
      .layout{ grid-template-columns: 1fr; }
      nav{ position:relative; top:auto; }
    }
    @media (max-width: 720px){
      .grid2{ grid-template-columns: 1fr; }
    }

    .card{
      background: rgba(0,0,0,.14);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
    }

    .callouts{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
      margin-top: 12px;
    }
    .callout{
      border-radius: var(--radius);
      border:1px solid var(--border2);
      padding: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      position:relative;
      overflow:hidden;
    }
    .callout:before{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(600px 220px at 20% 0%, rgba(125,211,252,.12), transparent 55%),
                  radial-gradient(600px 220px at 90% 0%, rgba(167,139,250,.10), transparent 60%);
      pointer-events:none;
      opacity:.9;
    }
    .callout > *{ position:relative; }
    .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size: 12px;
      letter-spacing:.08em;
      text-transform:uppercase;
      color: var(--faint);
      margin-bottom: 8px;
    }
    .dot{
      width:10px; height:10px; border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 0 3px rgba(125,211,252,.14);
    }
    .dot.warn{ background: var(--warn); box-shadow: 0 0 0 3px rgba(251,191,36,.16); }
    .dot.ok{ background: var(--ok); box-shadow: 0 0 0 3px rgba(134,239,172,.14); }
    .dot.bad{ background: var(--bad); box-shadow: 0 0 0 3px rgba(251,113,133,.14); }

    .eq{
      font-family: var(--mono);
      font-size: 14px;
      white-space: pre-wrap;
      word-break: break-word;
      background: rgba(0,0,0,.22);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px 12px;
      margin-top: 10px;
      position:relative;
    }
    .eq .row{
      display:flex;
      justify-content:space-between;
      gap: 10px;
      align-items:flex-start;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.07);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      font-size: 12px;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(125,211,252,.10);
      border-color: rgba(125,211,252,.26);
    }
    .btn:active{ transform: translateY(0px); }
    .btn.secondary:hover{
      background: rgba(167,139,250,.10);
      border-color: rgba(167,139,250,.26);
    }
    .copy-note{
      font-size: 12px;
      color: var(--muted);
      margin-top: 8px;
      min-height: 1.2em;
    }

    details{
      margin-top: 12px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(0,0,0,.12);
      overflow:hidden;
    }
    details summary{
      cursor:pointer;
      padding: 12px 14px;
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      user-select:none;
      color: var(--text);
    }
    details summary::-webkit-details-marker{ display:none; }
    details summary .chev{
      width: 10px; height: 10px;
      border-right:2px solid var(--muted);
      border-bottom:2px solid var(--muted);
      transform: rotate(-45deg);
      transition: transform .15s ease;
      margin-right: 4px;
      opacity:.9;
    }
    details[open] summary .chev{
      transform: rotate(45deg);
    }
    details .content{
      padding: 0 14px 14px;
      color: var(--muted);
    }

    .backtop{
      display:inline-flex;
      align-items:center;
      gap:8px;
      color: var(--accent);
      text-decoration:none;
      border:1px solid rgba(125,211,252,.22);
      background: rgba(125,211,252,.06);
      border-radius: 999px;
      padding: 8px 12px;
      margin-top: 12px;
      transition: transform .12s ease, background .12s ease;
      font-size: 13px;
    }
    .backtop:hover{ transform: translateY(-1px); background: rgba(125,211,252,.10); }
    footer{
      padding: 18px;
      border-top:1px solid var(--border);
      color: var(--muted);
      font-size: 13px;
    }

    /* Print-friendly */
    @media print{
      body{ background:#fff; color:#000; }
      header, footer, nav{ display:none !important; }
      section{ box-shadow:none; border:1px solid #ccc; background:#fff; }
      .eq{ background:#f7f7f7; border:1px solid #ddd; }
      .btn, .copy-note, .backtop{ display:none !important; }
      a{ color:#000; text-decoration:none; }
      section{ break-inside: avoid; page-break-inside: avoid; }
      h2{ break-after: avoid; }
    }

    /* subtle entrance */
    @keyframes rise { from{ opacity:0; transform: translateY(6px);} to{ opacity:1; transform: translateY(0);} }
    section{ animation: rise .22s ease both; }
  </style>
</head>

<body>
  <header id="top">
    <div class="wrap title">
      <h1>Giant Magnetoresistance (GMR) in Two Ferromagnetic Layers (No Spin-Flip): Full Derivation</h1>
      <p class="subtitle">
        We model a two-layer ferromagnetic conductor as two identical regions in series, with spin-up and spin-down electrons acting as independent parallel conduction channels. We derive the GMR ratio and explain why the antiparallel resistance can diverge when one spin channel becomes insulating.
      </p>
    </div>
  </header>

  <div class="layout">
    <nav aria-label="Table of contents">
      <div class="toc-title">
        <h2>Contents</h2>
        <span class="fine">Sticky TOC</span>
      </div>
      <div class="toc">
        <a href="#quick-summary">Quick Summary <small>What, why, key result</small></a>
        <a href="#part0">PART 0 — Concept Primer <small>Spin channels, series/parallel laws</small></a>
        <a href="#part0b">PART 0B — Industry Perspective <small>Read heads, sensors, manufacturing</small></a>
        <a href="#part1">PART 1 — Problem Analysis <small>Model, unknowns, assumptions</small></a>
        <a href="#part2">PART 2 — Strategy &amp; Tips <small>Roadmap + common mistakes</small></a>
        <a href="#part3">PART 3 — Full Solution <small>Step-by-step derivation + checks</small></a>
        <a href="#part4">PART 4 — Deeper Understanding <small>Parameter effects + concept checks</small></a>
        <a href="#part5">PART 5 — Plot Guide <small>Why no plot here</small></a>
      </div>
    </nav>

    <main>
      <section id="quick-summary">
        <h2>Quick Summary</h2>
        <ul>
          <li><strong>What this is:</strong> Derive the <em>giant magnetoresistance ratio</em> for two identical ferromagnetic layers whose magnetizations are either parallel (↑↑) or antiparallel (↑↓).</li>
          <li><strong>Key physics idea:</strong> Without spin-flip scattering, <strong>spin-up and spin-down electrons are independent current channels</strong> (two-fluid model).</li>
          <li><strong>Core network rule:</strong> Each spin channel sees the two layers as <strong>resistors in series</strong>; the two spin channels combine <strong>in parallel</strong>.</li>
          <li><strong>Governing “equation” (transport):</strong> In steady DC, microscopic drift-diffusion reduces to Ohm’s law <span class="muted">(J = σE)</span> and macroscopic series/parallel composition.</li>
          <li><strong>Result type:</strong> Fully <strong>symbolic</strong>; expressed in terms of conductivities <span class="muted">σ<sub>p</sub>, σ<sub>a</sub></span> for electrons parallel/antiparallel to local magnetization.</li>
          <li><strong>Main derived formula:</strong>
            <span class="muted">GMRR = (σ<sub>p</sub>/σ<sub>a</sub> + σ<sub>a</sub>/σ<sub>p</sub> − 2)/4</span> (no spin flip).</li>
          <li><strong>Physical meaning:</strong> Large contrast between σ<sub>p</sub> and σ<sub>a</sub> makes antiparallel alignment much more resistive.</li>
          <li><strong>Limiting case:</strong> If σ<sub>a</sub> → 0, then <strong>R<sub>↑↓</sub> → ∞</strong> because every conserved spin channel must traverse a layer where it is “blocked”.</li>
        </ul>

        <div class="callouts">
          <div class="callout">
            <div class="tag"><span class="dot"></span>Key equation (copyable)</div>
            <div class="eq" data-copy="eq1">
              <div class="row">
                <code id="eq1">GMRR = (R_{↑↓} − R_{↑↑}) / R_{↑↑} = (σ_p/σ_a + σ_a/σ_p − 2)/4</code>
                <button class="btn" data-copy-btn="eq1">Copy equation</button>
              </div>
              <div class="copy-note" data-copy-note="eq1"></div>
            </div>
          </div>
        </div>
        <a class="backtop" href="#top" aria-label="Back to top">↑ Back to top</a>
      </section>

      <section id="part0">
        <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

        <div class="grid2">
          <div class="card">
            <h3>Core definitions (symbols &amp; SI units)</h3>
            <ul>
              <li><strong>σ</strong> — conductivity (SI: S/m).</li>
              <li><strong>ρ = 1/σ</strong> — resistivity (SI: Ω·m).</li>
              <li><strong>J</strong> — current density (A/m²).</li>
              <li><strong>E</strong> — electric field (V/m).</li>
              <li><strong>R</strong> — resistance (Ω), <strong>G = 1/R</strong> conductance (S).</li>
              <li><strong>L</strong> — layer length along current (m), <strong>A</strong> cross-sectional area (m²).</li>
              <li><strong>σ<sub>p</sub></strong> — conductivity for electrons whose magnetic moment is <em>parallel</em> to local magnetization.</li>
              <li><strong>σ<sub>a</sub></strong> — conductivity for electrons whose magnetic moment is <em>antiparallel</em> to local magnetization.</li>
            </ul>
          </div>

          <div class="card">
            <h3>Physical meaning (intuition)</h3>
            <ul>
              <li>Ferromagnets split electronic states into two spin populations (majority/minority) with different scattering rates.</li>
              <li><strong>Parallel spin</strong> often scatters less ⇒ higher σ<sub>p</sub>; <strong>antiparallel spin</strong> scatters more ⇒ lower σ<sub>a</sub>.</li>
              <li>GMR: changing relative magnetization alignment changes how each conserved spin population navigates the stack.</li>
            </ul>
          </div>
        </div>

        <h3>Key laws/principles and validity conditions</h3>
        <div class="callout">
          <div class="tag"><span class="dot ok"></span>Transport law + regime</div>
          <ul>
            <li><strong>Local Ohm’s law (steady DC):</strong> <span class="muted">J = σE</span>. In operator form, under quasi-static conditions, charge conservation gives <span class="muted">∇·J = 0</span> and electrostatics gives <span class="muted">∇×E = 0</span> so <span class="muted">E = −∇V</span>.</li>
            <li><strong>Spin conservation (no spin flip):</strong> spin-up and spin-down currents do not interconvert; mathematically we treat them as <em>separate continuity channels</em>.</li>
            <li><strong>Identical geometry:</strong> two regions have same <span class="muted">L, A</span> so we can compare purely via σ values.</li>
            <li><strong>Linear response:</strong> σ is taken constant (field-independent) in the small-bias limit.</li>
          </ul>
        </div>

        <h3>Common models/approximations used here (and why)</h3>
        <ul>
          <li><strong>Two-current (Mott) model:</strong> represent conduction as two independent channels with conductivities σ↑ and σ↓ (here tied to σ<sub>p</sub>, σ<sub>a</sub> depending on alignment).</li>
          <li><strong>Lumped-element reduction:</strong> since geometry is uniform and we only need total R, we reduce <span class="muted">∇·(σ∇V)=0</span> to equivalent series/parallel resistor rules (linearity makes this valid).</li>
          <li><strong>No interfacial complications:</strong> ignore interface resistances and spin-dependent boundary scattering (real devices add these, but the ideal model reveals the core mechanism).</li>
        </ul>

        <h3>Mini intuition examples (minimal algebra)</h3>
        <ul>
          <li><strong>Series effect:</strong> if a carrier must traverse two segments, its total resistance adds: it can’t “skip” the worse segment.</li>
          <li><strong>Parallel effect:</strong> if two independent carrier populations can both carry current, their conductances add: <span class="muted">G = G₁ + G₂</span>.</li>
          <li><strong>Spin valve idea:</strong> in antiparallel alignment, each spin species is “good” in one layer and “bad” in the other, raising R.</li>
        </ul>

        <h3>What to watch for (pitfalls)</h3>
        <ul>
          <li>Do <strong>not</strong> average conductivities across layers incorrectly: series uses resistivities (or inverse σ), not σ itself.</li>
          <li>Spin labels must be consistent: define spin-up relative to one layer’s magnetization, then track what happens in the second layer.</li>
          <li>“No spin flip” is crucial: with spin flip, the channels couple and the result changes.</li>
        </ul>

        <div class="callout">
          <div class="tag"><span class="dot"></span>Math Insight</div>
          <p class="muted">
            At the continuum level, the potential solves the elliptic PDE <span style="font-family:var(--mono);">∇·(σ(r) ∇V) = 0</span>.
            For piecewise-constant σ in 1D (current along x) this becomes <span style="font-family:var(--mono);">d/dx(σ dV/dx)=0</span>, so
            <span style="font-family:var(--mono);">σ dV/dx</span> is constant. That constancy is exactly why voltage drops add in series segments and why
            conductances add for parallel independent channels (linearity + conservation form).
          </p>
        </div>

        <a class="backtop" href="#top">↑ Back to top</a>
      </section>

      <section id="part0b">
        <h2>PART 0B — Industry &amp; Applied Physics Perspective</h2>

        <h3>Where this appears in industry (concrete areas)</h3>
        <ul>
          <li><strong>Magnetic storage &amp; read heads:</strong> spin-valve and tunneling MR stacks used to detect tiny magnetic fields from recorded bits.</li>
          <li><strong>Current sensors:</strong> GMR sensors in automotive/industrial systems for non-contact current measurement via magnetic field.</li>
          <li><strong>Position/angle sensing:</strong> encoders and gear-tooth sensors using GMR’s high sensitivity and robustness.</li>
        </ul>

        <h3>Why engineers care (IE + applied-physics lens)</h3>
        <ul>
          <li><strong>Performance:</strong> larger GMR ratio ⇒ bigger signal-to-noise in readout electronics; enables lower power or smaller fields.</li>
          <li><strong>Reliability:</strong> layer thickness variation, interfacial roughness, and thermal aging shift σ<sub>p</sub>, σ<sub>a</sub> and thus drift the sensor output.</li>
          <li><strong>Manufacturability &amp; cost:</strong> repeatable thin-film deposition (sputtering, lithography) must control microstructure to keep spin-dependent scattering consistent.</li>
          <li><strong>System integration:</strong> the derived ideal formula guides which material pairings and stack designs maximize contrast while staying within process windows.</li>
        </ul>

        <h3>Typical measurement/validation methods</h3>
        <ul>
          <li><strong>Four-probe resistance vs magnetic field</strong> (R–H loop) to quantify ΔR and switching fields.</li>
          <li><strong>Magnetometry</strong> (VSM/SQUID) to verify layer magnetization states and coupling.</li>
          <li><strong>Thin-film metrology</strong> (XRR, TEM, AFM) to connect interfacial structure to transport.</li>
        </ul>

        <h3>Design trade-offs and constraints (real systems)</h3>
        <ul>
          <li><strong>Interfaces matter:</strong> additional interfacial resistance and spin memory loss can reduce effective GMR.</li>
          <li><strong>Temperature dependence:</strong> phonon and magnon scattering change σ<sub>p</sub>/σ<sub>a</sub> with T, affecting calibration.</li>
          <li><strong>Noise &amp; drift:</strong> 1/f noise, electromigration, and stress can degrade long-term stability—key industrial-engineering concerns for lifecycle performance.</li>
        </ul>

        <details>
          <summary><span><span class="chev" aria-hidden="true"></span><strong>From lab to product:</strong> how the ideal model is adapted</span></summary>
          <div class="content">
            In products, the simple two-layer resistor picture is extended by adding: (i) explicit interface resistances,
            (ii) finite spin-diffusion length (spin-flip coupling between channels),
            (iii) non-uniform current paths (CIP vs CPP geometries),
            and (iv) statistical process variation (thickness/roughness distributions). The ideal derivation remains the “north star”:
            maximize spin asymmetry while keeping the stack stable and manufacturable.
          </div>
        </details>

        <a class="backtop" href="#top">↑ Back to top</a>
      </section>

      <section id="part1">
        <h2>PART 1 — Problem Analysis (No Solving Yet)</h2>

        <h3>Problem restatement (in plain words)</h3>
        <p>
          A ferromagnetic conductor consists of two identical regions in series. Each region’s magnetization can point up or down.
          Electrons whose magnetic moments are parallel to the local magnetization conduct better (conductivity σ<sub>p</sub>) than those antiparallel (σ<sub>a</sub>).
          Assuming <strong>no spin-flip scattering</strong>, derive the giant magnetoresistance ratio
          <span class="muted">GMRR = (R<sub>↑↓</sub> − R<sub>↑↑</sub>)/R<sub>↑↑</sub></span>, and explain why <span class="muted">R<sub>↑↓</sub></span> becomes infinite as σ<sub>a</sub> → 0.
        </p>

        <div class="grid2">
          <div class="card">
            <h3>Given quantities</h3>
            <ul>
              <li>Two regions (layers) of <strong>identical dimensions</strong>: length <span class="muted">L</span>, area <span class="muted">A</span>.</li>
              <li>Spin-dependent conductivities: <span class="muted">σ<sub>p</sub></span> (parallel), <span class="muted">σ<sub>a</sub></span> (antiparallel).</li>
              <li>Two magnetization configurations: <span class="muted">↑↑</span> (parallel), <span class="muted">↑↓</span> (antiparallel).</li>
              <li>No spin-flip scattering: spin channels remain independent.</li>
            </ul>
          </div>
          <div class="card">
            <h3>Unknowns / what must be found</h3>
            <ul>
              <li>Compute <span class="muted">R<sub>↑↑</sub></span> and <span class="muted">R<sub>↑↓</sub></span>.</li>
              <li>Show <span class="muted">GMRR = (σ<sub>p</sub>/σ<sub>a</sub> + σ<sub>a</sub>/σ<sub>p</sub> − 2)/4</span>.</li>
              <li>Explain physically why <span class="muted">R<sub>↑↓</sub> → ∞</span> as <span class="muted">σ<sub>a</sub> → 0</span>.</li>
            </ul>
          </div>
        </div>

        <h3>Relevant principles and why they apply</h3>
        <ul>
          <li><strong>Charge conservation:</strong> steady state implies <span class="muted">∇·J = 0</span>; in 1D, the same current flows through series elements.</li>
          <li><strong>Ohmic conduction:</strong> <span class="muted">J = σE</span> and <span class="muted">E = −∇V</span> lead to additive voltage drops.</li>
          <li><strong>Two independent spin channels:</strong> without spin flips, total current is a sum: <span class="muted">J = J↑ + J↓</span> (parallel conduction).</li>
          <li><strong>Why not use other laws?</strong> We do not need full Maxwell dynamics or quantum band calculations; σ<sub>p</sub>, σ<sub>a</sub> are given effective parameters.</li>
        </ul>

        <div class="callout">
          <div class="tag"><span class="dot warn"></span>Explicit assumptions</div>
          <ul>
            <li>Steady-state DC, linear response (σ constants).</li>
            <li>Uniform cross section; current flows along the layer length (1D lumped reduction).</li>
            <li>No interfacial resistances; no current shunting; identical geometric dimensions.</li>
            <li>No spin-flip scattering (spin channels are uncoupled).</li>
          </ul>
        </div>

        <h3>Possible approaches (compare 2–3)</h3>
        <div class="grid2">
          <div class="card">
            <h3>Approach A: Resistor network (best here)</h3>
            <ul>
              <li><strong>Idea:</strong> compute each spin channel’s series resistance, then combine channels in parallel.</li>
              <li><strong>Pros:</strong> shortest, clearest, directly matches hint.</li>
              <li><strong>Cons:</strong> hides the PDE origin unless explained (we will connect it briefly).</li>
            </ul>
          </div>
          <div class="card">
            <h3>Approach B: 1D PDE (continuum)</h3>
            <ul>
              <li><strong>Idea:</strong> solve <span class="muted">d/dx(σ dV/dx)=0</span> piecewise for each spin, match boundary conditions, extract R.</li>
              <li><strong>Pros:</strong> most “mathematical physics” explicit; shows why series addition works.</li>
              <li><strong>Cons:</strong> more algebra for the same final expressions.</li>
            </ul>
          </div>
        </div>

        <p class="muted">
          We choose <strong>Approach A</strong> (network) for efficiency and transparency, while explicitly linking it to the underlying conservation-form PDE so each step is mathematically justified.
        </p>

        <a class="backtop" href="#top">↑ Back to top</a>
      </section>

      <section id="part2">
        <h2>PART 2 — Strategy &amp; Tips (Roadmap Only)</h2>

        <ol>
          <li><strong>Define geometry and base resistance formula</strong>: use <span class="muted">R = L/(Aσ)</span> for a uniform segment.</li>
          <li><strong>Choose a spin quantization axis</strong>: label “spin-up” relative to the first layer’s magnetization.</li>
          <li><strong>Compute per-spin resistances in ↑↑</strong>: each spin sees the same alignment in both layers ⇒ two identical segments in series.</li>
          <li><strong>Combine spins in parallel</strong>: total conductance is the sum of channel conductances.</li>
          <li><strong>Compute per-spin resistances in ↑↓</strong>: each spin is parallel in one layer and antiparallel in the other ⇒ mixed series.</li>
          <li><strong>Combine channels for ↑↓</strong>: two equal channel resistances in parallel.</li>
          <li><strong>Form the ratio</strong>: <span class="muted">GMRR = (R<sub>↑↓</sub> − R<sub>↑↑</sub>)/R<sub>↑↑</sub></span>, simplify algebra carefully.</li>
          <li><strong>Sanity checks</strong>: dimensions, symmetry under σ<sub>p</sub> ↔ σ<sub>a</sub>, limiting cases σ<sub>p</sub>=σ<sub>a</sub> and σ<sub>a</sub>→0.</li>
        </ol>

        <div class="callout">
          <div class="tag"><span class="dot bad"></span>Common mistakes (quick fixes)</div>
          <ul>
            <li><strong>Mistake:</strong> averaging σ across layers for series. <strong>Fix:</strong> series adds <span class="muted">1/σ</span> (resistivities).</li>
            <li><strong>Mistake:</strong> forgetting that ↑↓ makes each spin channel “good+bad” in series. <strong>Fix:</strong> write the two layer resistances explicitly for each channel.</li>
            <li><strong>Mistake:</strong> mixing resistance and conductance addition rules. <strong>Fix:</strong> series: add R; parallel: add G.</li>
          </ul>
        </div>

        <a class="backtop" href="#top">↑ Back to top</a>
      </section>

      <section id="part3">
        <h2>PART 3 — Full Solution (Detailed + Teaching)</h2>

        <h3>Qualitative expectation (before calculating)</h3>
        <ul>
          <li>In <strong>↑↑</strong>, one spin species is consistently the “good conductor” through both layers, and the other is consistently “bad”. Because they are in parallel, the good channel strongly lowers total R.</li>
          <li>In <strong>↑↓</strong>, each conserved spin species is “good in one layer and bad in the other”, so each channel is bottlenecked by the bad segment. Total R rises.</li>
          <li>If <span class="muted">σ<sub>p</sub> ≫ σ<sub>a</sub></span>, the contrast is large, so the resistance change can be large (GMR).</li>
        </ul>

        <div class="callout">
          <div class="tag"><span class="dot"></span>Mathematical model (explicit)</div>
          <ul>
            <li><strong>Domain:</strong> 1D stack along x: layer 1 is <span class="muted">x ∈ [0,L]</span>, layer 2 is <span class="muted">x ∈ [L,2L]</span>, cross-section area <span class="muted">A</span> constant.</li>
            <li><strong>Unknowns:</strong> electrostatic potential <span class="muted">V(x)</span> and channel currents <span class="muted">J↑(x), J↓(x)</span>.</li>
            <li><strong>Equations (steady DC):</strong>
              <span class="muted">∇×E = 0 ⇒ E = −∇V</span>,
              <span class="muted">J_s = σ_s(x) E</span> for spin channel <span class="muted">s ∈ {↑,↓}</span>,
              <span class="muted">∇·J_s = 0</span> (no accumulation).</li>
            <li><strong>Boundary conditions:</strong> fixed applied voltage or fixed total current at <span class="muted">x=0</span> and <span class="muted">x=2L</span>. For lumped R, we only need the ratio <span class="muted">ΔV/I</span>.</li>
          </ul>
          <p class="muted">
            Because the governing equation is linear and in conservation form, piecewise-constant σ reduces exactly to series/parallel rules.
          </p>
        </div>

        <h3>Step 1: Base resistance of a uniform segment</h3>
        <p>
          For a uniform material segment of length <span class="muted">L</span>, area <span class="muted">A</span>, and conductivity <span class="muted">σ</span>, the resistance is
        </p>
        <div class="eq" data-copy="eqR">
          <div class="row">
            <code id="eqR">R = ρ L/A = (1/σ) L/A = L/(A σ)</code>
            <button class="btn" data-copy-btn="eqR">Copy equation</button>
          </div>
          <div class="copy-note" data-copy-note="eqR"></div>
        </div>
        <p class="muted">
          Dimensional check: <span style="font-family:var(--mono);">[L/(Aσ)] = m / (m²·S/m) = 1/S = Ω</span>. Good.
        </p>

        <h3>Step 2: Define spin channels and alignment-dependent conductivities</h3>
        <p>
          Choose “spin-up” (↑) as the electron magnetic-moment orientation <em>parallel to layer 1’s magnetization</em>.
          With no spin flips, this label is conserved as electrons traverse both layers.
        </p>
        <ul>
          <li>If a channel’s magnetic moment is <strong>parallel</strong> to the local magnetization in a given layer, that layer’s conductivity for that channel is <span class="muted">σ<sub>p</sub></span>.</li>
          <li>If it is <strong>antiparallel</strong>, conductivity is <span class="muted">σ<sub>a</sub></span>.</li>
        </ul>

        <h3>Step 3: Compute <span class="muted">R<sub>↑↑</sub></span> (parallel magnetizations)</h3>
        <p>
          In configuration <strong>↑↑</strong>, both layers have the same magnetization direction.
        </p>

        <div class="callouts">
          <div class="callout">
            <div class="tag"><span class="dot ok"></span>Spin-up channel in ↑↑</div>
            <p class="muted">
              Spin-up is parallel to magnetization in <em>both</em> layers ⇒ each layer has conductivity σ<sub>p</sub>.
              The channel sees two equal resistances in series:
            </p>
            <div class="eq" data-copy="eqRu">
              <div class="row">
                <code id="eqRu">R_↑(↑↑) = L/(Aσ_p) + L/(Aσ_p) = 2L/(Aσ_p)</code>
                <button class="btn" data-copy-btn="eqRu">Copy equation</button>
              </div>
              <div class="copy-note" data-copy-note="eqRu"></div>
            </div>
          </div>

          <div class="callout">
            <div class="tag"><span class="dot warn"></span>Spin-down channel in ↑↑</div>
            <p class="muted">
              Spin-down is antiparallel in both layers ⇒ conductivity σ<sub>a</sub> in each layer:
            </p>
            <div class="eq" data-copy="eqRd">
              <div class="row">
                <code id="eqRd">R_↓(↑↑) = L/(Aσ_a) + L/(Aσ_a) = 2L/(Aσ_a)</code>
                <button class="btn" data-copy-btn="eqRd">Copy equation</button>
              </div>
              <div class="copy-note" data-copy-note="eqRd"></div>
            </div>
          </div>
        </div>

        <p>
          Since the channels are independent and both experience the same voltage drop, their <strong>conductances add</strong>:
          <span class="muted">G = G↑ + G↓</span>.
        </p>

        <p class="muted">
          Compute conductances:
          <span style="font-family:var(--mono);">G↑ = 1/R↑ = Aσ_p/(2L)</span>, and
          <span style="font-family:var(--mono);">G↓ = 1/R↓ = Aσ_a/(2L)</span>.
        </p>

        <div class="eq" data-copy="eqRpp">
          <div class="row">
            <code id="eqRpp">G_(↑↑) = A(σ_p + σ_a)/(2L)  ⇒  R_(↑↑) = 1/G_(↑↑) = 2L/[A(σ_p + σ_a)]</code>
            <button class="btn secondary" data-copy-btn="eqRpp">Copy equation</button>
          </div>
          <div class="copy-note" data-copy-note="eqRpp"></div>
        </div>

        <h3>Step 4: Compute <span class="muted">R<sub>↑↓</sub></span> (antiparallel magnetizations)</h3>
        <p>
          In configuration <strong>↑↓</strong>, layer 1 magnetization is up, layer 2 is down.
          Keep the same conserved spin label defined relative to layer 1.
        </p>

        <div class="callouts">
          <div class="callout">
            <div class="tag"><span class="dot ok"></span>Spin-up channel in ↑↓</div>
            <p class="muted">
              In layer 1, spin-up is parallel ⇒ σ<sub>p</sub>.
              In layer 2, magnetization is reversed, so that same spin-up is now antiparallel ⇒ σ<sub>a</sub>.
              Series resistance:
            </p>
            <div class="eq" data-copy="eqRud">
              <div class="row">
                <code id="eqRud">R_↑(↑↓) = L/(Aσ_p) + L/(Aσ_a) = (L/A)(1/σ_p + 1/σ_a)</code>
                <button class="btn" data-copy-btn="eqRud">Copy equation</button>
              </div>
              <div class="copy-note" data-copy-note="eqRud"></div>
            </div>
          </div>

          <div class="callout">
            <div class="tag"><span class="dot warn"></span>Spin-down channel in ↑↓</div>
            <p class="muted">
              Spin-down is antiparallel in layer 1 (σ<sub>a</sub>) and parallel in layer 2 (σ<sub>p</sub>), so it has the <em>same</em> series resistance:
            </p>
            <div class="eq" data-copy="eqRdu">
              <div class="row">
                <code id="eqRdu">R_↓(↑↓) = L/(Aσ_a) + L/(Aσ_p) = (L/A)(1/σ_p + 1/σ_a) = R_↑(↑↓)</code>
                <button class="btn" data-copy-btn="eqRdu">Copy equation</button>
              </div>
              <div class="copy-note" data-copy-note="eqRdu"></div>
            </div>
          </div>
        </div>

        <p>
          The two channels are equal resistors in parallel, so the total resistance is half of one channel:
        </p>

        <div class="eq" data-copy="eqRap">
          <div class="row">
            <code id="eqRap">R_(↑↓) = [R_↑(↑↓)]/2 = (L/(2A))(1/σ_p + 1/σ_a) = (L/(2A))[(σ_p + σ_a)/(σ_p σ_a)]</code>
            <button class="btn secondary" data-copy-btn="eqRap">Copy equation</button>
          </div>
          <div class="copy-note" data-copy-note="eqRap"></div>
        </div>

        <h3>Step 5: Form and simplify the GMR ratio</h3>
        <p>
          By definition:
          <span class="muted">GMRR = (R<sub>↑↓</sub> − R<sub>↑↑</sub>)/R<sub>↑↑</sub></span>.
          Substitute the expressions we found:
        </p>

        <div class="eq">
<code>
R_(↑↑) = 2L/[A(σ_p + σ_a)]
R_(↑↓) = (L/(2A))[(σ_p + σ_a)/(σ_p σ_a)]
</code>
        </div>

        <p class="muted">
          First compute the ratio <span style="font-family:var(--mono);">R_(↑↓)/R_(↑↑)</span> (the geometry factors cancel cleanly):
        </p>

        <div class="eq" data-copy="eqRatio">
          <div class="row">
            <code id="eqRatio">R_(↑↓)/R_(↑↑) = [(L/(2A))((σ_p+σ_a)/(σ_pσ_a))] / [2L/(A(σ_p+σ_a))] = (σ_p+σ_a)^2/(4σ_pσ_a)</code>
            <button class="btn" data-copy-btn="eqRatio">Copy equation</button>
          </div>
          <div class="copy-note" data-copy-note="eqRatio"></div>
        </div>

        <p class="muted">
          Therefore:
        </p>
        <div class="eq" data-copy="eqGmrStep">
          <div class="row">
            <code id="eqGmrStep">GMRR = R_(↑↓)/R_(↑↑) − 1 = (σ_p+σ_a)^2/(4σ_pσ_a) − 1</code>
            <button class="btn" data-copy-btn="eqGmrStep">Copy equation</button>
          </div>
          <div class="copy-note" data-copy-note="eqGmrStep"></div>
        </div>

        <p class="muted">
          Expand and simplify (no “magic jumps”):
        </p>
        <div class="eq">
<code>
(σ_p+σ_a)^2/(4σ_pσ_a) − 1
= (σ_p^2 + 2σ_pσ_a + σ_a^2)/(4σ_pσ_a) − (4σ_pσ_a)/(4σ_pσ_a)
= (σ_p^2 − 2σ_pσ_a + σ_a^2)/(4σ_pσ_a)
= ( (σ_p − σ_a)^2 )/(4σ_pσ_a)
= (σ_p/σ_a + σ_a/σ_p − 2)/4
</code>
        </div>

        <div class="callout">
          <div class="tag"><span class="dot"></span>Final result (boxed)</div>
          <div class="eq" data-copy="finalAnswer">
            <div class="row">
              <code id="finalAnswer">GMRR = (R_{↑↓} − R_{↑↑})/R_{↑↑} = (σ_p/σ_a + σ_a/σ_p − 2)/4  (no spin-flip scattering)</code>
              <button class="btn secondary" data-copy-btn="finalAnswer">Copy final answer</button>
            </div>
            <div class="copy-note" data-copy-note="finalAnswer"></div>
          </div>
        </div>

        <h3>Sanity checks</h3>
        <ul>
          <li><strong>Dimensionless:</strong> GMRR uses ratios of σ, so it is unitless, as required.</li>
          <li><strong>Symmetry:</strong> Expression is invariant under σ<sub>p</sub> ↔ σ<sub>a</sub> (expected because swapping spin labels should not change physics).</li>
          <li><strong>No contrast case:</strong> If σ<sub>p</sub> = σ<sub>a</sub>, then GMRR = (1 + 1 − 2)/4 = 0 ⇒ no magnetoresistance.</li>
          <li><strong>High contrast:</strong> If σ<sub>p</sub> ≫ σ<sub>a</sub>, then GMRR ≈ (σ<sub>p</sub>/σ<sub>a</sub>)/4 (dominant term) ⇒ large effect.</li>
        </ul>

        <h3>Part (b): Why <span class="muted">R<sub>↑↓</sub></span> becomes infinite when <span class="muted">σ<sub>a</sub> → 0</span></h3>
        <p>
          From the derived formula:
          <span class="muted">R<sub>↑↓</sub> = (L/(2A))(1/σ<sub>p</sub> + 1/σ<sub>a</sub>)</span>.
          As <span class="muted">σ<sub>a</sub> → 0</span>, the term <span class="muted">1/σ<sub>a</sub> → ∞</span>, so <strong>R<sub>↑↓</sub> → ∞</strong>.
        </p>

        <details>
          <summary><span><span class="chev" aria-hidden="true"></span>Deeper physical explanation (spin “bottleneck”)</span></summary>
          <div class="content">
            In the antiparallel state, <em>every</em> conserved spin channel must cross two layers where it is:
            (i) parallel in one layer (conducts well) and (ii) antiparallel in the other (conducts poorly).
            If σ<sub>a</sub> → 0, then the antiparallel layer is effectively an insulator for that channel.
            With no spin-flip scattering, carriers cannot convert into the other spin population mid-flight to avoid the blocked layer.
            Therefore, there is no continuous conducting path across the full device for any channel ⇒ the total resistance diverges.
          </div>
        </details>

        <a class="backtop" href="#top">↑ Back to top</a>
      </section>

      <section id="part4">
        <h2>PART 4 — Deeper Understanding (Theory Around the Result)</h2>

        <h3>Re-interpreting the final formula</h3>
        <p class="muted">
          A compact equivalent form is:
        </p>
        <div class="eq" data-copy="eqAlt">
          <div class="row">
            <code id="eqAlt">GMRR = (σ_p − σ_a)^2 / (4 σ_p σ_a)</code>
            <button class="btn" data-copy-btn="eqAlt">Copy equation</button>
          </div>
          <div class="copy-note" data-copy-note="eqAlt"></div>
        </div>
        <ul>
          <li>The numerator <span class="muted">(σ<sub>p</sub> − σ<sub>a</sub>)²</span> says <strong>contrast drives the effect</strong>: no contrast ⇒ no GMR.</li>
          <li>The denominator <span class="muted">σ<sub>p</sub>σ<sub>a</sub></span> shows that making one channel extremely small (σ<sub>a</sub> → 0) can blow up GMRR in the ideal model.</li>
          <li>Mathematically, this is a <strong>convex “mismatch penalty”</strong> coming from series+parallel composition of positive conductances.</li>
        </ul>

        <h3>Parameter dependence (qualitative + quantitative hints)</h3>
        <ul>
          <li>Increase σ<sub>p</sub> at fixed σ<sub>a</sub>: GMRR increases roughly like σ<sub>p</sub>/(4σ<sub>a</sub>) when σ<sub>p</sub> ≫ σ<sub>a</sub>.</li>
          <li>Increase σ<sub>a</sub> toward σ<sub>p</sub>: GMRR decreases to 0.</li>
          <li>Scaling geometry: both R<sub>↑↑</sub> and R<sub>↑↓</sub> scale like <span class="muted">L/A</span>, but GMRR is <strong>geometry-independent</strong> in this ideal symmetric case.</li>
        </ul>

        <h3>Alternative derivation idea (brief but meaningful)</h3>
        <p class="muted">
          Solve the 1D PDE for each spin channel:
          <span style="font-family:var(--mono);">d/dx(σ_s(x) dV_s/dx) = 0</span>.
          Because σ is piecewise constant, <span style="font-family:var(--mono);">dV_s/dx</span> is constant in each layer and the current
          <span style="font-family:var(--mono);">J_s = −σ_s dV_s/dx</span> is constant through the stack (steady conservation). Matching V at the interface yields the same series addition.
          Finally, total current is <span style="font-family:var(--mono);">J = J_↑ + J_↓</span> (parallel channels), reproducing the network result.
        </p>

        <h3>Concept check (self-test Q&amp;A)</h3>
        <ul>
          <li><strong>Q:</strong> Why do we add conductances (not resistances) for spin channels? <strong>A:</strong> Both channels share the same ΔV and independently carry current, so currents add: <span class="muted">I = I↑ + I↓ = (G↑+G↓)ΔV</span>.</li>
          <li><strong>Q:</strong> What would immediately break this derivation? <strong>A:</strong> Spin-flip scattering that couples channels, or significant interface resistances/spin memory loss.</li>
          <li><strong>Q:</strong> If σ<sub>p</sub> = σ<sub>a</sub>, what happens physically? <strong>A:</strong> No spin asymmetry in scattering, so magnetization alignment doesn’t change R ⇒ GMRR = 0.</li>
          <li><strong>Q:</strong> Why is ↑↓ worse than ↑↑? <strong>A:</strong> In ↑↓ each spin must traverse one “bad” layer in series; in ↑↑ one spin channel is “good+good” through the whole device.</li>
        </ul>

        <a class="backtop" href="#top">↑ Back to top</a>
      </section>

      <section id="part5">
        <h2>PART 5 — Optional Plot Guide</h2>
        <p class="muted">
          A plot isn’t necessary here because the problem is purely symbolic and the key insight is the exact closed-form expression for GMRR.
          If you later want a visual intuition, the most informative plot would be GMRR versus the conductivity ratio <span style="font-family:var(--mono);">r = σ_p/σ_a</span>, showing
          <span style="font-family:var(--mono);">GMRR = (r + 1/r − 2)/4</span> with a minimum of 0 at r=1 and growth for r→0 or r→∞.
        </p>
        <a class="backtop" href="#top">↑ Back to top</a>
      </section>
    </main>
  </div>

  <footer>
    <div class="wrap">
      <p>
        Built as a self-contained learning article: two-current model (no spin flip), series/parallel reduction from conservation-form transport, and industrial relevance to GMR sensors and read heads.
      </p>
      <p class="fine">
        Tip: Use the “Copy” buttons to copy key equations and the final answer as plain text.
      </p>
    </div>
  </footer>

  <script>
    (function(){
      function copyText(text){
        if (navigator.clipboard && navigator.clipboard.writeText){
          return navigator.clipboard.writeText(text);
        }
        // Fallback
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.setAttribute('readonly','');
        ta.style.position = 'absolute';
        ta.style.left = '-9999px';
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        document.body.removeChild(ta);
        return Promise.resolve();
      }

      function setNote(id, msg){
        const note = document.querySelector('[data-copy-note="'+id+'"]');
        if (!note) return;
        note.textContent = msg;
        note.style.opacity = '1';
        setTimeout(()=>{ note.style.opacity = '0.95'; }, 700);
        setTimeout(()=>{ note.textContent = ''; note.style.opacity = '1'; }, 2200);
      }

      document.querySelectorAll('[data-copy-btn]').forEach(btn=>{
        btn.addEventListener('click', async ()=>{
          const id = btn.getAttribute('data-copy-btn');
          const el = document.getElementById(id);
          if(!el) return;
          const text = el.textContent.trim();
          try{
            await copyText(text);
            setNote(id, 'Copied to clipboard.');
          }catch(e){
            setNote(id, 'Copy failed in this browser.');
          }
        });
      });
    })();
  </script>
</body>
</html>
