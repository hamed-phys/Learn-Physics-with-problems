<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Néel Temperature in the Two-Sublattice Molecular-Field Model (Derivation + Engineering Lens)</title>
  <style>
    :root{
      --bg:#0b0f14;
      --panel:#0f1620;
      --card:#111b27;
      --text:#e8eef6;
      --muted:#b5c3d7;
      --faint:#7f93ad;
      --line:#223247;
      --accent:#7dd3fc;
      --accent2:#a7f3d0;
      --warn:#fbbf24;
      --good:#34d399;
      --bad:#fb7185;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
      --radius2:22px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% -10%, rgba(125,211,252,.12), transparent 55%),
        radial-gradient(900px 600px at 90% 10%, rgba(167,243,208,.10), transparent 60%),
        linear-gradient(180deg, var(--bg), #070a0f 75%);
      line-height:1.55;
    }

    header{
      padding:28px 18px 14px;
      border-bottom:1px solid rgba(255,255,255,.06);
      position:relative;
      overflow:hidden;
    }
    header::after{
      content:"";
      position:absolute; inset:-60px -80px auto auto;
      width:420px; height:420px;
      background: radial-gradient(circle at 30% 30%, rgba(125,211,252,.14), transparent 60%);
      transform:rotate(12deg);
      pointer-events:none;
    }
    .wrap{
      max-width:1200px;
      margin:0 auto;
      padding:0 18px 46px;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap:18px;
    }

    .title{
      max-width:1200px;
      margin:0 auto;
      padding:0 18px 18px;
    }
    h1{
      margin:10px 0 6px;
      font-size: clamp(1.35rem, 2.4vw, 2.1rem);
      letter-spacing:.2px;
    }
    .subtitle{
      color:var(--muted);
      margin:0;
      max-width: 80ch;
    }
    .meta{
      margin-top:10px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      color:var(--faint);
      font-size:.95rem;
    }
    .pill{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      padding:6px 10px;
      border-radius: 999px;
      backdrop-filter: blur(6px);
    }

    nav{
      position:sticky;
      top:10px;
      align-self:start;
      background: rgba(17,27,39,.65);
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius2);
      padding:14px 14px 12px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    nav h2{
      margin:0 0 10px;
      font-size:1.0rem;
      color:var(--muted);
      letter-spacing:.3px;
    }
    .toc{
      list-style:none;
      padding:0;
      margin:0;
      display:grid;
      gap:6px;
    }
    .toc a{
      display:block;
      padding:8px 10px;
      border-radius: 12px;
      color:var(--text);
      text-decoration:none;
      border:1px solid transparent;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      font-size:.95rem;
    }
    .toc a:hover{
      background: rgba(125,211,252,.08);
      border-color: rgba(125,211,252,.18);
      transform: translateY(-1px);
    }
    .toc small{color:var(--faint)}
    .backTop{
      margin-top:10px;
      display:inline-block;
      color:var(--accent);
      text-decoration:none;
      font-size:.95rem;
    }
    .backTop:hover{ text-decoration:underline; }

    main{
      padding: 14px 0 0;
    }

    section, article{
      background: rgba(17,27,39,.62);
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius2);
      padding: 18px 18px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      margin-bottom: 14px;
      overflow:hidden;
    }

    h2{
      margin:0 0 10px;
      font-size: clamp(1.1rem, 1.6vw, 1.4rem);
    }
    h3{
      margin:18px 0 8px;
      font-size:1.05rem;
      color:var(--muted);
    }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 980px){
      .wrap{ grid-template-columns:1fr; }
      nav{ position:relative; top:auto; }
      .grid2{ grid-template-columns:1fr; }
    }

    ul{margin:8px 0 0 20px}
    li{margin:6px 0}
    .muted{color:var(--muted)}
    .faint{color:var(--faint)}
    .hr{
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
      margin: 14px 0;
    }

    .callouts{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top:10px;
    }
    @media (max-width: 980px){
      .callouts{ grid-template-columns:1fr; }
    }
    .box{
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.09);
      background: rgba(15,22,32,.75);
      padding:12px 12px;
    }
    .box h4{
      margin:0 0 6px;
      font-size:.98rem;
      display:flex;
      align-items:center;
      gap:8px;
      color:var(--muted);
    }
    .tag{
      font-family:var(--mono);
      font-size:.85rem;
      padding:2px 7px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color:var(--text);
    }
    .ok{ color: var(--good); }
    .warn{ color: var(--warn); }
    .bad{ color: var(--bad); }

    .eq{
      margin:10px 0;
      padding:12px 12px;
      border-radius: var(--radius);
      border:1px solid rgba(125,211,252,.18);
      background: rgba(125,211,252,.06);
      position:relative;
      overflow:auto;
    }
    pre{
      margin:0;
      font-family:var(--mono);
      font-size:.95rem;
      line-height:1.45;
      white-space:pre;
    }
    .copyBtn{
      position:absolute;
      top:10px;
      right:10px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:var(--text);
      border-radius: 12px;
      padding:7px 10px;
      cursor:pointer;
      font-size:.9rem;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .copyBtn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.10);
      border-color: rgba(255,255,255,.22);
    }
    .copyBtn:active{ transform: translateY(0px) scale(.98); }

    details{
      margin-top:10px;
      border:1px solid rgba(255,255,255,.09);
      background: rgba(15,22,32,.55);
      border-radius: var(--radius);
      padding:10px 12px;
    }
    summary{
      cursor:pointer;
      color:var(--muted);
      font-weight:600;
    }

    figure{
      margin: 12px 0 0;
      padding: 12px 12px;
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.08);
      background: rgba(15,22,32,.55);
    }
    figcaption{
      margin-top:10px;
      color:var(--muted);
      font-size:.95rem;
    }
    canvas{
      width:100%;
      height:auto;
      display:block;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(8,12,18,.6);
    }

    .final{
      border-color: rgba(167,243,208,.22) !important;
      background: rgba(167,243,208,.06) !important;
    }

    footer{
      max-width:1200px;
      margin:0 auto;
      padding: 0 18px 30px;
      color: var(--faint);
      font-size:.95rem;
    }

    /* print-friendly */
    @media print{
      body{ background:#fff; color:#000; }
      nav{ display:none; }
      section, article{ box-shadow:none; background:#fff; border:1px solid #ccc; }
      .copyBtn{ display:none; }
      a{ color:#000; text-decoration:underline; }
      header{ border-bottom:1px solid #ccc; }
      .pill{ border-color:#ccc; background:#fff; }
      figure, .eq, details{ break-inside:avoid; }
      section{ page-break-inside:avoid; }
      h2, h3{ page-break-after:avoid; }
    }
  </style>
</head>

<body>
<header id="top">
  <div class="title">
    <h1>Néel Temperature in the Two-Sublattice Molecular-Field Model</h1>
    <p class="subtitle">
      Derive the relation between the Curie–Weiss temperature <span class="tag">θ</span> and the Néel temperature <span class="tag">T<sub>N</sub></span>
      for an antiferromagnet modeled by two interacting sublattices with effective (molecular) fields.
    </p>
    <div class="meta">
      <span class="pill">Topic: Statistical Physics • Magnetism</span>
      <span class="pill">Model: Two-sublattice mean-field (Weiss / molecular field)</span>
      <span class="pill">Output: Symbolic proof + sanity checks</span>
    </div>
  </div>
</header>

<div class="wrap">
  <nav aria-label="Table of contents">
    <h2>Table of Contents</h2>
    <ol class="toc">
      <li><a href="#quick">Quick Summary <small>• key idea + result</small></a></li>
      <li><a href="#part0">PART 0 — Concept Primer</a></li>
      <li><a href="#part0b">PART 0B — Industry & Applied Physics</a></li>
      <li><a href="#part1">PART 1 — Problem Analysis</a></li>
      <li><a href="#part2">PART 2 — Strategy & Tips</a></li>
      <li><a href="#part3">PART 3 — Full Solution</a></li>
      <li><a href="#part4">PART 4 — Deeper Understanding</a></li>
      <li><a href="#part5">PART 5 — Optional Plot Guide</a></li>
    </ol>
    <a class="backTop" href="#top">Back to top ↑</a>
  </nav>

  <main>
    <section id="quick">
      <h2>Quick Summary</h2>
      <ul>
        <li><strong>What this is about:</strong> A two-sublattice mean-field model of an antiferromagnet (AFM) and how it predicts the ordering temperature <strong>T<sub>N</sub></strong>.</li>
        <li><strong>Key physics idea:</strong> Each sublattice magnetization responds linearly to an <em>effective field</em> that includes molecular fields from both sublattices.</li>
        <li><strong>Governing relations (given):</strong> effective fields
          <span class="tag">B<sub>A</sub> = B<sub>a</sub> − μ M<sub>B</sub> − ε M<sub>A</sub></span>,
          <span class="tag">B<sub>B</sub> = B<sub>a</sub> − μ M<sub>A</sub> − ε M<sub>B</sub></span>.
        </li>
        <li><strong>Mean-field linear response:</strong> in the paramagnetic regime,
          <span class="tag">M<sub>A</sub> = (C<sub>1</sub>/T) B<sub>A</sub>,  M<sub>B</sub> = (C<sub>1</sub>/T) B<sub>B</sub></span>.
        </li>
        <li><strong>Curie–Weiss scale:</strong> the uniform susceptibility has the form <span class="tag">χ = C/(T + θ)</span> with <span class="tag">θ = C<sub>1</sub>(μ + ε)</span>.</li>
        <li><strong>Néel temperature:</strong> AFM instability occurs when the <em>staggered</em> mode becomes nontrivial:
          <span class="tag">T<sub>N</sub> = C<sub>1</sub>(μ − ε)</span>.
        </li>
        <li><strong>Target result (proved below):</strong></li>
      </ul>

      <div class="eq final" role="note" aria-label="Final relationship">
        <button class="copyBtn" data-copy="finalAnswer">Copy final answer</button>
        <pre id="finalAnswer">θ / T_N = (μ + ε) / (μ − ε)</pre>
      </div>

      <div class="callouts">
        <div class="box">
          <h4><span class="tag">Math Insight</span> Eigenvalue / bifurcation</h4>
          <div class="muted">
            The transition happens when a linear system for (M_A, M_B) develops a non-zero solution at zero applied field—i.e., when the determinant vanishes.
            Mathematically, this is an <strong>eigenvalue crossing</strong> (a bifurcation) of a 2×2 linear operator.
          </div>
        </div>
        <div class="box">
          <h4><span class="tag">Assumption</span> Linearized mean-field</h4>
          <div class="muted">
            Near and above T_N, magnetizations are small so we linearize the Brillouin/Langevin response:
            M ∝ B_eff. This is the mathematically controlled “small-order-parameter” limit.
          </div>
        </div>
      </div>
    </section>

    <article id="part0">
      <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

      <h3>0.1 Core definitions (symbols + SI units)</h3>
      <ul>
        <li><strong>M<sub>A</sub>, M<sub>B</sub></strong>: sublattice magnetizations (A/m in SI).</li>
        <li><strong>B<sub>a</sub></strong>: applied magnetic flux density (“applied field”) (tesla, T).</li>
        <li><strong>B<sub>A</sub>, B<sub>B</sub></strong>: effective fields felt by spins on each sublattice (T).</li>
        <li><strong>μ, ε</strong>: molecular-field coupling coefficients. In this problem they multiply magnetization to give field, so their effective units are
          <span class="tag">[μ] = [ε] = T / (A·m<sup>−1</sup>)</span> (often treated as phenomenological constants).
        </li>
        <li><strong>C<sub>1</sub></strong>: Curie constant per sublattice (SI units: A·m·K/T). For many texts, total Curie constant is <span class="tag">C = 2C<sub>1</sub></span>.</li>
        <li><strong>θ</strong>: Curie–Weiss temperature scale extracted from uniform susceptibility (K).</li>
        <li><strong>T<sub>N</sub></strong>: Néel temperature (K), the AFM ordering temperature.</li>
        <li><strong>T</strong>: absolute temperature (K).</li>
      </ul>

      <h3>0.2 Physical meaning (intuition)</h3>
      <ul>
        <li><strong>Molecular field idea:</strong> each spin “feels” not only the applied field but also an internal field proportional to neighbors’ magnetization.</li>
        <li><strong>Two-sublattice AFM:</strong> the crystal can be partitioned into A and B sublattices such that AFM order corresponds to <span class="tag">M<sub>A</sub> = −M<sub>B</sub></span>.</li>
        <li><strong>Uniform vs staggered modes:</strong>
          <ul>
            <li><span class="tag">M = M<sub>A</sub> + M<sub>B</sub></span> (uniform/ferromagnetic mode)</li>
            <li><span class="tag">L = M<sub>A</sub> − M<sub>B</sub></span> (staggered/antiferromagnetic mode, often called the Néel order parameter)</li>
          </ul>
        </li>
      </ul>

      <h3>0.3 Key laws/principles and validity conditions</h3>
      <div class="box">
        <h4><span class="tag">Validity</span> When mean-field + linearization works</h4>
        <ul class="muted">
          <li>Mean-field (Weiss) neglects spatial fluctuations; best in high dimensions / large coordination number, and away from criticality.</li>
          <li>Linear response <span class="tag">M ∝ B</span> is valid when magnetization is small (high T, small fields), i.e. expansion of Brillouin/Langevin function to first order.</li>
          <li>We assume homogeneous sublattices (no spatial dependence), so no PDEs (no ∇, Laplacian) appear; the “operator” here is a finite-dimensional linear map.</li>
        </ul>
      </div>

      <h3>0.4 Common models/approximations in this topic (and why)</h3>
      <ul>
        <li><strong>Molecular field approximation:</strong> replace neighbor spin operators by their thermal averages, converting many-body interactions into self-consistent fields.</li>
        <li><strong>Small-order-parameter expansion:</strong> near a second-order transition, keep only linear terms in M; mathematically this identifies the critical point as a loss of invertibility.</li>
        <li><strong>Two-sublattice reduction:</strong> captures AFM order with the minimal degrees of freedom (2 variables instead of a full lattice field).</li>
      </ul>

      <h3>0.5 Mini intuition examples (minimal algebra)</h3>
      <ul>
        <li><strong>Pure ferromagnet (one sublattice):</strong> B_eff = B_a + λ M leads to χ = C/(T − T_C). The transition is where feedback overcomes thermal disorder.</li>
        <li><strong>AFM with two sublattices:</strong> feedback can be stabilizing for uniform magnetization but destabilizing for staggered magnetization, creating T_N.</li>
        <li><strong>Competing couplings:</strong> an “intra-sublattice” term (ε) and “inter-sublattice” term (μ) can either reinforce or oppose AFM order depending on signs.</li>
      </ul>

      <h3>0.6 What to watch for (pitfalls)</h3>
      <ul class="muted">
        <li><strong>Sign conventions:</strong> whether μ, ε are positive or negative depends on how the molecular field is written. Here the effective field subtracts μM_other and εM_self.</li>
        <li><strong>Which susceptibility defines θ:</strong> θ comes from the <em>uniform</em> susceptibility in the paramagnetic phase, not directly from the staggered order parameter.</li>
        <li><strong>Critical condition:</strong> T_N is found by a <em>determinant = 0</em> condition (nontrivial solution at B_a = 0), not by setting M_A = M_B by hand.</li>
      </ul>
    </article>

    <article id="part0b">
      <h2>PART 0B — Industry & Applied Physics Perspective</h2>

      <h3>Why engineers care</h3>
      <ul>
        <li><strong>Magnetic materials selection:</strong> T_N sets the temperature limit where AFM order (and related anisotropies) persists—critical for reliability in devices exposed to heat.</li>
        <li><strong>Spintronics & memory:</strong> AFMs are used for exchange bias and as pinning layers; T_N affects stability, coercivity, and drift in magnetic stacks.</li>
        <li><strong>Power electronics & sensing:</strong> AFM/paramagnetic transitions can change permeability and noise, affecting inductors, transformers, and magnetic sensors.</li>
      </ul>

      <h3>Concrete application areas (at least 3)</h3>
      <div class="grid2">
        <div class="box">
          <h4><span class="tag">Application</span> Exchange bias in MRAM / read heads</h4>
          <div class="muted">
            AFM layers (e.g., Mn-based alloys) pin a ferromagnet. T_N (and the associated blocking temperature) influences temperature drift and lifetime.
          </div>
        </div>
        <div class="box">
          <h4><span class="tag">Application</span> Thermal management + derating</h4>
          <div class="muted">
            In harsh environments (automotive, industrial drives), designers derate magnetic performance above certain T. A mean-field T_N gives first-pass limits.
          </div>
        </div>
        <div class="box">
          <h4><span class="tag">Application</span> Metrology & materials QA</h4>
          <div class="muted">
            Extracting θ and T_N from susceptibility measurements helps validate composition, microstructure, and batch consistency in manufacturing.
          </div>
        </div>
        <div class="box">
          <h4><span class="tag">Application</span> Magnetic refrigeration & caloric effects</h4>
          <div class="muted">
            Magnetic transitions influence entropy changes. Even when the exact critical behavior is non-mean-field, mean-field gives useful scaling intuition.
          </div>
        </div>
      </div>

      <h3>Typical measurement/validation methods</h3>
      <ul class="muted">
        <li><strong>Magnetometry (VSM/SQUID):</strong> measure M(B,T), extract χ(T) and identify Curie–Weiss linear region in 1/χ vs T.</li>
        <li><strong>Neutron diffraction / resonant X-ray:</strong> direct observation of AFM Bragg peaks (gold standard for AFM order).</li>
        <li><strong>Transport proxies:</strong> resistivity/anisotropic magnetoresistance can show anomalies near T_N in some materials.</li>
      </ul>

      <h3>Design trade-offs and constraints (real materials)</h3>
      <ul class="muted">
        <li><strong>Non-idealities:</strong> finite grain size, strain, defects, and interfaces shift effective couplings (μ, ε) and broaden transitions.</li>
        <li><strong>Model adaptation:</strong> real stacks often require interface-specific coupling, anisotropy fields, and temperature-dependent parameters.</li>
        <li><strong>Cost vs performance:</strong> high T_N materials may require rare elements or complex processing; engineering chooses “good enough” stability margins.</li>
      </ul>

      <details>
        <summary>From lab to product: how the ideal model is adapted</summary>
        <div class="muted" style="margin-top:8px;">
          In product design, μ and ε are not taken as universal constants: they are fitted to measured χ(T) and sometimes made temperature-dependent.
          Interfaces can be modeled by adding extra sublattices (multilayer mean-field) or effective coupling terms.
          The mean-field result is often used as a fast screening tool before more detailed micromagnetic or ab-initio-informed modeling.
        </div>
      </details>
    </article>

    <article id="part1">
      <h2>PART 1 — Problem Analysis (no solving yet)</h2>

      <h3>1.1 Restate the problem</h3>
      <p class="muted">
        We are given a two-sublattice model of an antiferromagnet in which each sublattice experiences an effective field
        consisting of an applied field B<sub>a</sub> minus molecular-field terms proportional to the magnetizations on both sublattices:
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="givenEq">Copy equations</button>
        <pre id="givenEq">B_A = B_a − μ M_B − ε M_A
B_B = B_a − μ M_A − ε M_B</pre>
      </div>

      <p class="muted">
        The task is to <strong>show</strong> that the ratio between the Curie–Weiss temperature θ (from the paramagnetic susceptibility)
        and the Néel temperature T<sub>N</sub> is:
      </p>

      <div class="eq final">
        <button class="copyBtn" data-copy="targetEq">Copy target</button>
        <pre id="targetEq">θ / T_N = (μ + ε) / (μ − ε)</pre>
      </div>

      <h3>1.2 Given quantities, unknowns, what must be proved</h3>
      <div class="grid2">
        <div class="box">
          <h4><span class="tag">Given</span></h4>
          <ul class="muted">
            <li>Effective-field relations for B_A, B_B in terms of B_a, M_A, M_B.</li>
            <li>A two-sublattice antiferromagnetic context (so A and B are equivalent in magnitude).</li>
          </ul>
        </div>
        <div class="box">
          <h4><span class="tag">Prove</span></h4>
          <ul class="muted">
            <li>Compute θ from the <em>uniform</em> susceptibility χ(T) in the paramagnetic phase.</li>
            <li>Compute T_N from the instability condition for AFM (staggered) ordering at B_a = 0.</li>
            <li>Show their ratio equals (μ+ε)/(μ−ε).</li>
          </ul>
        </div>
      </div>

      <h3>1.3 Relevant principles (and why they apply)</h3>
      <ul class="muted">
        <li><strong>Curie law / linear response:</strong> for small effective fields, each sublattice magnetization is proportional to its effective field:
          M = (C/T) B_eff (first-order expansion of Brillouin/Langevin function).
        </li>
        <li><strong>Mean-field self-consistency:</strong> B_eff depends on M, producing algebraic self-consistency equations.</li>
        <li><strong>Critical point as loss of invertibility:</strong> at the transition, nontrivial magnetization exists even at B_a = 0, so the homogeneous linear system must have determinant zero.</li>
      </ul>

      <h3>1.4 Assumptions (explicit)</h3>
      <div class="box">
        <h4><span class="tag">Assumptions</span></h4>
        <ul class="muted">
          <li>Homogeneous sublattices: M_A and M_B are spatially uniform (no ∇ terms; no boundary/initial conditions needed).</li>
          <li>Paramagnetic/near-critical regime: magnetizations are small enough to linearize response.</li>
          <li>Same Curie constant per sublattice (symmetry): C_1 is identical for A and B.</li>
          <li>We treat μ and ε as temperature-independent phenomenological couplings in the narrow range of interest.</li>
        </ul>
      </div>

      <h3>1.5 Possible approaches (compare)</h3>
      <ul class="muted">
        <li><strong>Approach A (matrix method):</strong> write linear equations as a 2×2 system and use determinant/eigenmodes. <span class="ok">Best</span> for clarity and mathematical rigor.</li>
        <li><strong>Approach B (uniform/staggered variables):</strong> change variables to M = M_A+M_B and L = M_A−M_B to decouple modes. <span class="ok">Very intuitive</span>.</li>
        <li><strong>Approach C (Landau expansion):</strong> build a quadratic free energy in M_A, M_B and find when stiffness vanishes. <span class="warn">More abstract</span> but connects to phase transitions.</li>
      </ul>

      <p class="muted"><strong>Choice:</strong> We’ll use the <strong>matrix + mode</strong> viewpoint (Approach A) and briefly connect to Approach B for insight.</p>
    </article>

    <article id="part2">
      <h2>PART 2 — Strategy & Tips (roadmap only)</h2>

      <ol class="muted">
        <li><strong>Define the linear response law</strong> for each sublattice: M_A = (C_1/T) B_A and M_B = (C_1/T) B_B.</li>
        <li><strong>Insert the given effective fields</strong> to get two coupled linear equations in M_A, M_B and B_a.</li>
        <li><strong>Compute the uniform susceptibility</strong> (M_A = M_B by symmetry in the paramagnetic phase under uniform B_a). Extract θ from χ = C/(T+θ).</li>
        <li><strong>Find the Néel temperature</strong> by setting B_a = 0 and requiring a nontrivial solution for (M_A, M_B); impose det = 0.</li>
        <li><strong>Identify the AFM mode</strong> (M_A = −M_B) and get T_N.</li>
        <li><strong>Take the ratio θ/T_N</strong> and simplify to obtain (μ+ε)/(μ−ε).</li>
        <li><strong>Sanity checks:</strong> dimensions; limiting cases ε→0, μ→ε; physical interpretation.</li>
      </ol>

      <div class="callouts">
        <div class="box">
          <h4><span class="tag">Common mistakes</span></h4>
          <ul class="muted">
            <li>Mixing up θ (from uniform χ) with T_N (from staggered instability).</li>
            <li>Forgetting that the critical condition is det = 0 at B_a = 0.</li>
            <li>Dropping the factor-of-2 bookkeeping between per-sublattice Curie constant C_1 and total C.</li>
            <li>Sign confusion: always track the minus signs in B_A, B_B carefully.</li>
          </ul>
        </div>
        <div class="box">
          <h4><span class="tag">Dimensional check</span></h4>
          <div class="muted">
            From M = (C_1/T) B, we get [C_1] = [M·T]/[B]. Then θ and T_N come out as C_1×(coupling), so both have units of temperature (K).
            Their ratio is dimensionless, as required.
          </div>
        </div>
      </div>
    </article>

    <article id="part3">
      <h2>PART 3 — Full Solution (Detailed + Teaching)</h2>

      <h3>3.1 Qualitative expectation before calculating</h3>
      <p class="muted">
        In an AFM, the system prefers opposite magnetizations on the two sublattices. That preference comes from the inter-sublattice coupling (here governed by μ).
        A self-coupling term ε changes how strongly each sublattice “feeds back” on itself. We expect:
      </p>
      <ul class="muted">
        <li>Uniform response (M_A = M_B) should involve the sum (μ+ε) because both couplings act similarly when both sublattices move together.</li>
        <li>Staggered response (M_A = −M_B) should involve the difference (μ−ε) because the inter-sublattice term flips sign when M_B = −M_A.</li>
      </ul>
      <p class="muted">So a ratio (μ+ε)/(μ−ε) is already plausible—now we prove it cleanly.</p>

      <div class="hr"></div>

      <h3>3.2 Mathematical model (variables, domain, operator form)</h3>
      <p class="muted">
        This is a <strong>finite-dimensional</strong> (no spatial dependence) mean-field model.
        Unknowns are the scalars (or vector components along the applied field direction) M_A, M_B.
        The “operator” is a 2×2 linear map acting on the vector M = (M_A, M_B)<sup>T</sup>.
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="linresp">Copy linear response</button>
        <pre id="linresp">Linear response (paramagnetic / near T_N):
M_A = (C1/T) B_A
M_B = (C1/T) B_B</pre>
      </div>

      <p class="muted">
        Here C1 is the Curie constant per sublattice. This follows from expanding the Brillouin/Langevin function:
        M ≈ (const/T)·B_eff to first order, justified by small M (high T / weak field).
      </p>

      <div class="hr"></div>

      <h3>3.3 Insert the effective fields and obtain coupled linear equations</h3>
      <p class="muted">Substitute the given effective fields:</p>

      <div class="eq">
        <button class="copyBtn" data-copy="subbed">Copy substituted system</button>
        <pre id="subbed">Given:
B_A = B_a − μ M_B − ε M_A
B_B = B_a − μ M_A − ε M_B

Therefore:
M_A = (C1/T) (B_a − μ M_B − ε M_A)
M_B = (C1/T) (B_a − μ M_A − ε M_B)</pre>
      </div>

      <p class="muted">
        Bring terms involving M_A, M_B to the left. Define α := C1/T (so α has units 1/(coupling) and scales like 1/T):
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="matrixForm">Copy matrix form</button>
        <pre id="matrixForm">Let α = C1/T.

(1 + α ε) M_A + (α μ) M_B = α B_a
(α μ) M_A + (1 + α ε) M_B = α B_a</pre>
      </div>

      <p class="muted">
        This is a linear system of the form <span class="tag">A(α) · M = α B_a (1,1)<sup>T</sup></span>, where
        A(α) is symmetric. Symmetry reflects the interchangeability of sublattices A and B.
      </p>

      <div class="hr"></div>

      <h3>3.4 Extract θ from the uniform susceptibility χ(T)</h3>
      <p class="muted">
        In the paramagnetic phase under a <em>uniform</em> applied field B_a, symmetry implies the uniform solution
        <span class="tag">M_A = M_B = m</span>. Then both equations become identical:
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="uniformSolve">Copy uniform solve</button>
        <pre id="uniformSolve">Set M_A = M_B = m:

From (1 + α ε) m + (α μ) m = α B_a
⇒ [1 + α(ε + μ)] m = α B_a
⇒ m = α B_a / [1 + α(ε + μ)]</pre>
      </div>

      <p class="muted">
        The total magnetization is <span class="tag">M_tot = M_A + M_B = 2m</span>.
        Therefore the (uniform) susceptibility χ is:
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="chiDerive">Copy susceptibility derivation</button>
        <pre id="chiDerive">χ := M_tot / B_a = 2m / B_a
= 2α / [1 + α(ε + μ)]
= 2(C1/T) / [1 + (C1/T)(ε + μ)]
= 2C1 / [T + C1(ε + μ)]</pre>
      </div>

      <p class="muted">
        Identify the Curie–Weiss form <span class="tag">χ = C/(T + θ)</span> with total Curie constant <span class="tag">C = 2C1</span>.
        Hence:
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="thetaExpr">Copy θ expression</button>
        <pre id="thetaExpr">θ = C1(μ + ε)</pre>
      </div>

      <div class="box">
        <h4><span class="tag">Why this step is valid</span></h4>
        <div class="muted">
          The uniform mode is the eigenvector (1,1). In that subspace, the coupled system collapses to a single scalar equation.
          Since the model is linear in M in this regime, superposition and symmetry arguments justify taking M_A = M_B.
        </div>
      </div>

      <div class="hr"></div>

      <h3>3.5 Find T<sub>N</sub> from the AFM (staggered) instability at B<sub>a</sub> = 0</h3>
      <p class="muted">
        The Néel temperature is where the paramagnetic solution becomes unstable to a <em>staggered</em> magnetization even with no applied field.
        Mathematically: set B_a = 0 and ask when the homogeneous linear system has a nontrivial solution.
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="homog">Copy homogeneous system</button>
        <pre id="homog">Set B_a = 0:

(1 + α ε) M_A + (α μ) M_B = 0
(α μ) M_A + (1 + α ε) M_B = 0</pre>
      </div>

      <p class="muted">
        A nonzero solution exists iff the determinant of the coefficient matrix vanishes:
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="detStep">Copy determinant step</button>
        <pre id="detStep">Determinant condition:

|(1 + α ε)    (α μ) |
|(α μ)        (1 + α ε)|  = 0

⇒ (1 + α ε)^2 − (α μ)^2 = 0</pre>
      </div>

      <p class="muted">
        Factor the difference of squares:
      </p>

      <div class="eq">
        <button class="copyBtn" data-copy="factor">Copy factorization</button>
        <pre id="factor">(1 + α ε − α μ)(1 + α ε + α μ) = 0</pre>
      </div>

      <p class="muted">
        The two factors correspond to the two eigenmodes:
      </p>
      <ul class="muted">
        <li><strong>Staggered (AFM) mode</strong> M_A = −M_B corresponds to eigenvector (1, −1). Plugging M_B = −M_A into the first homogeneous equation gives:
          <span class="tag">1 + α(ε − μ) = 0</span>.
        </li>
        <li><strong>Uniform mode</strong> M_A = +M_B corresponds to eigenvector (1, +1) and the other factor.</li>
      </ul>

      <p class="muted">For the AFM transition, use the staggered factor:</p>

      <div class="eq">
        <button class="copyBtn" data-copy="TNderive">Copy T_N derivation</button>
        <pre id="TNderive">AFM (M_A = −M_B):
1 + α(ε − μ) = 0
⇒ 1 = α(μ − ε)
⇒ 1 = (C1/T_N)(μ − ε)
⇒ T_N = C1(μ − ε)</pre>
      </div>

      <div class="box">
        <h4><span class="tag">Why “det = 0” is the critical condition</span></h4>
        <div class="muted">
          At B_a = 0, the paramagnetic state is M_A = M_B = 0. A second-order transition occurs when an infinitesimal order parameter can appear without forcing.
          That happens precisely when the linear operator (the coefficient matrix) is no longer invertible—i.e., its determinant is zero.
        </div>
      </div>

      <div class="hr"></div>

      <h3>3.6 Take the ratio θ/T<sub>N</sub></h3>
      <p class="muted">
        We found:
        <span class="tag">θ = C1(μ + ε)</span> and <span class="tag">T_N = C1(μ − ε)</span>.
        Divide:
      </p>

      <div class="eq final">
        <button class="copyBtn" data-copy="finalRatio">Copy final result</button>
        <pre id="finalRatio">θ / T_N = [C1(μ + ε)] / [C1(μ − ε)] = (μ + ε) / (μ − ε)</pre>
      </div>

      <h3>3.7 Sanity checks</h3>
      <div class="callouts">
        <div class="box">
          <h4><span class="tag">Units</span></h4>
          <div class="muted">
            θ and T_N are temperatures. Since both equal C1×(coupling), they have units K. Their ratio is dimensionless.
          </div>
        </div>
        <div class="box">
          <h4><span class="tag">Limiting cases</span></h4>
          <ul class="muted">
            <li><strong>ε → 0:</strong> θ/T_N → (μ)/(μ) = 1 ⇒ θ = T_N (simple symmetric coupling).</li>
            <li><strong>ε → μ:</strong> T_N → 0 ⇒ ratio diverges: AFM ordering is suppressed (staggered feedback cancels).</li>
            <li><strong>ε ≪ μ:</strong> θ/T_N ≈ (μ(1+ε/μ))/(μ(1−ε/μ)) ≈ 1 + 2ε/μ (small-parameter expansion).</li>
          </ul>
        </div>
      </div>

      <details>
        <summary>Optional deeper note: nondimensionalization (scaling view)</summary>
        <div class="muted" style="margin-top:8px;">
          Define dimensionless temperature t := T/(C1 μ) and coupling ratio r := ε/μ.
          Then θ/(C1 μ) = (1+r) and T_N/(C1 μ) = (1−r), so θ/T_N = (1+r)/(1−r).
          This makes the structure “sum vs difference of couplings” mathematically transparent.
        </div>
      </details>
    </article>

    <article id="part4">
      <h2>PART 4 — Deeper Understanding (Theory Around the Result)</h2>

      <h3>4.1 Re-interpret the final formula</h3>
      <p class="muted">
        The ratio
        <span class="tag">θ / T_N = (μ + ε)/(μ − ε)</span>
        compares how strongly the system responds in the <strong>uniform mode</strong> (θ depends on μ+ε)
        versus how strongly it becomes unstable in the <strong>staggered mode</strong> (T_N depends on μ−ε).
      </p>

      <h3>4.2 Parameter dependence (qualitative)</h3>
      <ul class="muted">
        <li><strong>Increasing μ</strong> (stronger inter-sublattice coupling) increases both θ and T_N, but tends to keep their ratio closer to 1 if ε is fixed.</li>
        <li><strong>Increasing ε</strong> increases θ but <em>decreases</em> T_N (since μ−ε shrinks), thus increasing θ/T_N sharply as ε approaches μ.</li>
        <li><strong>Near ε ≈ μ</strong> the model predicts T_N → 0: the staggered ordering channel is nearly cancelled.</li>
      </ul>

      <h3>4.3 Alternative derivation idea (brief but meaningful)</h3>
      <p class="muted">
        Use uniform and staggered variables:
        <span class="tag">M = M_A + M_B</span>, <span class="tag">L = M_A − M_B</span>.
        In linear response, the model decouples into two independent scalar equations—one for M and one for L.
        The uniform equation yields χ = C/(T+θ) with θ ∝ (μ+ε), while the staggered equation yields the AFM critical point T_N ∝ (μ−ε).
        This is the same eigenmode decomposition, just written in physically transparent coordinates.
      </p>

      <h3>4.4 Concept check (self-test with answers)</h3>
      <ul class="muted">
        <li><strong>Q:</strong> Why does θ involve (μ+ε) rather than (μ−ε)? <strong>A:</strong> θ is extracted from the uniform susceptibility where M_A = M_B, so both coupling terms add in the effective field feedback.</li>
        <li><strong>Q:</strong> Why is T_N tied to a determinant condition? <strong>A:</strong> At B_a = 0, a nonzero solution requires the homogeneous linear system to have nontrivial solutions, which occurs when det = 0.</li>
        <li><strong>Q:</strong> What mode corresponds to AFM order? <strong>A:</strong> The staggered eigenvector (1, −1): M_A = −M_B.</li>
        <li><strong>Q:</strong> What happens as ε → μ? <strong>A:</strong> T_N → 0: the model predicts AFM order is suppressed because the staggered feedback cancels.</li>
        <li><strong>Q:</strong> Is this exact for real materials? <strong>A:</strong> It’s a mean-field prediction; fluctuations and anisotropies can shift and reshape the transition, but the “sum vs difference” structure is a robust organizing principle.</li>
      </ul>

      <figure aria-label="Example plot of inverse susceptibility">
        <canvas id="plot" width="900" height="520"></canvas>
        <figcaption>
          <strong>Optional static plot (example values):</strong> 1/χ vs T is linear in the Curie–Weiss regime:
          <span class="tag">1/χ = (T + θ)/C</span>. We mark example θ and T<sub>N</sub> to visualize the relation derived.
          (Example only: C1=1, μ=2, ε=0.5 ⇒ θ=2.5, T<sub>N</sub>=1.5, C=2.)
        </figcaption>
      </figure>
    </article>

    <article id="part5">
      <h2>PART 5 — Optional Plot Guide</h2>

      <p class="muted">
        The plot shows a standard experimental diagnostic: if you measure χ(T) above the ordering temperature and plot 1/χ vs T,
        the two-sublattice mean-field model predicts a straight line in the Curie–Weiss region:
        <span class="tag">1/χ = (T + θ)/C</span>.
      </p>

      <ul class="muted">
        <li><strong>x-axis:</strong> Temperature T (K, arbitrary scale for example values).</li>
        <li><strong>y-axis:</strong> Inverse susceptibility 1/χ (arbitrary units).</li>
        <li><strong>Example values (clearly not part of the symbolic solution):</strong> C1=1, μ=2, ε=0.5 ⇒ C=2, θ=2.5, T_N=1.5.</li>
        <li><strong>What to notice:</strong> θ shifts the line horizontally (intercept at T = −θ), while T_N is a positive marker where AFM order would set in.
          The derived ratio relates how far θ sits from zero compared to T_N in terms of couplings.
        </li>
      </ul>

      <div class="box">
        <h4><span class="tag">Reminder</span> Symbolic result remains general</h4>
        <div class="muted">
          The plot is only to build intuition. The proven relationship is symbolic:
          <span class="tag">θ/T_N = (μ+ε)/(μ−ε)</span>, independent of chosen numerical examples.
        </div>
      </div>
    </article>

  </main>
</div>

<footer>
  <div class="hr"></div>
  <div>
    <strong>One-line takeaway:</strong> In a two-sublattice mean-field AFM, the uniform (Curie–Weiss) scale uses the <em>sum</em> of couplings (μ+ε),
    while the Néel instability uses the <em>difference</em> (μ−ε), giving <span class="tag">θ/T_N = (μ+ε)/(μ−ε)</span>.
  </div>
</footer>

<script>
  // Copy buttons for equations/final answer
  (function(){
    function copyTextFromId(id){
      const el = document.getElementById(id);
      if(!el) return;
      const text = el.textContent;
      navigator.clipboard.writeText(text).then(()=>{
        // tiny UX feedback
        const btn = document.querySelector('.copyBtn[data-copy="'+id+'"]');
        if(btn){
          const old = btn.textContent;
          btn.textContent = "Copied!";
          setTimeout(()=>btn.textContent = old, 900);
        }
      }).catch(()=>{ /* silently ignore */ });
    }
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('.copyBtn');
      if(!btn) return;
      const id = btn.getAttribute('data-copy');
      copyTextFromId(id);
    });
  })();

  // Single static canvas plot (high-DPI crisp, responsive)
  (function(){
    const canvas = document.getElementById('plot');
    if(!canvas) return;

    function draw(){
      const parent = canvas.parentElement;
      const cssW = parent.clientWidth - 2; // small padding
      const cssH = Math.max(320, Math.round(cssW * 0.55));
      const dpr = Math.max(1, window.devicePixelRatio || 1);

      canvas.style.width = cssW + "px";
      canvas.style.height = cssH + "px";
      canvas.width = Math.round(cssW * dpr);
      canvas.height = Math.round(cssH * dpr);

      const ctx = canvas.getContext('2d');
      ctx.setTransform(dpr,0,0,dpr,0,0);

      // Example values (clearly labeled in caption): C1=1, μ=2, ε=0.5 => C=2, θ=2.5, TN=1.5
      const C1 = 1.0, mu = 2.0, eps = 0.5;
      const C = 2*C1;
      const theta = C1*(mu+eps);
      const TN = C1*(mu-eps);

      // Plot settings
      const pad = {l:58, r:18, t:38, b:48};
      const W = cssW, H = cssH;
      const plotW = W - pad.l - pad.r;
      const plotH = H - pad.t - pad.b;

      // Domain
      const Tmin = 0.0, Tmax = 8.0;
      // y = 1/chi = (T + theta)/C
      const yMin = 0.0;
      const yMax = (Tmax + theta)/C * 1.05;

      function xPix(T){ return pad.l + (T - Tmin) / (Tmax - Tmin) * plotW; }
      function yPix(y){ return pad.t + (yMax - y) / (yMax - yMin) * plotH; }

      // Background
      ctx.clearRect(0,0,W,H);

      // Title
      ctx.fillStyle = "rgba(232,238,246,0.95)";
      ctx.font = "600 15px " + getComputedStyle(document.body).fontFamily;
      ctx.fillText("Example: Curie–Weiss line in inverse susceptibility", pad.l, 22);

      // Axes + grid
      ctx.strokeStyle = "rgba(255,255,255,0.12)";
      ctx.lineWidth = 1;

      const xTicks = 8;
      const yTicks = 6;

      // Gridlines
      for(let i=0;i<=xTicks;i++){
        const T = Tmin + i*(Tmax-Tmin)/xTicks;
        const x = xPix(T);
        ctx.beginPath();
        ctx.moveTo(x, pad.t);
        ctx.lineTo(x, pad.t + plotH);
        ctx.stroke();
      }
      for(let j=0;j<=yTicks;j++){
        const y = yMin + j*(yMax-yMin)/yTicks;
        const yy = yPix(y);
        ctx.beginPath();
        ctx.moveTo(pad.l, yy);
        ctx.lineTo(pad.l + plotW, yy);
        ctx.stroke();
      }

      // Axes
      ctx.strokeStyle = "rgba(255,255,255,0.28)";
      ctx.lineWidth = 1.2;
      ctx.beginPath();
      ctx.moveTo(pad.l, pad.t);
      ctx.lineTo(pad.l, pad.t + plotH);
      ctx.lineTo(pad.l + plotW, pad.t + plotH);
      ctx.stroke();

      // Tick labels
      ctx.fillStyle = "rgba(181,195,215,0.92)";
      ctx.font = "12px " + getComputedStyle(document.body).fontFamily;

      for(let i=0;i<=xTicks;i++){
        const T = Tmin + i*(Tmax-Tmin)/xTicks;
        const x = xPix(T);
        ctx.fillText(T.toFixed(0), x-4, pad.t + plotH + 18);
      }
      for(let j=0;j<=yTicks;j++){
        const y = yMin + j*(yMax-yMin)/yTicks;
        const yy = yPix(y);
        ctx.fillText(y.toFixed(2), 10, yy+4);
      }

      // Axis labels
      ctx.fillStyle = "rgba(232,238,246,0.92)";
      ctx.font = "600 12.5px " + getComputedStyle(document.body).fontFamily;
      ctx.fillText("T (K, example scale)", pad.l + plotW*0.35, H - 14);
      ctx.save();
      ctx.translate(16, pad.t + plotH*0.55);
      ctx.rotate(-Math.PI/2);
      ctx.fillText("1/χ (arb. units)", 0, 0);
      ctx.restore();

      // Curie–Weiss line
      ctx.strokeStyle = "rgba(125,211,252,0.95)";
      ctx.lineWidth = 2.2;
      ctx.beginPath();
      for(let k=0;k<=160;k++){
        const T = Tmin + k*(Tmax-Tmin)/160;
        const y = (T + theta)/C;
        const x = xPix(T);
        const yy = yPix(y);
        if(k===0) ctx.moveTo(x,yy); else ctx.lineTo(x,yy);
      }
      ctx.stroke();

      // Mark TN and theta
      function vLine(T, color, label){
        const x = xPix(T);
        ctx.strokeStyle = color;
        ctx.lineWidth = 1.8;
        ctx.beginPath();
        ctx.moveTo(x, pad.t);
        ctx.lineTo(x, pad.t + plotH);
        ctx.stroke();

        ctx.fillStyle = color;
        ctx.font = "600 12px " + getComputedStyle(document.body).fontFamily;
        ctx.fillText(label, Math.min(x+6, pad.l + plotW - 70), pad.t + 14);
      }

      vLine(TN, "rgba(167,243,208,0.95)", "T_N (example)");
      // Mark -theta (intercept) if within range; here it's negative, so draw label only
      ctx.fillStyle = "rgba(255,255,255,0.55)";
      ctx.font = "12px " + getComputedStyle(document.body).fontFamily;
      ctx.fillText("Line would intercept T-axis at T = −θ (outside range)", pad.l, pad.t + plotH + 36);

      // Legend
      const lx = pad.l + plotW - 220, ly = pad.t + 10;
      ctx.fillStyle = "rgba(15,22,32,0.75)";
      ctx.strokeStyle = "rgba(255,255,255,0.10)";
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.roundRect(lx, ly, 210, 64, 12);
      ctx.fill();
      ctx.stroke();

      ctx.fillStyle = "rgba(232,238,246,0.92)";
      ctx.font = "12px " + getComputedStyle(document.body).fontFamily;
      ctx.fillText("Example line: 1/χ = (T + θ)/C", lx+12, ly+22);
      ctx.fillText("θ = 2.5,  T_N = 1.5,  C = 2", lx+12, ly+42);

      // Add rounded rect support (older browsers)
      // no-op because we called roundRect; provide fallback if missing
    }

    // Fallback: add roundRect if needed
    CanvasRenderingContext2D.prototype.roundRect = CanvasRenderingContext2D.prototype.roundRect || function(x,y,w,h,r){
      const rr = Math.min(r, w/2, h/2);
      this.beginPath();
      this.moveTo(x+rr,y);
      this.arcTo(x+w,y,x+w,y+h,rr);
      this.arcTo(x+w,y+h,x,y+h,rr);
      this.arcTo(x,y+h,x,y,rr);
      this.arcTo(x,y,x+w,y,rr);
      this.closePath();
      return this;
    };

    window.addEventListener('resize', ()=>{ draw(); });
    draw();
  })();
</script>
</body>
</html>
