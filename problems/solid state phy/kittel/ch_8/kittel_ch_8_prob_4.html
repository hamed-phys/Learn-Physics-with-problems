<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Cyclotron Resonance for a Spheroidal (Ellipsoidal) Energy Surface</title>
  <style>
    :root{
      --bg: #0b0f17;
      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.085);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.70);
      --faint: rgba(255,255,255,0.55);
      --line: rgba(255,255,255,0.12);
      --accent: #7dd3fc;
      --accent2:#a78bfa;
      --ok:#86efac;
      --warn:#fbbf24;
      --bad:#fb7185;
      --shadow: 0 14px 40px rgba(0,0,0,0.35);
      --radius: 18px;
      --radius2: 14px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: var(--sans);
      background: radial-gradient(1200px 700px at 20% 0%, rgba(125,211,252,0.14), transparent 55%),
                  radial-gradient(900px 600px at 90% 10%, rgba(167,139,250,0.12), transparent 50%),
                  radial-gradient(900px 700px at 50% 110%, rgba(134,239,172,0.08), transparent 60%),
                  var(--bg);
      color: var(--text);
      line-height:1.55;
    }

    header{
      padding: 28px 18px 10px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .hero{
      background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.03));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px 20px;
      overflow:hidden;
      position:relative;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(400px 220px at 20% 15%, rgba(125,211,252,0.18), transparent 60%),
                  radial-gradient(360px 220px at 80% 15%, rgba(167,139,250,0.14), transparent 60%);
      filter: blur(10px);
      opacity:0.9;
      pointer-events:none;
    }
    .hero > *{ position:relative; }

    h1{
      margin:0 0 8px;
      font-size: clamp(1.35rem, 2.2vw, 2.05rem);
      letter-spacing: 0.2px;
    }
    .subtitle{
      margin:0;
      color: var(--muted);
      max-width: 80ch;
    }
    .meta{
      margin-top: 14px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      color: var(--faint);
      font-size: 0.95rem;
    }
    .pill{
      border:1px solid var(--line);
      background: rgba(255,255,255,0.04);
      padding: 6px 10px;
      border-radius: 999px;
    }

    main{
      max-width: 1200px;
      margin: 0 auto;
      padding: 14px 18px 80px;
      display:grid;
      grid-template-columns: 290px 1fr;
      gap: 18px;
      align-items:start;
    }

    nav.toc{
      position: sticky;
      top: 12px;
      align-self:start;
      border:1px solid var(--line);
      background: rgba(255,255,255,0.04);
      border-radius: var(--radius);
      padding: 14px 12px;
      box-shadow: 0 10px 28px rgba(0,0,0,0.22);
      max-height: calc(100vh - 20px);
      overflow:auto;
    }
    .toc h2{
      margin: 0 0 10px;
      font-size: 1.02rem;
      color: rgba(255,255,255,0.9);
      letter-spacing:0.2px;
    }
    .toc a{
      display:block;
      padding: 8px 10px;
      border-radius: 12px;
      text-decoration:none;
      color: var(--muted);
      border: 1px solid transparent;
      transition: transform 160ms ease, background 160ms ease, border-color 160ms ease;
      font-size: 0.98rem;
    }
    .toc a:hover{
      background: rgba(125,211,252,0.09);
      border-color: rgba(125,211,252,0.20);
      color: rgba(255,255,255,0.9);
      transform: translateX(2px);
    }
    .toc .small{
      font-size: 0.9rem;
      color: var(--faint);
      margin: 10px 6px 4px;
    }

    article{
      border:1px solid var(--line);
      background: rgba(255,255,255,0.04);
      border-radius: var(--radius);
      padding: 18px 18px 22px;
      box-shadow: 0 12px 34px rgba(0,0,0,0.22);
      overflow:hidden;
    }

    section{
      padding: 10px 0 2px;
      border-top: 1px solid rgba(255,255,255,0.07);
    }
    section:first-of-type{ border-top: none; padding-top: 0; }
    h2{
      margin: 12px 0 8px;
      font-size: clamp(1.1rem, 1.6vw, 1.45rem);
    }
    h3{
      margin: 12px 0 8px;
      font-size: 1.05rem;
      color: rgba(255,255,255,0.92);
    }
    p{ margin: 8px 0; color: rgba(255,255,255,0.88); }
    ul{ margin: 8px 0 8px 20px; color: rgba(255,255,255,0.88); }
    li{ margin: 6px 0; }
    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    .card{
      border:1px solid var(--line);
      background: rgba(255,255,255,0.035);
      border-radius: var(--radius2);
      padding: 12px 12px;
    }
    .callout{
      border: 1px solid var(--line);
      border-left: 4px solid var(--accent);
      background: rgba(125,211,252,0.07);
      border-radius: var(--radius2);
      padding: 12px 12px;
      margin: 10px 0;
    }
    .callout.warn{ border-left-color: var(--warn); background: rgba(251,191,36,0.08); }
    .callout.ok{ border-left-color: var(--ok); background: rgba(134,239,172,0.08); }
    .callout.bad{ border-left-color: var(--bad); background: rgba(251,113,133,0.08); }
    .callout h4{
      margin:0 0 6px;
      font-size: 0.98rem;
      letter-spacing:0.2px;
      color: rgba(255,255,255,0.92);
    }
    .equation{
      position:relative;
      border:1px dashed rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.18);
      border-radius: 14px;
      padding: 12px 12px 12px;
      margin: 10px 0;
      overflow:auto;
      font-family: var(--mono);
      font-size: 0.95rem;
      color: rgba(255,255,255,0.92);
    }
    .eqbar{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin-top: 6px;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.92);
      padding: 8px 10px;
      border-radius: 12px;
      cursor:pointer;
      font-size: 0.92rem;
      transition: transform 150ms ease, background 150ms ease, border-color 150ms ease;
      user-select:none;
    }
    .btn:hover{
      background: rgba(125,211,252,0.10);
      border-color: rgba(125,211,252,0.22);
      transform: translateY(-1px);
    }
    .btn:active{ transform: translateY(0px) scale(0.99); }
    .btn.small{ padding: 6px 8px; font-size: 0.88rem; }
    .muted{ color: var(--muted); }
    .faint{ color: var(--faint); }

    details{
      border:1px solid var(--line);
      background: rgba(255,255,255,0.03);
      border-radius: var(--radius2);
      padding: 10px 12px;
      margin: 10px 0;
    }
    summary{
      cursor:pointer;
      color: rgba(255,255,255,0.92);
      font-weight: 650;
    }
    summary::marker{ color: var(--accent); }

    .backtop{
      display:inline-block;
      margin-top: 16px;
      text-decoration:none;
      color: rgba(255,255,255,0.85);
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.05);
      padding: 8px 10px;
      border-radius: 999px;
      transition: background 160ms ease, transform 160ms ease, border-color 160ms ease;
    }
    .backtop:hover{
      background: rgba(167,139,250,0.10);
      border-color: rgba(167,139,250,0.22);
      transform: translateY(-1px);
    }

    footer{
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 18px 40px;
      color: var(--faint);
      font-size: 0.95rem;
    }

    /* Responsive */
    @media (max-width: 980px){
      main{ grid-template-columns: 1fr; }
      nav.toc{ position:relative; top:auto; }
    }
    @media (prefers-reduced-motion: reduce){
      *{ transition:none !important; scroll-behavior:auto !important; }
    }

    /* Print-friendly */
    @media print{
      body{ background:#fff; color:#000; }
      header, main, footer{ max-width: none; }
      nav.toc{ display:none; }
      article, .hero, .card, .callout, details, .equation{
        box-shadow:none !important;
        background:#fff !important;
        color:#000 !important;
        border-color:#bbb !important;
      }
      .btn, .backtop{ display:none !important; }
      section{ break-inside: avoid; }
      h2, h3{ page-break-after: avoid; }
      .equation{ font-family: "Courier New", monospace; }
    }
  </style>
</head>

<body>
  <header id="top">
    <div class="hero">
      <h1>Cyclotron Resonance for a Spheroidal (Ellipsoidal) Energy Surface</h1>
      <p class="subtitle">
        We derive the cyclotron frequency of an electron with an <em>anisotropic effective mass</em> (spheroidal constant-energy surface)
        using semiclassical equations of motion in a static magnetic field lying in the <code>xy</code>-plane.
      </p>
      <div class="meta">
        <span class="pill">Semiclassical transport</span>
        <span class="pill">Effective mass anisotropy</span>
        <span class="pill">Cyclotron resonance</span>
        <span class="pill">Industrial relevance: semiconductors & metrology</span>
      </div>
    </div>
  </header>

  <main>
    <nav class="toc" aria-label="Table of Contents">
      <h2>Contents</h2>
      <a href="#qs">Quick Summary</a>
      <div class="small">Theory & Context</div>
      <a href="#p0">PART 0 — Concept Primer</a>
      <a href="#p0b">PART 0B — Industry & Applied Physics Perspective</a>
      <div class="small">Solution Build</div>
      <a href="#p1">PART 1 — Problem Analysis</a>
      <a href="#p2">PART 2 — Strategy & Tips</a>
      <a href="#p3">PART 3 — Full Solution</a>
      <a href="#p4">PART 4 — Deeper Understanding</a>
      <a href="#p5">PART 5 — Optional Plot Guide</a>
      <div class="small">Utilities</div>
      <a href="#copy-final">Copy Final Answer</a>
    </nav>

    <article>
      <section id="qs">
        <h2>Quick Summary</h2>
        <ul>
          <li><strong>What:</strong> Cyclotron resonance for electrons whose dispersion is anisotropic:
            <span class="muted">a spheroidal/ellipsoidal constant-energy surface in <code>k</code>-space.</span></li>
          <li><strong>Key physics idea:</strong> In a magnetic field, the semiclassical wavevector <code>k(t)</code> rotates (precesses) on the constant-energy surface; the rotation rate sets the cyclotron frequency.</li>
          <li><strong>Governing equations:</strong> Semiclassical dynamics
            <span class="muted">v = (1/ħ)∇<sub>k</sub>ε</span> and <span class="muted">ħ k̇ = −(e/c)(v×B)</span> (CGS).</li>
          <li><strong>Dispersion:</strong> ε(k)=ħ²[(k<sub>x</sub>²+k<sub>y</sub>²)/(2m<sub>t</sub>) + k<sub>z</sub>²/(2m<sub>l</sub>)] where m<sub>t</sub>, m<sub>l</sub> are transverse/longitudinal mass parameters.</li>
          <li><strong>Result type:</strong> <strong>Symbolic</strong> cyclotron frequency.</li>
          <li><strong>Main result (B in xy-plane):</strong>
            <strong>ω<sub>c</sub> = (eB/c)/√(m<sub>t</sub>m<sub>l</sub>)</strong> (CGS), so in SI <strong>ω<sub>c</sub> = eB/√(m<sub>t</sub>m<sub>l</sub>)</strong>.</li>
          <li><strong>Physical meaning:</strong> When B ⟂ symmetry axis (z), the “cyclotron mass” is the geometric mean √(m<sub>t</sub>m<sub>l</sub>) because motion couples the transverse and longitudinal inertias.</li>
          <li><strong>Sanity check:</strong> If m<sub>t</sub>=m<sub>l</sub>=m (isotropic), ω<sub>c</sub>→eB/(mc) (CGS) as expected.</li>
        </ul>
      </section>

      <section id="p0">
        <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

        <div class="grid2">
          <div class="card">
            <h3>Core definitions (symbols & SI units)</h3>
            <ul>
              <li><strong>k</strong> = (k<sub>x</sub>,k<sub>y</sub>,k<sub>z</sub>): crystal wavevector (1/m).</li>
              <li><strong>ε(k)</strong>: band energy (J).</li>
              <li><strong>ħ</strong>: reduced Planck constant (J·s).</li>
              <li><strong>v</strong>: group velocity (m/s), <strong>v = (1/ħ)∇<sub>k</sub>ε</strong>.</li>
              <li><strong>B</strong>: magnetic flux density (tesla, T).</li>
              <li><strong>e</strong>: positive elementary charge (C). Electron charge is −e.</li>
              <li><strong>m<sub>t</sub>, m<sub>l</sub></strong>: effective mass parameters (kg).</li>
              <li><strong>ω<sub>c</sub></strong>: cyclotron angular frequency (rad/s).</li>
            </ul>
          </div>

          <div class="card">
            <h3>Physical meaning & intuition</h3>
            <ul>
              <li>The dispersion ε(k) defines how “costly” it is (in energy) to have momentum components along x,y,z.</li>
              <li>Different curvature along axes ⇒ different effective inertias:
                transverse plane (x,y) uses m<sub>t</sub>, longitudinal (z) uses m<sub>l</sub>.</li>
              <li>A static B field bends trajectories via the Lorentz force, causing periodic motion in the plane ⟂ B.</li>
              <li><strong>Cyclotron resonance</strong> occurs when an applied AC field matches ω<sub>c</sub>, enabling strong absorption.</li>
            </ul>
          </div>
        </div>

        <div class="callout ok">
          <h4>Key laws/principles (semiclassical regime)</h4>
          <ul>
            <li><strong>Group velocity:</strong> v(k) = (1/ħ)∇<sub>k</sub>ε(k).</li>
            <li><strong>Equation of motion in B (no E):</strong> ħ k̇ = −(e/c)(v×B) in CGS (Gaussian units).</li>
            <li><strong>Energy conservation:</strong> dε/dt = (∇<sub>k</sub>ε)·k̇ = ħ v·k̇ = 0 because v·(v×B)=0.
              ⇒ motion stays on the constant-energy surface ε(k)=const.</li>
          </ul>
          <p class="muted"><strong>Validity conditions:</strong> Weak fields relative to band gaps (single-band), well-defined wavepackets, and scattering time long enough to define cyclotron motion (ω<sub>c</sub>τ ≳ 1 for sharp resonance).</p>
        </div>

        <h3>Common models/approximations and why</h3>
        <ul>
          <li><strong>Effective mass approximation:</strong> Expand band near an extremum; ε(k) becomes quadratic. This turns complex bandstructure into a tractable anisotropic paraboloid.</li>
          <li><strong>Neglect electric field:</strong> Isolates pure cyclotron motion; resonance frequency depends only on B and band curvature (masses).</li>
          <li><strong>Uniform B:</strong> Avoids spatial dependence; k-space dynamics become linear ODEs.</li>
        </ul>

        <h3>Mini intuition examples (quick)</h3>
        <ul>
          <li><strong>Isotropic free electron:</strong> ε = ħ²k²/(2m) ⇒ ω<sub>c</sub> = eB/(mc) (CGS).</li>
          <li><strong>Ellipsoid with B along symmetry axis (z):</strong> motion is in x–y plane only, so ω<sub>c</sub> depends on m<sub>t</sub> alone.</li>
          <li><strong>Ellipsoid with B ⟂ z:</strong> motion mixes a transverse and longitudinal direction, so a combined (geometric-mean) mass appears.</li>
        </ul>

        <div class="callout warn">
          <h4>What to watch for (pitfalls)</h4>
          <ul>
            <li><strong>Sign conventions:</strong> electron has charge −e; many formulas use e&gt;0 and include a minus sign in the equation of motion.</li>
            <li><strong>Unit systems:</strong> CGS uses a factor 1/c in magnetic force; SI does not.</li>
            <li><strong>Orientation matters:</strong> ω<sub>c</sub> depends on B direction relative to principal axes for anisotropic masses.</li>
            <li><strong>“Effective mass” is tensorial:</strong> Here it’s diagonal: (m<sub>t</sub>, m<sub>t</sub>, m<sub>l</sub>).</li>
          </ul>
        </div>

        <div class="callout">
          <h4>Math Insight</h4>
          <p>
            The dynamics reduce to a <strong>linear Hamiltonian-like rotation</strong> in the subspace perpendicular to <strong>B</strong>:
            a pair of coupled first-order ODEs becomes a <strong>simple harmonic oscillator</strong>,
            so ω<sub>c</sub> is the oscillator’s natural frequency determined by the coefficients (effective masses).
          </p>
        </div>
      </section>

      <section id="p0b">
        <h2>PART 0B — Industry & Applied Physics Perspective</h2>

        <div class="grid2">
          <div class="card">
            <h3>Where this shows up (3+ areas)</h3>
            <ul>
              <li><strong>Semiconductor characterization:</strong> extracting anisotropic effective masses in Si, Ge, III–V materials via cyclotron resonance and magneto-optics.</li>
              <li><strong>Magnetotransport in devices:</strong> mobility tensors, Hall sensors, and high-field behavior in MOSFET channels and heterostructures.</li>
              <li><strong>Metrology & materials QA:</strong> wafer-to-wafer variability, strain engineering, and dopant/defect effects that modify band curvature.</li>
              <li><strong>Terahertz (THz) components:</strong> resonant absorption/emission in high-mobility semiconductors and 2DEGs for detectors and modulators.</li>
            </ul>
          </div>

          <div class="card">
            <h3>Why engineers care</h3>
            <ul>
              <li><strong>Performance:</strong> effective mass influences carrier velocity, density of states, and hence conductivity and switching speed.</li>
              <li><strong>Reliability:</strong> anisotropy affects current crowding, Joule heating distributions, and electromigration risk under strong fields.</li>
              <li><strong>Cost & yield:</strong> fast, non-contact optical/magneto-optical methods can validate wafers without destructive testing.</li>
              <li><strong>Design control:</strong> strain and composition tuning (e.g., SiGe, III–V alloys) intentionally modifies m<sub>t</sub>, m<sub>l</sub>.</li>
            </ul>
          </div>
        </div>

        <h3>Typical measurement/validation methods</h3>
        <ul>
          <li><strong>Cyclotron resonance (CR):</strong> measure absorption vs frequency at fixed B (or vs B at fixed frequency), identify ω<sub>c</sub>.</li>
          <li><strong>Shubnikov–de Haas / de Haas–van Alphen:</strong> oscillations in transport/magnetization reveal extremal Fermi-surface properties and effective masses.</li>
          <li><strong>Angle-dependent magnetoresistance:</strong> rotate B to map anisotropy (ties directly to orientation-dependent cyclotron mass).</li>
        </ul>

        <div class="callout warn">
          <h4>Design trade-offs & constraints</h4>
          <ul>
            <li><strong>Non-idealities:</strong> scattering (finite τ), non-parabolicity (ε not strictly quadratic), multi-valley bands, and temperature broadening shift/broaden resonance.</li>
            <li><strong>Tolerances:</strong> crystal orientation errors mean B is not exactly in-plane/out-of-plane; ω<sub>c</sub> becomes angle-dependent.</li>
            <li><strong>High-field limits:</strong> Landau quantization and band mixing can exceed semiclassical validity.</li>
          </ul>
        </div>

        <details>
          <summary>From lab to product: adapting the ideal model</summary>
          <p>
            In real devices, engineers often replace the simple (m<sub>t</sub>, m<sub>l</sub>) constants by an
            <strong>energy-dependent effective mass</strong> (to capture non-parabolicity), include a
            <strong>scattering time τ</strong> (to predict linewidth and Q-factor), and account for
            <strong>multi-band/multi-valley</strong> contributions. Yet, the clean formula for ω<sub>c</sub> remains the
            first “backbone” estimate for interpreting magneto-transport and magneto-optical data.
          </p>
        </details>
      </section>

      <section id="p1">
        <h2>PART 1 — Problem Analysis (No Solving Yet)</h2>

        <h3>Problem restatement</h3>
        <p>
          Consider an energy dispersion (effective-mass model)
          <span class="muted">ε(k)=ħ²[(k<sub>x</sub>²+k<sub>y</sub>²)/(2m<sub>t</sub>)+k<sub>z</sub>²/(2m<sub>l</sub>)]</span>.
          Show, using the semiclassical equation of motion (with v=(1/ħ)∇<sub>k</sub>ε), that when the static magnetic field
          <strong>B lies in the xy-plane</strong>, the cyclotron angular frequency is
          <span class="muted">ω<sub>c</sub> = eB/(c√(m<sub>t</sub>m<sub>l</sub>))</span> in CGS (and omit <code>c</code> for SI).
        </p>

        <div class="grid2">
          <div class="card">
            <h3>Given</h3>
            <ul>
              <li>ε(k)=ħ²[(k<sub>x</sub>²+k<sub>y</sub>²)/(2m<sub>t</sub>)+k<sub>z</sub>²/(2m<sub>l</sub>)]</li>
              <li>v(k)=(1/ħ)∇<sub>k</sub>ε(k)</li>
              <li>Semiclassical magnetic equation (CGS): ħ k̇ = −(e/c)(v×B)</li>
              <li>B is in the xy-plane (arbitrary in-plane direction)</li>
            </ul>
          </div>

          <div class="card">
            <h3>Unknowns / what to show</h3>
            <ul>
              <li>Derive the cyclotron frequency ω<sub>c</sub> of the periodic motion.</li>
              <li>Show ω<sub>c</sub> = (eB/c)/√(m<sub>t</sub>m<sub>l</sub>) (CGS).</li>
              <li>State SI conversion: remove 1/c factor.</li>
            </ul>
          </div>
        </div>

        <h3>Relevant principles and why they apply</h3>
        <ul>
          <li><strong>Gradient velocity law</strong> v=(1/ħ)∇<sub>k</sub>ε: valid for a wavepacket in a single band (effective mass model).</li>
          <li><strong>Lorentz-force form in k-space</strong> ħ k̇ = −(e/c)(v×B): gives evolution under magnetic field with no electric field.</li>
          <li><strong>Rotational simplification:</strong> if B lies in xy-plane, we can rotate axes within the plane to align B with the x-axis without changing physics (symmetry in x–y due to m<sub>t</sub>).</li>
        </ul>

        <div class="callout">
          <h4>Assumptions (explicit)</h4>
          <ul>
            <li>Single-band semiclassical dynamics; no interband transitions.</li>
            <li>Uniform static B; no electric field (E=0).</li>
            <li>Effective mass tensor is diagonal: (m<sub>t</sub>, m<sub>t</sub>, m<sub>l</sub>).</li>
            <li>Ignore scattering during one orbit (or treat τ large enough that ω<sub>c</sub> is meaningful).</li>
          </ul>
        </div>

        <h3>Possible approaches (2–3), pros/cons</h3>
        <ul>
          <li><strong>Direct ODE approach (best here):</strong> write components of k̇ from v×B, reduce to SHO, read ω<sub>c</sub>.
            <span class="muted">Fast, transparent, minimal machinery.</span></li>
          <li><strong>Geometric orbit approach:</strong> use that motion is along intersection of ε(k)=const with plane ⟂ B and compute orbit period.
            <span class="muted">More geometric; can generalize, but longer.</span></li>
          <li><strong>General cyclotron-mass formula:</strong> m<sub>c</sub>=(ħ²/2π)(∂A/∂ε) where A is k-space orbit area.
            <span class="muted">Powerful for arbitrary Fermi surfaces, but overkill for a quadratic ellipsoid.</span></li>
        </ul>

        <p><strong>Chosen approach:</strong> the direct ODE method, because the given dispersion makes v linear in k, so the dynamics become linear and solvable exactly.</p>
      </section>

      <section id="p2">
        <h2>PART 2 — Strategy & Tips (Roadmap Only)</h2>

        <ol>
          <li><strong>Choose coordinates:</strong> rotate in the xy-plane so that B points along x. (Uses symmetry: m<sub>t</sub> is same for x and y.)</li>
          <li><strong>Compute velocity:</strong> v=(1/ħ)∇<sub>k</sub>ε, giving v components proportional to k components.</li>
          <li><strong>Write k̇ equations:</strong> from ħ k̇ = −(e/c)(v×B), compute v×B for B=(B,0,0).</li>
          <li><strong>Identify constants of motion:</strong> k component parallel to B should be constant; energy ε is constant.</li>
          <li><strong>Decouple to SHO:</strong> differentiate once more to get a second-order ODE for k<sub>y</sub> (or k<sub>z</sub>) with form k̈ + ω<sub>c</sub>² k = 0.</li>
          <li><strong>Read off ω<sub>c</sub>:</strong> express in terms of e, B, m<sub>t</sub>, m<sub>l</sub>, and c (CGS).</li>
          <li><strong>Sanity checks:</strong> dimensions, isotropic limit, and physical interpretation.</li>
          <li><strong>Convert to SI:</strong> remove the 1/c factor.</li>
        </ol>

        <div class="callout bad">
          <h4>Common mistakes</h4>
          <ul>
            <li>Forgetting that <strong>v depends on k anisotropically</strong>: v<sub>z</sub> uses m<sub>l</sub>, while v<sub>x</sub>, v<sub>y</sub> use m<sub>t</sub>.</li>
            <li>Mixing SI and CGS: the factor <strong>1/c appears only in CGS</strong>.</li>
            <li>Not using symmetry: if B is in the xy-plane, you can always rotate it to the x-axis.</li>
            <li>Dropping ħ incorrectly: it cancels neatly, but only if you keep track step-by-step.</li>
          </ul>
        </div>
      </section>

      <section id="p3">
        <h2>PART 3 — Full Solution (Detailed + Teaching)</h2>

        <h3>Physical intuition first</h3>
        <p>
          Because the dispersion is quadratic, the velocity is linear in k. The magnetic equation of motion then becomes a
          <em>linear</em> system of ODEs: the components of k perpendicular to B will undergo periodic motion.
          Since B lies in the xy-plane, the perpendicular plane involves a mix of one transverse direction and the longitudinal z-direction.
          That mixing is the reason the geometric mean √(m<sub>t</sub>m<sub>l</sub>) appears.
        </p>

        <div class="callout">
          <h4>Mathematical model (explicit)</h4>
          <ul>
            <li><strong>State variables:</strong> k(t) ∈ ℝ³, with components (k<sub>x</sub>,k<sub>y</sub>,k<sub>z</sub>).</li>
            <li><strong>Dispersion:</strong> ε: ℝ³→ℝ given by ε(k)=ħ²[(k<sub>x</sub>²+k<sub>y</sub>²)/(2m<sub>t</sub>)+k<sub>z</sub>²/(2m<sub>l</sub>)].</li>
            <li><strong>Velocity field in k-space:</strong> v(k)=(1/ħ)∇<sub>k</sub>ε(k).</li>
            <li><strong>ODE (CGS):</strong> ħ dk/dt = −(e/c)(v(k)×B), with constant B and initial condition k(0)=k₀.</li>
            <li><strong>Conserved quantity:</strong> ε(k(t)) = ε(k₀) (follows from v·(v×B)=0).</li>
          </ul>
        </div>

        <h3>Step 1: Use symmetry to choose B direction</h3>
        <p>
          The energy depends on k<sub>x</sub> and k<sub>y</sub> only through k<sub>x</sub>²+k<sub>y</sub>², so the model is rotationally symmetric
          in the xy-plane. Therefore, if B lies somewhere in the xy-plane, we can rotate our x-y axes so that
        </p>
        <div class="equation" id="eq1" role="group" aria-label="Equation 1">
B = (B, 0, 0)  with  B = |B| .
          <div class="eqbar">
            <span class="faint">Rotation in xy-plane: valid because m_t is identical for x and y.</span>
            <button class="btn small" data-copy="#eq1">Copy equation</button>
          </div>
        </div>

        <h3>Step 2: Compute v(k) = (1/ħ)∇<sub>k</sub>ε(k)</h3>
        <p>
          Compute partial derivatives component-by-component (operator notation emphasized):
          ∇<sub>k</sub>ε = (∂ε/∂k<sub>x</sub>, ∂ε/∂k<sub>y</sub>, ∂ε/∂k<sub>z</sub>).
        </p>
        <p>
          From ε(k)=ħ²[(k<sub>x</sub>²+k<sub>y</sub>²)/(2m<sub>t</sub>)+k<sub>z</sub>²/(2m<sub>l</sub>)],
        </p>
        <div class="equation" id="eq2" role="group" aria-label="Equation 2">
∂ε/∂k_x = ħ^2 (k_x/m_t),   ∂ε/∂k_y = ħ^2 (k_y/m_t),   ∂ε/∂k_z = ħ^2 (k_z/m_l).

So:
v_x = (1/ħ)∂ε/∂k_x = ħ k_x / m_t,
v_y = ħ k_y / m_t,
v_z = ħ k_z / m_l.
          <div class="eqbar">
            <span class="faint">Linearity: quadratic ε ⇒ linear v, enabling exact ODE solution.</span>
            <button class="btn small" data-copy="#eq2">Copy equation</button>
          </div>
        </div>

        <h3>Step 3: Write the semiclassical equation of motion in components (CGS)</h3>
        <p>
          Use
          <span class="muted">ħ k̇ = −(e/c)(v×B)</span>.
          With B=(B,0,0), compute the cross product:
        </p>
        <div class="equation" id="eq3" role="group" aria-label="Equation 3">
v × B = (0, v_z B, -v_y B).

Therefore:
ħ ḱ_x = 0,
ħ ḱ_y = -(e/c) v_z B,
ħ ḱ_z = +(e/c) v_y B.
          <div class="eqbar">
            <span class="faint">v×B is perpendicular to v, so it cannot change ε(k).</span>
            <button class="btn small" data-copy="#eq3">Copy equation</button>
          </div>
        </div>

        <h3>Step 4: Substitute v components to get a closed linear system for k<sub>y</sub>, k<sub>z</sub></h3>
        <p>
          Insert v<sub>y</sub>=ħk<sub>y</sub>/m<sub>t</sub>, v<sub>z</sub>=ħk<sub>z</sub>/m<sub>l</sub> into the equations:
        </p>
        <div class="equation" id="eq4" role="group" aria-label="Equation 4">
ḱ_x = 0  ⇒  k_x(t) = constant.

ḱ_y = -(eB/(c m_l)) k_z,
ḱ_z = +(eB/(c m_t)) k_y.
          <div class="eqbar">
            <span class="faint">Coupling: k_y drives k_z and vice versa (a rotation-like system).</span>
            <button class="btn small" data-copy="#eq4">Copy equation</button>
          </div>
        </div>

        <h3>Step 5: Reduce to a simple harmonic oscillator and read ω<sub>c</sub></h3>
        <p>
          Differentiate the k̇<sub>y</sub> equation with respect to time and substitute k̇<sub>z</sub>:
        </p>
        <div class="equation" id="eq5" role="group" aria-label="Equation 5">
k̈_y = -(eB/(c m_l)) ḱ_z
     = -(eB/(c m_l)) (eB/(c m_t)) k_y
     = -[(eB/c)^2 * 1/(m_t m_l)] k_y.

So:
k̈_y + ω_c^2 k_y = 0
with
ω_c^2 = (eB/c)^2 * 1/(m_t m_l).
          <div class="eqbar">
            <span class="faint">Linearity ⇒ SHO: eigenvalues are ±iω_c.</span>
            <button class="btn small" data-copy="#eq5">Copy equation</button>
          </div>
        </div>

        <p>
          Taking the positive square root gives the cyclotron angular frequency:
        </p>

        <div class="callout ok" id="final-answer-box">
          <h4>Final result (boxed)</h4>
          <div class="equation" id="eqFinal" role="group" aria-label="Final Answer Equation">
(CG S / Gaussian units)
ω_c = (eB/c) / sqrt(m_t m_l),   when B lies in the xy-plane.

(SI units)
ω_c = eB / sqrt(m_t m_l).
          </div>
          <div class="eqbar" id="copy-final">
            <span class="muted">Copy the final answer as plain text:</span>
            <button class="btn" data-copy="#eqFinal">Copy Final Answer</button>
          </div>
        </div>

        <h3>Sanity checks</h3>
        <div class="grid2">
          <div class="callout">
            <h4>1) Dimensional analysis</h4>
            <p>
              In SI: eB has units (C·T) = (C·kg/(C·s)) = kg/s. Dividing by mass gives 1/s.
              Here the “mass” is √(m<sub>t</sub>m<sub>l</sub>) (kg), so ω<sub>c</sub> has units 1/s as required.
              In CGS, the extra 1/c restores the correct dimensions for the magnetic force convention.
            </p>
          </div>
          <div class="callout">
            <h4>2) Limiting cases</h4>
            <ul>
              <li><strong>Isotropic:</strong> m<sub>t</sub>=m<sub>l</sub>=m ⇒ ω<sub>c</sub>=(eB/c)/m (CGS), the standard result.</li>
              <li><strong>Very heavy longitudinal mass:</strong> m<sub>l</sub>→∞ ⇒ ω<sub>c</sub>→0:
                hard to accelerate along z, so in-plane B cannot drive a fast orbit.</li>
              <li><strong>Very light longitudinal mass:</strong> m<sub>l</sub>→0 ⇒ ω<sub>c</sub> grows:
                easy to move in z, enabling faster coupled rotation in (y,z).</li>
            </ul>
          </div>
        </div>

        <div class="callout">
          <h4>3) Direction/sign reasoning</h4>
          <p>
            The sign of charge determines the <em>sense</em> of rotation in k-space, but the resonance frequency uses |ω<sub>c</sub>|.
            Using e&gt;0 with ħ k̇=−(e/c)(v×B) corresponds to an electron (charge −e).
          </p>
        </div>

        <details>
          <summary>Optional deeper note: conserved energy shown explicitly</summary>
          <div class="equation" id="eqEnergy" role="group" aria-label="Energy conservation derivation">
dε/dt = (∇_k ε) · k̇
      = (ħ v) · k̇
Using ħ k̇ = -(e/c)(v×B):
dε/dt = v · [-(e/c)(v×B)] = -(e/c) v · (v×B) = 0.
          </div>
          <div class="eqbar">
            <span class="faint">This uses the vector identity a·(a×b)=0.</span>
            <button class="btn small" data-copy="#eqEnergy">Copy</button>
          </div>
        </details>

        <a class="backtop" href="#top">Back to top ↑</a>
      </section>

      <section id="p4">
        <h2>PART 4 — Deeper Understanding (Theory Around the Result)</h2>

        <h3>Re-interpretation of the formula</h3>
        <p>
          The result can be written in the standard cyclotron form
          <span class="muted">ω<sub>c</sub> = (eB/c)/m<sub>c</sub></span> (CGS),
          where the <strong>cyclotron mass</strong> for this orientation is
          <span class="muted">m<sub>c</sub> = √(m<sub>t</sub>m<sub>l</sub>)</span>.
          This is the geometric mean because the orbit (for B in the xy-plane) couples one transverse inertia (m<sub>t</sub>)
          with the longitudinal inertia (m<sub>l</sub>) through the cross-product dynamics.
        </p>

        <div class="callout">
          <h4>Parameter dependence (qualitative)</h4>
          <ul>
            <li><strong>B:</strong> ω<sub>c</sub> ∝ B (linear in field strength).</li>
            <li><strong>m<sub>t</sub>:</strong> increasing m<sub>t</sub> decreases ω<sub>c</sub> as 1/√m<sub>t</sub>.</li>
            <li><strong>m<sub>l</sub>:</strong> increasing m<sub>l</sub> decreases ω<sub>c</sub> as 1/√m<sub>l</sub>.</li>
            <li><strong>Anisotropy:</strong> for fixed m<sub>t</sub>, making m<sub>l</sub> much larger dramatically slows the orbit for in-plane B.</li>
          </ul>
        </div>

        <h3>Alternative derivation idea (brief but meaningful)</h3>
        <p>
          A general (and widely used) band-structure result expresses the cyclotron mass via the <em>k-space orbit area</em> A(ε) in the plane
          perpendicular to B:
        </p>
        <div class="equation" id="eqAlt" role="group" aria-label="Alternative derivation formula">
m_c = (ħ^2 / 2π) (∂A/∂ε),
and ω_c = (eB/c)/m_c  (CGS).
        </div>
        <div class="eqbar">
          <span class="faint">For an ellipsoid, A(ε) is an ellipse; differentiating yields m_c = √(m_t m_l) for B ⟂ z.</span>
          <button class="btn small" data-copy="#eqAlt">Copy</button>
        </div>

        <h3>Concept check (self-test)</h3>
        <ul>
          <li><strong>Q:</strong> Why can we set B along x without loss of generality? <strong>A:</strong> Because ε depends on k<sub>x</sub>,k<sub>y</sub> only through k<sub>x</sub>²+k<sub>y</sub>², so the physics is invariant under rotations in the xy-plane.</li>
          <li><strong>Q:</strong> What is conserved during the motion when E=0? <strong>A:</strong> ε(k) is conserved because magnetic forces do no work: v·(v×B)=0.</li>
          <li><strong>Q:</strong> If B were along z instead, what mass would appear? <strong>A:</strong> Only transverse motion matters, giving ω<sub>c</sub> = (eB/c)/m<sub>t</sub> (CGS).</li>
          <li><strong>Q:</strong> Why does √(m<sub>t</sub>m<sub>l</sub>) appear rather than m<sub>t</sub> or m<sub>l</sub> alone? <strong>A:</strong> For B in the xy-plane, the orbit uses one transverse and the longitudinal directions, and the coupled ODE coefficients multiply to 1/(m<sub>t</sub>m<sub>l</sub>).</li>
        </ul>

        <a class="backtop" href="#top">Back to top ↑</a>
      </section>

      <section id="p5">
        <h2>PART 5 — Optional Plot Guide</h2>
        <p>
          A plot is not necessary here because the problem’s output is a clean <strong>symbolic</strong> formula for ω<sub>c</sub>
          with simple parameter dependence (linear in B, inverse-square-root in the masses).
          Any plot would require choosing numerical values and would not add essential understanding beyond the algebraic checks already shown.
        </p>
      </section>

      <section>
        <h2>Key Equations (Copy-ready)</h2>
        <div class="equation" id="eqKeyAll" role="group" aria-label="Key Equations">
Energy:
ε(k)= ħ^2 [ (k_x^2 + k_y^2)/(2 m_t) + k_z^2/(2 m_l) ].

Velocity:
v = (1/ħ) ∇_k ε
=> v_x = ħ k_x/m_t,  v_y = ħ k_y/m_t,  v_z = ħ k_z/m_l.

Equation of motion (CGS):
ħ k̇ = -(e/c) (v × B).

For B in xy-plane (choose B along x):
k̇_y = -(eB/(c m_l)) k_z,
k̇_z = +(eB/(c m_t)) k_y,
=> k̈_y + [(eB/c)^2/(m_t m_l)] k_y = 0.

Cyclotron frequency:
ω_c = (eB/c)/√(m_t m_l)  (CGS),
ω_c = eB/√(m_t m_l)      (SI).
        </div>
        <div class="eqbar">
          <span class="muted">Copy all key equations as plain text:</span>
          <button class="btn" data-copy="#eqKeyAll">Copy Key Equations</button>
        </div>
        <a class="backtop" href="#top">Back to top ↑</a>
      </section>
    </article>
  </main>

  <footer>
    <p>
      Notes: The derived ω<sub>c</sub> is the semiclassical cyclotron frequency for an ellipsoidal (spheroidal) effective-mass band.
      In experiments, scattering (finite τ) broadens resonance and non-parabolicity can make the effective masses energy-dependent.
    </p>
  </footer>

  <script>
    (function(){
      function textFromNode(sel){
        const el = document.querySelector(sel);
        if(!el) return "";
        // For equation boxes, use innerText to preserve line breaks.
        return el.innerText.trim();
      }

      async function copyText(txt){
        try{
          await navigator.clipboard.writeText(txt);
          return true;
        }catch(e){
          // Fallback
          const ta = document.createElement('textarea');
          ta.value = txt;
          ta.style.position = 'fixed';
          ta.style.left = '-9999px';
          ta.style.top = '0';
          document.body.appendChild(ta);
          ta.focus();
          ta.select();
          let ok = false;
          try{ ok = document.execCommand('copy'); }catch(err){ ok = false; }
          document.body.removeChild(ta);
          return ok;
        }
      }

      function flash(btn, ok){
        const prev = btn.textContent;
        btn.textContent = ok ? "Copied ✓" : "Copy failed";
        btn.style.borderColor = ok ? "rgba(134,239,172,0.45)" : "rgba(251,113,133,0.45)";
        btn.style.background = ok ? "rgba(134,239,172,0.10)" : "rgba(251,113,133,0.10)";
        setTimeout(()=>{
          btn.textContent = prev;
          btn.style.borderColor = "";
          btn.style.background = "";
        }, 900);
      }

      document.addEventListener('click', async (ev)=>{
        const btn = ev.target.closest('button[data-copy]');
        if(!btn) return;
        const sel = btn.getAttribute('data-copy');
        const txt = textFromNode(sel);
        const ok = await copyText(txt);
        flash(btn, ok);
      });
    })();
  </script>
</body>
</html>
