<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Pauli Spin Susceptibility at T = 0 (Free Electron Gas) — Full Derivation + Applied Perspective</title>
  <style>
    :root{
      --bg:#0b0f14;
      --panel:#0f1620;
      --panel2:#0c131c;
      --text:#e8eef7;
      --muted:#a9b6c8;
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --good:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --border:rgba(255,255,255,.10);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --radius: 16px;
      --radius2: 22px;
      --maxw: 1100px;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1200px 500px at 20% 0%, rgba(125,211,252,.12), transparent 60%),
        radial-gradient(900px 500px at 90% 10%, rgba(167,139,250,.10), transparent 55%),
        linear-gradient(180deg, #070a0f, var(--bg));
      line-height:1.6;
    }

    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    code, pre{font-family:var(--mono)}
    pre{
      margin:0;
      padding:14px 14px;
      background:rgba(255,255,255,.04);
      border:1px solid var(--border);
      border-radius:14px;
      overflow:auto;
      white-space:pre;
    }
    .wrap{
      max-width:var(--maxw);
      margin:0 auto;
      padding:28px 18px 80px;
    }

    header.hero{
      position:relative;
      padding:28px 20px;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--border);
      border-radius:var(--radius2);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    header.hero::after{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(500px 200px at 30% 20%, rgba(125,211,252,.20), transparent 60%),
        radial-gradient(450px 220px at 80% 30%, rgba(167,139,250,.16), transparent 65%);
      pointer-events:none;
      filter: blur(8px);
      opacity:.8;
    }
    header.hero > *{position:relative; z-index:1}
    .title{
      display:flex;
      gap:14px;
      align-items:flex-start;
      flex-wrap:wrap;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.05);
      color:var(--muted);
    }
    .badge .dot{
      width:8px; height:8px; border-radius:50%;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      box-shadow:0 0 0 4px rgba(125,211,252,.10);
    }
    h1{
      margin:8px 0 6px;
      font-size: clamp(1.6rem, 1.1rem + 2.0vw, 2.4rem);
      letter-spacing:-.02em;
      line-height:1.15;
    }
    .subtitle{
      margin:0;
      color:var(--muted);
      max-width:75ch;
    }

    .layout{
      display:grid;
      grid-template-columns: 1fr;
      gap:18px;
      margin-top:18px;
    }
    @media (min-width: 980px){
      .layout{
        grid-template-columns: 280px 1fr;
        align-items:start;
      }
    }

    nav.toc{
      position:sticky;
      top:14px;
      align-self:start;
      padding:14px 14px;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
      box-shadow: 0 12px 28px rgba(0,0,0,.25);
      max-height: calc(100vh - 28px);
      overflow:auto;
    }
    nav.toc h2{
      font-size:14px;
      margin:0 0 10px;
      color:var(--muted);
      font-weight:700;
      letter-spacing:.02em;
      text-transform:uppercase;
    }
    nav.toc a{
      display:block;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid transparent;
      color:var(--text);
      font-size:14px;
      line-height:1.25;
      opacity:.92;
    }
    nav.toc a:hover{
      background:rgba(125,211,252,.08);
      border-color:rgba(125,211,252,.22);
      text-decoration:none;
    }
    nav.toc .mini{
      font-size:12px;
      color:var(--muted);
      margin-top:10px;
      padding:10px;
      border-radius:12px;
      background:rgba(255,255,255,.03);
      border:1px solid var(--border);
    }

    main{min-width:0;}

    section.card{
      padding:18px 18px;
      border-radius:var(--radius2);
      border:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,255,255,.045), rgba(255,255,255,.025));
      box-shadow:var(--shadow);
      margin-bottom:18px;
      transform: translateY(0);
      transition: transform .2s ease, border-color .2s ease;
    }
    section.card:hover{
      transform: translateY(-2px);
      border-color: rgba(125,211,252,.22);
    }
    section.card h2{
      margin:0 0 10px;
      font-size:20px;
      letter-spacing:-.01em;
    }
    section.card h3{
      margin:16px 0 8px;
      font-size:16px;
      letter-spacing:-.01em;
    }
    .muted{color:var(--muted)}
    ul{margin:10px 0 0 18px}
    li{margin:6px 0}
    .cols{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    @media (min-width: 760px){
      .cols{grid-template-columns: 1fr 1fr;}
    }

    .callout{
      padding:14px 14px;
      border-radius:16px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
      margin-top:10px;
    }
    .callout strong{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:8px;
      letter-spacing:.01em;
    }
    .tag{
      font-size:12px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--muted);
      background:rgba(255,255,255,.03);
    }
    .kq{border-left:4px solid rgba(125,211,252,.6)}
    .assump{border-left:4px solid rgba(251,191,36,.65)}
    .mist{border-left:4px solid rgba(251,113,133,.60)}
    .final{border-left:4px solid rgba(52,211,153,.60)}
    .math{border-left:4px solid rgba(167,139,250,.60)}

    .eqbox{
      margin-top:10px;
      border-radius:16px;
      border:1px solid var(--border);
      overflow:hidden;
      background:rgba(0,0,0,.18);
    }
    .eqhead{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-bottom:1px solid var(--border);
      background:rgba(255,255,255,.03);
    }
    .eqhead .label{
      font-size:12px;
      color:var(--muted);
      display:flex; gap:8px; align-items:center;
    }
    .btn{
      appearance:none;
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      color:var(--text);
      padding:7px 10px;
      border-radius:12px;
      cursor:pointer;
      font-size:12px;
      transition: transform .12s ease, border-color .2s ease, background .2s ease;
      white-space:nowrap;
    }
    .btn:hover{border-color:rgba(125,211,252,.35); background:rgba(125,211,252,.08)}
    .btn:active{transform:scale(.98)}
    .btn.good:hover{border-color:rgba(52,211,153,.45); background:rgba(52,211,153,.08)}
    .btn.small{padding:6px 9px; font-size:12px}
    .copystatus{
      font-size:12px;
      color:var(--muted);
      min-width: 120px;
      text-align:right;
    }

    details{
      margin-top:10px;
      border:1px solid var(--border);
      border-radius:16px;
      padding:10px 12px;
      background:rgba(255,255,255,.02);
    }
    details summary{
      cursor:pointer;
      font-weight:650;
      letter-spacing:-.01em;
    }
    details[open]{background:rgba(255,255,255,.03)}

    .backtop{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-top:10px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
      color:var(--text);
    }
    .backtop:hover{background:rgba(125,211,252,.08); text-decoration:none}

    figure.plot{
      margin:12px 0 0;
      border:1px solid var(--border);
      border-radius:16px;
      overflow:hidden;
      background:rgba(0,0,0,.18);
    }
    figure.plot figcaption{
      padding:10px 12px;
      color:var(--muted);
      font-size:13px;
      border-top:1px solid var(--border);
      background:rgba(255,255,255,.02);
    }
    canvas{display:block; width:100%; height:auto; background:transparent}

    footer{
      margin-top:18px;
      padding:16px 18px;
      border-radius:var(--radius2);
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
      color:var(--muted);
      font-size:13px;
    }

    @media print{
      body{background:#fff; color:#000}
      header.hero, section.card, nav.toc, footer{
        box-shadow:none !important;
        background:#fff !important;
        border:1px solid #bbb !important;
        color:#000 !important;
      }
      nav.toc{display:none}
      a{color:#000; text-decoration:underline}
      .btn, .copystatus{display:none !important}
      pre{background:#f6f6f6 !important; border:1px solid #ccc !important; color:#000 !important}
      .callout{background:#fff !important}
      section.card{break-inside: avoid-page}
      h2, h3{break-after: avoid-page}
    }
  </style>
</head>

<body id="top">
  <div class="wrap">
    <header class="hero">
      <div class="title">
        <span class="badge"><span class="dot"></span>Quantum Statistical Physics • Magnetism • T = 0</span>
        <span class="badge">Result: Pauli Paramagnetism (spin susceptibility)</span>
      </div>
      <h1>Pauli Spin Susceptibility at Absolute Zero (Free Electron Gas)</h1>
      <p class="subtitle">
        We compute how a weak magnetic field polarizes a degenerate conduction-electron gas at <b>T = 0</b> by minimizing the total energy.
        This yields the equilibrium spin imbalance <code>ζ</code>, the magnetization <code>M</code>, and the linear (Pauli) susceptibility.
      </p>
    </header>

    <div class="layout">
      <nav class="toc" aria-label="Table of contents">
        <h2>On this page</h2>
        <a href="#quick">Quick Summary</a>
        <a href="#part0">PART 0 — Concept Primer</a>
        <a href="#part0b">PART 0B — Industry & Applied Physics</a>
        <a href="#part1">PART 1 — Problem Analysis</a>
        <a href="#part2">PART 2 — Strategy & Tips</a>
        <a href="#part3">PART 3 — Full Solution</a>
        <a href="#part4">PART 4 — Deeper Understanding</a>
        <a href="#part5">PART 5 — Optional Plot Guide</a>
        <div class="mini">
          <div><b>Usability</b></div>
          <div class="muted">Use the copy buttons on equation boxes and the final answer box.</div>
          <div class="muted" style="margin-top:6px">Back to top links are at the end of each section.</div>
        </div>
      </nav>

      <main>
        <section id="quick" class="card">
          <h2>Quick Summary</h2>
          <ul>
            <li><b>What this is:</b> Find the <b>spin polarization</b> and <b>magnetization</b> of a <b>degenerate (T = 0) free-electron gas</b> in a weak magnetic field <code>B</code>.</li>
            <li><b>Key physics idea:</b> A field shifts spin energies by the <b>Zeeman term</b> (±μ<sub>B</sub>B), but the Pauli principle makes unequal spin populations cost <b>kinetic (Fermi) energy</b>.</li>
            <li><b>Control parameter:</b> The dimensionless spin imbalance <code>ζ</code> where <code>N± = (N/2)(1 ± ζ)</code>.</li>
            <li><b>Governing model:</b> Total energy at fixed total electron number <code>N</code> is
              <code>E_total(ζ,B) = E_kin(ζ) + E_Zeeman(ζ,B)</code>, and equilibrium satisfies <code>∂E_total/∂ζ = 0</code> (a variational/minimization condition).</li>
            <li><b>Core equation:</b> For each spin species at T=0, <code>E_kin ∝ N_s ε_F,s</code> with <code>ε_F,s ∝ n_s^(2/3)</code>, giving a <code>(1 ± ζ)^(5/3)</code> dependence.</li>
            <li><b>Main symbolic result:</b> In the low-field (small-ζ) approximation,
              <code>ζ ≈ (3/2)(μ_B B / ε_F)</code> and <code>M = N μ_B ζ = (3/2) N μ_B^2 B / ε_F</code>.</li>
            <li><b>Physical meaning:</b> Magnetization is <b>linear in B</b> (paramagnetic) and suppressed by the large Fermi energy <code>ε_F</code>.</li>
          </ul>

          <a class="backtop" href="#top" aria-label="Back to top">↑ Back to top</a>
        </section>

        <section id="part0" class="card">
          <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

          <h3>0.1 Core definitions (symbols + SI units)</h3>
          <div class="cols">
            <div class="callout kq">
              <strong><span class="tag">State variables</span> Electron populations</strong>
              <ul>
                <li><code>N</code> — total number of electrons (dimensionless count)</li>
                <li><code>N+</code>, <code>N−</code> — spin-up / spin-down electron numbers (counts)</li>
                <li><code>ζ</code> — spin imbalance (dimensionless), defined by <code>N± = (N/2)(1 ± ζ)</code></li>
              </ul>
            </div>
            <div class="callout kq">
              <strong><span class="tag">Energies & field</span> Key physical parameters</strong>
              <ul>
                <li><code>B</code> — magnetic flux density (tesla, T)</li>
                <li><code>μ_B</code> — Bohr magneton (J/T): <code>μ_B = eħ/(2m)</code></li>
                <li><code>ε_F</code> — Fermi energy at <b>B=0</b> (joule, J)</li>
                <li><code>E_total</code> — total energy (J)</li>
              </ul>
            </div>
          </div>

          <h3>0.2 Physical meaning (intuition)</h3>
          <ul>
            <li><b>Zeeman splitting:</b> In a field, electron spin states shift by <code>±μ_B B</code> (for g≈2 free electron; sign depends on alignment).</li>
            <li><b>Pauli blocking:</b> At <code>T=0</code>, electrons fill momentum states up to a Fermi surface. If more electrons go into one spin species, its Fermi level rises, increasing kinetic energy.</li>
            <li><b>Competition:</b> Field tries to polarize spins (lower Zeeman energy), but degeneracy pressure (Fermi energy cost) resists imbalance.</li>
          </ul>

          <h3>0.3 Key laws/principles and validity conditions</h3>
          <div class="callout assump">
            <strong><span class="tag">Validity</span> Assumptions for Pauli paramagnetism</strong>
            <ul>
              <li><b>Free-electron (or effective-mass) gas</b>: dispersion <code>ε(k)=ħ²k²/(2m*)</code> (we use m for simplicity).</li>
              <li><b>Degenerate limit</b>: <code>T=0</code> so occupation is a step function in energy.</li>
              <li><b>Weak field</b>: Zeeman energy small compared to Fermi energy, <code>μ_B B ≪ ε_F</code>, implying <code>|ζ| ≪ 1</code>.</li>
              <li><b>No interactions</b> beyond Pauli exclusion (no exchange enhancement, no Stoner instability).</li>
            </ul>
          </div>

          <h3>0.4 Common models/approximations used here (and why)</h3>
          <ul>
            <li><b>Separate spin fluids:</b> treat spin-up and spin-down as two independent Fermi gases sharing the same volume.</li>
            <li><b>Energy scaling:</b> at <code>T=0</code>, kinetic energy density scales as <code>n_s^(5/3)</code>, giving the characteristic exponent <code>5/3</code>.</li>
            <li><b>Low-field expansion:</b> expand <code>(1±ζ)^(5/3)</code> for small <code>ζ</code> to obtain linear response.</li>
          </ul>

          <h3>0.5 Mini intuition examples (minimal algebra)</h3>
          <ul>
            <li><b>Very large ε<sub>F</sub> (good metal):</b> enormous kinetic-energy stiffness → tiny polarization, so magnetization is small even for multi-tesla fields.</li>
            <li><b>Low-density electron gas (small ε<sub>F</sub>):</b> easier to polarize → larger susceptibility (this is one reason narrow-band materials can show strong spin responses).</li>
          </ul>

          <h3>0.6 What to watch for (pitfalls)</h3>
          <div class="callout mist">
            <strong><span class="tag">Pitfalls</span> Frequent sign/physics mistakes</strong>
            <ul>
              <li>Mixing the sign of the Zeeman term: spin aligned with <code>B</code> should lower energy.</li>
              <li>Forgetting that the <b>linear</b> term in <code>ζ</code> cancels in the kinetic-energy sum <code>(1+ζ)^(5/3)+(1−ζ)^(5/3)</code>.</li>
              <li>Using <code>E ∝ N ε_F</code> but forgetting that <code>ε_F</code> itself depends on density, which changes for each spin species when <code>ζ ≠ 0</code>.</li>
              <li>Confusing magnetization <code>M</code> (total magnetic moment) with magnetic field <code>H</code> vs <code>B</code> conventions (SI adds <code>μ0</code> in susceptibility).</li>
            </ul>
          </div>

          <details>
            <summary>Math Insight (how the core equation behaves as a mathematical object)</summary>
            <div class="callout math">
              <strong><span class="tag">Math Insight</span> A convex variational minimization problem</strong>
              <p class="muted" style="margin:0">
                The equilibrium <code>ζ</code> follows from minimizing a scalar energy function
                <code>E_total(ζ)=A[(1+ζ)^(5/3)+(1−ζ)^(5/3)] − C ζ</code>.
                The kinetic term is <b>even</b> and <b>convex</b> in <code>ζ</code> (positive second derivative near 0), while the Zeeman term is <b>linear</b>.
                Thus the minimizer is unique for weak fields and yields a <b>linear-response</b> law (<code>ζ ∝ B</code>) obtained by Taylor expanding the convex part.
              </p>
            </div>
          </details>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <section id="part0b" class="card">
          <h2>PART 0B — Industry & Applied Physics Perspective</h2>

          <h3>Where this appears in industry (concrete application areas)</h3>
          <ul>
            <li><b>Magnetic sensing & metrology:</b> baseline paramagnetic response in metals for calibration/background subtraction.</li>
            <li><b>Electromagnetic NDT:</b> eddy-current inspection and magnetic characterization depend on material magnetic response.</li>
            <li><b>Cryogenic systems:</b> low-temperature electronics, superconducting hardware, and shielding design require magnetic response budgeting.</li>
          </ul>

          <h3>Why engineers care</h3>
          <ul>
            <li><b>Performance:</b> magnetic background can set floors in precision instruments.</li>
            <li><b>Reliability:</b> unintended magnetic response can couple noise into sensors or affect actuation.</li>
            <li><b>Cost/efficiency:</b> knowing when simple free-electron estimates are valid saves testing and modeling effort.</li>
          </ul>

          <h3>Typical measurement/validation methods</h3>
          <ul>
            <li><b>SQUID/VSM magnetometry:</b> measure <code>M(B)</code> slope at small <code>B</code>.</li>
            <li><b>Quantum oscillations:</b> infer density of states near <code>ε_F</code> (linked to Pauli response).</li>
            <li><b>Transport:</b> Hall/magnetoresistance validate carrier density and effective mass assumptions.</li>
          </ul>

          <h3>Design trade-offs & non-idealities</h3>
          <ul>
            <li><b>Band structure:</b> replace <code>ε_F</code> by band-derived parameters; multiple bands add contributions.</li>
            <li><b>Impurities:</b> Curie-like terms can dominate at low T; purity control matters.</li>
            <li><b>Interactions:</b> exchange can enhance susceptibility beyond free-electron prediction.</li>
          </ul>

          <p class="muted">
            <b>From lab to product:</b> engineers use the Pauli result as a baseline, then fit real data with added terms (core diamagnetism, Landau diamagnetism, impurity Curie tail, exchange enhancement) to capture non-ideal behavior.
          </p>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <section id="part1" class="card">
          <h2>PART 1 — Problem Analysis (no solving yet)</h2>

          <h3>Rewrite the problem</h3>
          <p class="muted">
            Using <code>N± = (N/2)(1±ζ)</code>, show the energy expressions for spin-up and spin-down electrons in a magnetic field.
            Then minimize <code>E_total(ζ)=E+(ζ)+E-(ζ)</code> at fixed <code>N</code> to get <code>ζ(B)</code> for small <code>ζ</code>, and deduce the magnetization <code>M</code>.
          </p>

          <h3>Given</h3>
          <ul>
            <li><code>N± = (N/2)(1±ζ)</code></li>
            <li><code>E0 = (3/10)N ε_F</code> (with <code>ε_F</code> at zero field)</li>
            <li>Magnetic field <code>B</code>, Bohr magneton <code>μ_B</code></li>
          </ul>

          <h3>Unknowns</h3>
          <ul>
            <li><code>E−</code> analogous to given <code>E+</code></li>
            <li>Equilibrium <code>ζ(B)</code> (low-field approximation)</li>
            <li>Magnetization <code>M</code> and show <code>M = (3N μ_B^2 B)/(2 ε_F)</code></li>
          </ul>

          <h3>Relevant principles</h3>
          <ul>
            <li>3D T=0 Fermi-gas energy scaling: <code>E_kin,s = (3/5) N_s ε_F,s</code>, with <code>ε_F,s ∝ n_s^(2/3)</code></li>
            <li>Zeeman coupling: <code>E_Z = -μ·B</code> leading to ±μ<sub>B</sub>B shift</li>
            <li>Variational equilibrium: <code>∂E_total/∂ζ=0</code> at fixed <code>N</code></li>
          </ul>

          <div class="callout assump">
            <strong><span class="tag">Assumptions</span> What we idealize</strong>
            <ul>
              <li>Uniform, noninteracting electron gas (no spatial dependence, no exchange enhancement)</li>
              <li><code>T=0</code> (step-function occupation)</li>
              <li>Weak field: <code>μ_B B ≪ ε_F</code> ⇒ <code>|ζ| ≪ 1</code></li>
            </ul>
          </div>

          <h3>Approaches</h3>
          <ul>
            <li><b>Energy minimization in ζ:</b> direct and matches problem setup.</li>
            <li><b>Chemical potential splitting:</b> faster but less aligned with statement.</li>
            <li><b>Linear-response/Kubo:</b> general but overkill here.</li>
          </ul>
          <p class="muted"><b>Chosen:</b> energy minimization.</p>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <section id="part2" class="card">
          <h2>PART 2 — Strategy & Tips (roadmap only)</h2>

          <ol>
            <li>Use <code>N±=(N/2)(1±ζ)</code> to write densities and Fermi energies per spin.</li>
            <li>Use <code>E_kin,s=(3/5)N_s ε_F,s</code> and <code>ε_F,s∝N_s^(2/3)</code> to get <code>E_kin,s∝(1±ζ)^(5/3)</code>.</li>
            <li>Add Zeeman energy: <code>E_Z,+ = -N+ μ_B B</code>, <code>E_Z,- = +N- μ_B B</code>.</li>
            <li>Sum to get <code>E_total(ζ,B)</code>.</li>
            <li>Differentiate: set <code>∂E_total/∂ζ = 0</code>.</li>
            <li>Expand for <code>|ζ|≪1</code> to solve for <code>ζ</code> to leading order.</li>
            <li>Compute <code>M=μ_B(N+−N−)=N μ_B ζ</code>.</li>
            <li>Check units and limiting cases.</li>
          </ol>

          <div class="callout mist">
            <strong><span class="tag">Common mistakes</span></strong>
            <ul>
              <li>Using the same <code>ε_F</code> for both spins even when <code>ζ≠0</code>.</li>
              <li>Dropping <code>ζ^2</code> too early: the kinetic correction is quadratic; it balances the linear Zeeman term in minimization.</li>
              <li>Mixing up <code>B</code> vs <code>H</code> when converting to SI susceptibility.</li>
            </ul>
          </div>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <section id="part3" class="card">
          <h2>PART 3 — Full Solution (DETAILED + TEACHING)</h2>

          <h3>3.1 Qualitative expectation</h3>
          <p class="muted">
            For <code>B&gt;0</code>, aligned spins lower their energy, so we expect <code>N+ &gt; N−</code> and <code>ζ&gt;0</code>.
            But increasing <code>N+</code> raises its Fermi surface and kinetic energy, so the imbalance should be small when <code>ε_F</code> is large.
            Therefore in weak field, <code>ζ ∝ B</code> and <code>M ∝ B</code>.
          </p>

          <h3>3.2 Kinetic energy structure at T=0</h3>
          <div class="eqbox">
            <div class="eqhead">
              <div class="label">Key equation (one spin species)</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small" data-copy="#eq-kin">Copy equation</button>
                <span class="copystatus" data-status="#eq-kin"></span>
              </div>
            </div>
            <pre id="eq-kin">E_kin,s = (3/5) N_s ε_F,s</pre>
          </div>

          <p class="muted">
            In 3D, counting states gives <code>k_F,s ∝ n_s^(1/3)</code> and thus
            <code>ε_F,s = ħ^2 k_F,s^2/(2m) ∝ n_s^(2/3)</code>.
            Since <code>n_s=N_s/V</code> with fixed <code>V</code>, we have <code>ε_F,s ∝ N_s^(2/3)</code>, hence:
            <code>E_kin,s ∝ N_s * N_s^(2/3) = N_s^(5/3)</code>.
          </p>

          <h3>3.3 Express N± in terms of ζ</h3>
          <p class="muted">
            <code>N+ = (N/2)(1+ζ)</code>, <code>N− = (N/2)(1−ζ)</code>.
            Therefore the kinetic energies can be written in the normalized form using <code>E0=(3/10)N ε_F</code>:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">Kinetic energies in ζ-form</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small" data-copy="#eq-kinz">Copy equation</button>
                <span class="copystatus" data-status="#eq-kinz"></span>
              </div>
            </div>
            <pre id="eq-kinz">E_kin,+ = E0 (1+ζ)^(5/3)
E_kin,- = E0 (1-ζ)^(5/3)</pre>
          </div>

          <p class="muted">
            Consistency check at ζ=0:
            <code>E_kin,total = 2E0 = (3/5)N ε_F</code>, the standard 3D result.
          </p>

          <h3>3.4 Zeeman energy and E+ (as given)</h3>
          <p class="muted">
            Zeeman coupling: <code>E_Z = -μ·B</code>.
            Taking “+” to be aligned (lower energy): each “+” electron contributes <code>-μ_B B</code>, each “−” contributes <code>+μ_B B</code>.
            Thus:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">Zeeman energies</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small" data-copy="#eq-zeeman">Copy equation</button>
                <span class="copystatus" data-status="#eq-zeeman"></span>
              </div>
            </div>
            <pre id="eq-zeeman">E_Z,+ = - N+ μ_B B
E_Z,- = + N- μ_B B</pre>
          </div>

          <p class="muted">
            Substitute <code>N+ = (N/2)(1+ζ)</code>:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">E+ (matches the problem)</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small good" data-copy="#eq-eplus">Copy equation</button>
                <span class="copystatus" data-status="#eq-eplus"></span>
              </div>
            </div>
            <pre id="eq-eplus">E+ = E0 (1+ζ)^(5/3) - (1/2) N μ_B B (1+ζ)</pre>
          </div>

          <h3>3.5 Find the analogous E−</h3>
          <p class="muted">
            Similarly, for spin “−”:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">E− (requested)</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small good" data-copy="#eq-eminus">Copy equation</button>
                <span class="copystatus" data-status="#eq-eminus"></span>
              </div>
            </div>
            <pre id="eq-eminus">E- = E0 (1-ζ)^(5/3) + (1/2) N μ_B B (1-ζ)</pre>
          </div>

          <h3>3.6 Total energy as a function of ζ</h3>
          <p class="muted">
            Add <code>E+</code> and <code>E−</code>. The constant Zeeman parts cancel; the imbalance term remains:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">Total energy</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small" data-copy="#eq-etotal">Copy equation</button>
                <span class="copystatus" data-status="#eq-etotal"></span>
              </div>
            </div>
            <pre id="eq-etotal">E_total(ζ,B) = E0[(1+ζ)^(5/3) + (1-ζ)^(5/3)] - N μ_B B ζ</pre>
          </div>

          <h3>3.7 Minimize: ∂E_total/∂ζ = 0</h3>
          <p class="muted">
            Differentiate term-by-term. Using <code>d/dζ (1±ζ)^(5/3) = (5/3)(1±ζ)^(2/3)(±1)</code>:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">Stationarity condition</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small" data-copy="#eq-stationary">Copy equation</button>
                <span class="copystatus" data-status="#eq-stationary"></span>
              </div>
            </div>
            <pre id="eq-stationary">∂E_total/∂ζ = E0*(5/3)[(1+ζ)^(2/3) - (1-ζ)^(2/3)] - N μ_B B = 0</pre>
          </div>

          <p class="muted">
            This is the exact equilibrium condition within the model.
          </p>

          <h3>3.8 Low-field approximation: |ζ| ≪ 1</h3>
          <p class="muted">
            Expand <code>(1±ζ)^(2/3)</code> for small ζ:
            <code>(1±ζ)^(2/3) ≈ 1 ± (2/3)ζ - (1/9)ζ^2 + O(ζ^3)</code>.
            Subtracting cancels even powers:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">Odd-part expansion</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small" data-copy="#eq-oddexp">Copy equation</button>
                <span class="copystatus" data-status="#eq-oddexp"></span>
              </div>
            </div>
            <pre id="eq-oddexp">(1+ζ)^(2/3) - (1-ζ)^(2/3) ≈ (4/3) ζ + O(ζ^3)</pre>
          </div>

          <p class="muted">
            Insert into the stationarity condition:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">Solve for ζ (linear response)</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small good" data-copy="#eq-zeta">Copy equation</button>
                <span class="copystatus" data-status="#eq-zeta"></span>
              </div>
            </div>
            <pre id="eq-zeta">E0*(5/3)*(4/3) ζ - N μ_B B ≈ 0
⇒ ζ ≈ (9/20) (N μ_B B / E0)</pre>
          </div>

          <p class="muted">
            Substitute <code>E0 = (3/10)N ε_F</code>:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">ζ(B) in terms of εF</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small good" data-copy="#eq-zeta2">Copy equation</button>
                <span class="copystatus" data-status="#eq-zeta2"></span>
              </div>
            </div>
            <pre id="eq-zeta2">ζ ≈ (9/20) * (N μ_B B) / ((3/10)N ε_F)
  = (3/2) (μ_B B / ε_F)</pre>
          </div>

          <h3>3.9 Magnetization and the required expression</h3>
          <p class="muted">
            Total magnetic moment (magnetization in the sense of total moment) is
            <code>M = μ_B(N+ − N−)</code>.
            Since <code>N+ − N− = Nζ</code>:
          </p>

          <div class="eqbox">
            <div class="eqhead">
              <div class="label">Magnetization</div>
              <div style="display:flex; gap:8px; align-items:center">
                <button class="btn small good" data-copy="#eq-m">Copy equation</button>
                <span class="copystatus" data-status="#eq-m"></span>
              </div>
            </div>
            <pre id="eq-m">M = N μ_B ζ ≈ N μ_B * (3/2)(μ_B B / ε_F)
  = (3 N μ_B^2 B) / (2 ε_F)</pre>
          </div>

          <div class="callout final">
            <strong><span class="tag">Final answer</span> Boxed results</strong>
            <div class="eqbox" id="finalbox">
              <div class="eqhead">
                <div class="label">Copy-ready final results</div>
                <div style="display:flex; gap:8px; align-items:center">
                  <button class="btn small good" data-copy="#final-text">Copy final answer</button>
                  <span class="copystatus" data-status="#final-text"></span>
                </div>
              </div>
              <pre id="final-text">E+ = E0 (1+ζ)^(5/3) - (1/2) N μ_B B (1+ζ)
E- = E0 (1-ζ)^(5/3) + (1/2) N μ_B B (1-ζ)
E0 = (3/10) N ε_F

Equilibrium (low-field, |ζ|≪1):
ζ ≈ (3/2)(μ_B B / ε_F)

Magnetization:
M = μ_B(N+ - N-) = N μ_B ζ ≈ (3 N μ_B^2 B)/(2 ε_F)</pre>
            </div>
          </div>

          <h3>3.10 Sanity checks</h3>
          <ul>
            <li><b>Dimensions:</b> <code>μ_B^2 B / ε_F</code> has units <code>J/T</code>, a magnetic moment; multiplying by a pure number and N gives total moment.</li>
            <li><b>Limits:</b> as <code>B→0</code>, <code>ζ→0</code>, <code>M→0</code>.</li>
            <li><b>Sign:</b> for <code>B&gt;0</code>, <code>ζ&gt;0</code>, so <code>M&gt;0</code> (paramagnetic alignment).</li>
          </ul>

          <h3>3.11 One simple static plot (optional learning aid)</h3>
          <p class="muted">
            We plot <code>ζ(B)=(3/2)(μ_B B/ε_F)</code> using example values <code>ε_F=5 eV</code> (typical metal) over <code>B∈[0,10] T</code>.
          </p>

          <figure class="plot">
            <canvas id="plot" width="900" height="520" aria-label="Plot of zeta versus B"></canvas>
            <figcaption>
              <b>Example plot:</b> ζ vs B, using ε<sub>F</sub>=5 eV (example). The relationship is linear and ζ stays tiny for typical metallic ε<sub>F</sub>.
            </figcaption>
          </figure>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <section id="part4" class="card">
          <h2>PART 4 — Deeper Understanding (THEORY AROUND THE RESULT)</h2>

          <h3>4.1 What each term controls</h3>
          <ul>
            <li><b>Zeeman term</b> (linear in ζ): tries to polarize spins because it lowers energy when more spins align with the field.</li>
            <li><b>Kinetic term</b> (even, convex in ζ): penalizes polarization because unequal populations increase the Fermi level of the majority spin.</li>
            <li><b>Balance</b>: minimizing a convex function plus a linear tilt yields a unique small ζ proportional to B.</li>
          </ul>

          <h3>4.2 Parameter dependence</h3>
          <ul>
            <li><code>ζ ∝ B</code>: doubling B doubles polarization in weak fields.</li>
            <li><code>ζ ∝ 1/ε_F</code>: higher density (usually higher ε<sub>F</sub>) reduces response.</li>
            <li><code>M ∝ N</code>: extensive scaling with system size.</li>
          </ul>

          <details>
            <summary>Alternative derivation (chemical potential / DOS idea)</summary>
            <p class="muted" style="margin:10px 0 0">
              A weak field splits spin chemical potentials by <code>±μ_B B</code>.
              The imbalance is proportional to the density of states at ε<sub>F</sub>:
              <code>n+ − n− ≈ 2 g(ε_F) μ_B B</code>, so <code>M ≈ μ_B V(n+−n−)</code>.
              This emphasizes that Pauli paramagnetism is controlled by the states near the Fermi surface.
            </p>
          </details>

          <h3>4.3 Concept checks (with answers)</h3>
          <ul>
            <li><b>Q:</b> Why does the kinetic energy correction start at ζ²? <b>A:</b> symmetry under swapping spins makes it an even function of ζ.</li>
            <li><b>Q:</b> Why is Pauli magnetism weak in metals? <b>A:</b> because <code>μ_B B ≪ ε_F</code>, so ζ is tiny.</li>
            <li><b>Q:</b> What breaks this model? <b>A:</b> strong exchange/interactions, narrow bands, localized moments, or finite-temperature effects if <code>T</code> not ≪ <code>T_F</code>.</li>
          </ul>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <section id="part5" class="card">
          <h2>PART 5 — Optional Plot Guide</h2>

          <h3>What it shows</h3>
          <ul>
            <li><b>X-axis:</b> magnetic field <code>B</code> (tesla, T)</li>
            <li><b>Y-axis:</b> polarization <code>ζ</code> (dimensionless)</li>
            <li><b>Example values:</b> <code>ε_F=5 eV</code>, <code>μ_B=9.274×10^-24 J/T</code></li>
            <li><b>Feature:</b> straight line (linear response). Small slope indicates weak polarization for typical metals.</li>
          </ul>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <footer>
          <div><b>SI note:</b> If you want volume susceptibility, write <code>M_vol = χ H</code> with <code>B≈μ0 H</code> in weakly magnetic materials. Then
            <code>χ ≈ μ0 (3 n μ_B^2)/(2 ε_F)</code> where <code>n=N/V</code>.
          </div>
        </footer>
      </main>
    </div>
  </div>

  <script>
    // Copy-to-clipboard for equation boxes and final answer
    (function(){
      const buttons = document.querySelectorAll('[data-copy]');
      function setStatus(targetSel, msg){
        const el = document.querySelector(`[data-status="${targetSel}"]`);
        if(!el) return;
        el.textContent = msg;
        el.style.opacity = 1;
        clearTimeout(el._t);
        el._t = setTimeout(()=>{ el.style.opacity = 0.85; el.textContent = ""; }, 1200);
      }
      buttons.forEach(btn=>{
        btn.addEventListener('click', async ()=>{
          const sel = btn.getAttribute('data-copy');
          const node = document.querySelector(sel);
          if(!node) return;
          const text = node.textContent.replace(/\n{3,}/g,"\n\n").trim();
          try{
            await navigator.clipboard.writeText(text);
            setStatus(sel, "Copied ✓");
          }catch(e){
            const ta = document.createElement('textarea');
            ta.value = text;
            ta.style.position = 'fixed';
            ta.style.left = '-9999px';
            document.body.appendChild(ta);
            ta.select();
            try{
              document.execCommand('copy');
              setStatus(sel, "Copied ✓");
            }catch(err){
              setStatus(sel, "Copy failed");
            }
            document.body.removeChild(ta);
          }
        });
      });
    })();

    // Single static plot: ζ(B) for example ε_F = 5 eV, B in [0,10] T
    (function(){
      const canvas = document.getElementById('plot');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');

      function ensureRoundRect(){
        if(CanvasRenderingContext2D.prototype.roundRect) return;
        CanvasRenderingContext2D.prototype.roundRect = function(x,y,w,h,r){
          const rr = Math.min(r, w/2, h/2);
          this.beginPath();
          this.moveTo(x+rr, y);
          this.arcTo(x+w, y, x+w, y+h, rr);
          this.arcTo(x+w, y+h, x, y+h, rr);
          this.arcTo(x, y+h, x, y, rr);
          this.arcTo(x, y, x+w, y, rr);
          this.closePath();
          return this;
        }
      }

      function draw(){
        ensureRoundRect();

        const parent = canvas.parentElement;
        const cssW = parent.clientWidth;
        const cssH = Math.round(cssW * (520/900));
        const dpr = Math.max(1, Math.floor(window.devicePixelRatio || 1));

        canvas.style.width = cssW + 'px';
        canvas.style.height = cssH + 'px';
        canvas.width = cssW * dpr;
        canvas.height = cssH * dpr;

        ctx.setTransform(dpr,0,0,dpr,0,0);
        ctx.clearRect(0,0,cssW,cssH);

        const padL = 62, padR = 18, padT = 44, padB = 54;
        const W = cssW - padL - padR;
        const H = cssH - padT - padB;

        // Example constants
        const muB = 9.274009994e-24; // J/T
        const eV = 1.602176634e-19;  // J
        const epsF = 5 * eV;         // J (example)

        const zeta = (B)=> 1.5 * muB * B / epsF;

        const Bmin = 0, Bmax = 10;
        const zmin = 0;
        const zmax = zeta(Bmax) * 1.15;

        const x = (B)=> padL + ( (B - Bmin) / (Bmax - Bmin) ) * W;
        const y = (z)=> padT + (1 - ( (z - zmin)/(zmax - zmin) )) * H;

        const grid = 'rgba(255,255,255,0.10)';
        const axis = 'rgba(255,255,255,0.55)';
        const text = 'rgba(232,238,247,0.92)';
        const curve = 'rgba(125,211,252,0.95)';
        const curve2 = 'rgba(167,139,250,0.90)';

        // Title
        ctx.fillStyle = text;
        ctx.font = '600 14px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillText('Polarization ζ vs Magnetic Field B (example εF = 5 eV)', padL, 20);

        // X ticks
        const xTicks = 6; // 0,2,4,6,8,10
        for(let i=0;i<xTicks;i++){
          const Bt = Bmin + i*(Bmax-Bmin)/(xTicks-1);
          const xx = x(Bt);

          ctx.strokeStyle = grid;
          ctx.lineWidth = 1;
          ctx.beginPath();
          ctx.moveTo(xx, padT);
          ctx.lineTo(xx, padT+H);
          ctx.stroke();

          ctx.strokeStyle = axis;
          ctx.beginPath();
          ctx.moveTo(xx, padT+H);
          ctx.lineTo(xx, padT+H+5);
          ctx.stroke();

          ctx.fillStyle = text;
          ctx.font = '12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
          const label = Bt.toFixed(0);
          const tw = ctx.measureText(label).width;
          ctx.fillText(label, xx - tw/2, padT+H+22);
        }

        // Y ticks
        const yTicks = 5;
        for(let i=0;i<yTicks;i++){
          const zt = zmin + i*(zmax-zmin)/(yTicks-1);
          const yy = y(zt);

          ctx.strokeStyle = grid;
          ctx.beginPath();
          ctx.moveTo(padL, yy);
          ctx.lineTo(padL+W, yy);
          ctx.stroke();

          ctx.strokeStyle = axis;
          ctx.beginPath();
          ctx.moveTo(padL-5, yy);
          ctx.lineTo(padL, yy);
          ctx.stroke();

          ctx.fillStyle = text;
          ctx.font = '12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
          const label = (zt).toExponential(2);
          const tw = ctx.measureText(label).width;
          ctx.fillText(label, padL - 10 - tw, yy + 4);
        }

        // Axes
        ctx.strokeStyle = axis;
        ctx.lineWidth = 1.2;
        ctx.beginPath();
        ctx.moveTo(padL, padT);
        ctx.lineTo(padL, padT+H);
        ctx.lineTo(padL+W, padT+H);
        ctx.stroke();

        // Axis labels
        ctx.fillStyle = text;
        ctx.font = '600 12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillText('B (T)', padL + W/2 - 14, padT+H+42);

        ctx.save();
        ctx.translate(18, padT + H/2);
        ctx.rotate(-Math.PI/2);
        ctx.fillText('ζ (dimensionless)', 0, 0);
        ctx.restore();

        // Curve
        ctx.strokeStyle = curve;
        ctx.lineWidth = 2.2;
        ctx.beginPath();
        const n = 200;
        for(let i=0;i<=n;i++){
          const B = Bmin + (Bmax-Bmin)*i/n;
          const z = zeta(B);
          const xx = x(B);
          const yy = y(z);
          if(i===0) ctx.moveTo(xx,yy);
          else ctx.lineTo(xx,yy);
        }
        ctx.stroke();

        // Legend
        const lx = padL + 10, ly = padT + 10;
        ctx.fillStyle = 'rgba(0,0,0,0.25)';
        ctx.strokeStyle = 'rgba(255,255,255,0.12)';
        ctx.lineWidth = 1;
        ctx.roundRect(lx, ly, 260, 44, 10);
        ctx.fill();
        ctx.stroke();

        ctx.strokeStyle = curve2;
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(lx+12, ly+16);
        ctx.lineTo(lx+40, ly+16);
        ctx.stroke();

        ctx.fillStyle = text;
        ctx.font = '12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillText('ζ = (3/2)(μB B / εF)', lx+50, ly+20);
        ctx.fillStyle = 'rgba(232,238,247,0.78)';
        ctx.fillText('Example: εF = 5 eV, B ∈ [0,10] T', lx+50, ly+36);
      }

      draw();
      let t;
      window.addEventListener('resize', ()=>{
        clearTimeout(t);
        t = setTimeout(draw, 120);
      });
    })();
  </script>
</body>
</html>
