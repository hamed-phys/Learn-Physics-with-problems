<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Interface Plasmons Between Two Metals (Derivation + Applied Perspective)</title>
  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1a2e;
      --panel2:#101f3a;
      --text:#e9eefc;
      --muted:#b8c2e3;
      --faint:#8ea0d6;
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --ok:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --border:rgba(255,255,255,.10);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:var(--sans);
      background: radial-gradient(1200px 800px at 20% 10%, rgba(125,211,252,.13), transparent 55%),
                  radial-gradient(1200px 900px at 80% 20%, rgba(167,139,250,.12), transparent 55%),
                  linear-gradient(180deg, var(--bg), #070b14 70%);
      color:var(--text);
      line-height:1.55;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    header{
      padding:28px 18px 14px;
      position:relative;
      overflow:hidden;
    }
    .wrap{
      max-width:1180px;
      margin:0 auto;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap:18px;
      padding:0 18px 56px;
    }
    .hero{
      max-width:1180px;
      margin:0 auto;
      padding:14px 18px 18px;
    }
    .title{
      display:flex;
      flex-direction:column;
      gap:10px;
      padding:18px;
      background: linear-gradient(135deg, rgba(125,211,252,.14), rgba(167,139,250,.12));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .title h1{
      margin:0;
      font-size: clamp(1.35rem, 1.1rem + 1.2vw, 2.1rem);
      letter-spacing:.2px;
    }
    .subtitle{
      color:var(--muted);
      font-size: .98rem;
      max-width: 76ch;
    }
    .meta{
      display:flex; flex-wrap:wrap; gap:8px;
      color:var(--faint);
      font-size:.92rem;
    }
    .pill{
      border:1px solid var(--border);
      background: rgba(15,26,46,.55);
      padding:6px 10px;
      border-radius:999px;
      backdrop-filter: blur(8px);
    }

    nav.toc{
      position:sticky;
      top:14px;
      align-self:start;
      background: linear-gradient(180deg, rgba(15,26,46,.95), rgba(16,31,58,.9));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:14px 14px 10px;
      max-height: calc(100vh - 26px);
      overflow:auto;
    }
    nav.toc h2{
      font-size:1rem;
      margin:0 0 8px;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .toc small{color:var(--muted); font-weight:500}
    .toc ul{list-style:none; padding:0; margin:10px 0 0; display:grid; gap:6px;}
    .toc a{
      display:block;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid transparent;
      color:var(--text);
      background: rgba(255,255,255,.03);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      font-size:.95rem;
    }
    .toc a:hover{
      background: rgba(125,211,252,.09);
      border-color: rgba(125,211,252,.25);
      transform: translateY(-1px);
      text-decoration:none;
    }
    main{
      background: rgba(15,26,46,.35);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    article{
      padding: 18px 18px 22px;
    }

    section{
      padding: 14px 0;
      border-top:1px solid rgba(255,255,255,.08);
    }
    section:first-child{border-top:none}
    h2{
      margin: 0 0 10px;
      font-size: clamp(1.15rem, 1rem + .55vw, 1.55rem);
    }
    h3{
      margin: 14px 0 8px;
      font-size: 1.05rem;
      color: #f1f5ff;
    }
    p{margin: 8px 0}
    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 980px){
      .wrap{grid-template-columns: 1fr; }
      nav.toc{position:relative; top:auto; max-height:none;}
    }
    @media (max-width: 720px){
      .grid2{grid-template-columns:1fr;}
    }

    .callout{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(16,31,58,.65), rgba(15,26,46,.5));
      border-radius: 16px;
      padding: 12px 12px 10px;
      margin: 10px 0;
    }
    .callout strong{color:#ffffff}
    .callout .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-bottom:8px;
      font-weight:700;
      letter-spacing:.15px;
    }
    .tag .dot{
      width:10px; height:10px; border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(125,211,252,.12);
    }
    .tag.warn .dot{background: var(--warn); box-shadow: 0 0 0 4px rgba(251,191,36,.12);}
    .tag.ok .dot{background: var(--ok); box-shadow: 0 0 0 4px rgba(52,211,153,.12);}
    .tag.bad .dot{background: var(--bad); box-shadow: 0 0 0 4px rgba(251,113,133,.12);}

    .eqbox{
      margin:10px 0;
      border:1px solid rgba(125,211,252,.25);
      background: rgba(125,211,252,.06);
      border-radius: 16px;
      padding:12px;
      overflow:hidden;
    }
    .eqrow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .eq{
      font-family: var(--mono);
      white-space: pre-wrap;
      word-break: break-word;
      color:#eaf6ff;
      font-size: .98rem;
      line-height:1.45;
      margin:0;
      flex:1 1 520px;
    }
    .btn{
      appearance:none;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--text);
      padding:8px 10px;
      border-radius: 12px;
      cursor:pointer;
      font-weight:650;
      font-size:.9rem;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }
    .btn:hover{
      background: rgba(125,211,252,.10);
      border-color: rgba(125,211,252,.25);
      transform: translateY(-1px);
    }
    .btn:active{transform: translateY(0px) scale(.99);}
    .btn.small{padding:6px 9px; font-size:.86rem;}
    .btn.copy-ok{
      border-color: rgba(52,211,153,.35);
      background: rgba(52,211,153,.10);
    }

    details{
      border:1px solid rgba(255,255,255,.10);
      border-radius: 16px;
      padding: 10px 12px;
      background: rgba(255,255,255,.03);
      margin: 10px 0;
    }
    summary{
      cursor:pointer;
      font-weight:750;
      color:#f3f6ff;
      outline:none;
    }
    summary::-webkit-details-marker{display:none}
    summary:before{
      content:"▸";
      margin-right:10px;
      color: var(--accent);
      display:inline-block;
      transform: translateY(-1px);
      transition: transform .15s ease;
    }
    details[open] summary:before{transform: rotate(90deg) translateX(1px);}
    .backtop{
      display:inline-flex;
      gap:8px;
      align-items:center;
      margin-top: 10px;
      padding:8px 10px;
      border:1px solid var(--border);
      border-radius: 999px;
      background: rgba(255,255,255,.04);
      width:max-content;
    }
    .muted{color:var(--muted)}
    .tiny{font-size:.92rem}
    figure{
      margin: 12px 0;
      padding: 12px;
      border:1px solid rgba(255,255,255,.10);
      border-radius: 16px;
      background: rgba(255,255,255,.03);
    }
    figcaption{color:var(--muted); font-size:.92rem; margin-top:8px}
    canvas{
      width:100%;
      height:auto;
      display:block;
      border-radius: 12px;
      background: rgba(7,11,20,.55);
      border:1px solid rgba(255,255,255,.10);
    }

    footer{
      max-width:1180px;
      margin: 0 auto;
      padding: 18px;
      color: var(--muted);
      font-size:.92rem;
    }

    /* Print-friendly */
    @media print{
      body{background:#fff; color:#000;}
      header, nav.toc, .btn, .backtop {display:none !important;}
      main{box-shadow:none; border:none; background:#fff;}
      article{padding:0}
      section{break-inside:avoid; page-break-inside:avoid;}
      .callout, .eqbox, figure, details{
        border:1px solid #bbb !important;
        background:#fff !important;
      }
      .eq{color:#000;}
    }
  </style>
</head>
<body>
  <header id="top">
    <div class="hero">
      <div class="title">
        <h1>Interface Plasmons at a Metal–Metal Boundary: Deriving the Frequency</h1>
        <div class="subtitle">
          Two semi-infinite free-electron metals meet at the plane <span class="muted">z = 0</span>.
          We derive the interface (surface) plasmon frequency using a clean mathematical physics model (Laplace/Maxwell + boundary conditions),
          then connect it to real engineering practice.
        </div>
        <div class="meta">
          <span class="pill">Electrostatic (non-retarded) surface mode</span>
          <span class="pill">Drude dielectric response</span>
          <span class="pill">Boundary-value / eigenfrequency problem</span>
          <span class="pill">Applied: plasmonics, sensors, thin films</span>
        </div>
      </div>
    </div>
  </header>

  <div class="wrap">
    <nav class="toc" aria-label="Table of Contents">
      <h2>
        <span>Contents</span>
        <small class="muted">sticky</small>
      </h2>
      <ul>
        <li><a href="#quick">Quick Summary</a></li>
        <li><a href="#part0">PART 0 — Concept Primer</a></li>
        <li><a href="#part0b">PART 0B — Industry & Applied Physics</a></li>
        <li><a href="#part1">PART 1 — Problem Analysis</a></li>
        <li><a href="#part2">PART 2 — Strategy & Tips</a></li>
        <li><a href="#part3">PART 3 — Full Solution</a></li>
        <li><a href="#part4">PART 4 — Deeper Understanding</a></li>
        <li><a href="#part5">PART 5 — Optional Plot Guide</a></li>
      </ul>
    </nav>

    <main>
      <article>
        <!-- Quick Summary -->
        <section id="quick">
          <h2>Quick Summary</h2>
          <ul>
            <li><strong>What this is:</strong> A localized charge-density oscillation bound to the plane interface between <em>two different metals</em>.</li>
            <li><strong>Key physics idea:</strong> In the electrostatic (quasi-static) limit, the interface mode exists when the normal displacement field boundary condition forces <span class="muted">ε₁(ω) + ε₂(ω) = 0</span>.</li>
            <li><strong>Governing equations:</strong> Maxwell in the non-retarded limit → <span class="muted">∇×E = 0</span>, <span class="muted">∇·D = 0</span>, with <span class="muted">E = −∇φ</span> and <span class="muted">∇·(ε∇φ)=0</span> (piecewise).</li>
            <li><strong>Material model:</strong> Free-electron Drude (lossless) dielectric function <span class="muted">ε(ω)=1−ω<sub>p</sub><sup>2</sup>/ω<sup>2</sup></span>.</li>
            <li><strong>Result type:</strong> Symbolic eigenfrequency (no numbers needed), plus one illustrative plot using example normalization.</li>
            <li><strong>Final frequency:</strong> <span class="muted">ω = [ (ω<sub>p1</sub><sup>2</sup> + ω<sub>p2</sub><sup>2</sup>)/2 ]<sup>1/2</sup></span>.</li>
            <li><strong>Meaning:</strong> The interface plasmon frequency is the RMS-like average of the two bulk plasma frequencies, scaled by <span class="muted">1/√2</span>.</li>
            <li><strong>Sanity checks:</strong> If metal 2 behaves like vacuum (<span class="muted">ω<sub>p2</sub>→0 ⇒ ε₂→1</span>), we recover the classic metal–vacuum surface plasmon <span class="muted">ω=ω<sub>p1</sub>/√2</span>.</li>
          </ul>
          <a class="backtop" href="#top" aria-label="Back to top">↑ Back to top</a>
        </section>

        <!-- PART 0 -->
        <section id="part0">
          <h2>PART 0 — Concept Primer (Theory Before Solving)</h2>

          <div class="grid2">
            <div class="callout">
              <div class="tag ok"><span class="dot"></span><span>Core Definitions (symbols + SI units)</span></div>
              <ul class="tiny">
                <li><strong>Interface:</strong> plane <span class="muted">z=0</span>; metal 1 occupies <span class="muted">z&gt;0</span>, metal 2 occupies <span class="muted">z&lt;0</span>.</li>
                <li><strong>Electric field:</strong> <span class="muted">E(r,t)</span> (V/m); <strong>scalar potential:</strong> <span class="muted">φ(r,t)</span> (V) with <span class="muted">E=−∇φ</span> in electrostatics.</li>
                <li><strong>Displacement:</strong> <span class="muted">D = ε₀ ε(ω) E</span> (C/m²). Here <span class="muted">ε(ω)</span> is the relative dielectric function.</li>
                <li><strong>Bulk plasma frequency:</strong> <span class="muted">ω<sub>p</sub></span> (rad/s), with microscopic form <span class="muted">ω<sub>p</sub><sup>2</sup>=ne²/(mε₀)</span> for free electrons.</li>
                <li><strong>Surface (interface) plasmon:</strong> an eigenmode with fields decaying away from the interface: <span class="muted">|E| ∝ e^{−k|z|}</span>.</li>
              </ul>
            </div>

            <div class="callout">
              <div class="tag"><span class="dot"></span><span>Physical Meaning & Validity Conditions</span></div>
              <p class="tiny">
                A surface plasmon is a collective oscillation of conduction electrons coupled to an electric field that is strongest at the boundary.
                The mode is <em>bound</em> because the potential solves Laplace’s equation and must decay in both half-spaces.
              </p>
              <ul class="tiny">
                <li><strong>Quasi-static (non-retarded) regime:</strong> typical when in-plane wavevector <span class="muted">k</span> is large so phase speed <span class="muted">ω/k</span> is much smaller than <span class="muted">c</span>.</li>
                <li><strong>Linear response:</strong> <span class="muted">D = ε₀ ε(ω) E</span> with frequency-domain <span class="muted">ε(ω)</span>.</li>
                <li><strong>Lossless Drude idealization:</strong> ignores damping <span class="muted">γ</span>; good for clean derivations and for frequencies not too close to strong interband absorption.</li>
              </ul>
            </div>
          </div>

          <h3>Key laws/principles used (with operator notation)</h3>
          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq0">Maxwell (frequency domain, no free charge in the bulk):
∇×E = 0     ⇒   E = −∇φ
∇·D = 0     with D = ε0 ε(ω) E

Therefore, in each homogeneous half-space i:
∇·(εi(ω) ∇φi) = 0
Since εi is constant in region i:  εi(ω) ∇²φi = 0  ⇒  ∇²φi = 0</pre>
              <button class="btn small" data-copy="#eq0">Copy equation</button>
            </div>
          </div>

          <h3>Common models/approximations (and why)</h3>
          <ul>
            <li><strong>Drude free-electron dielectric:</strong> <span class="muted">ε(ω)=1−ω<sub>p</sub><sup>2</sup>/ω<sup>2</sup></span> (lossless) captures collective electron inertia vs restoring field.</li>
            <li><strong>Electrostatic surface mode:</strong> replaces full wave equation by Laplace’s equation (simplifies to a boundary eigenvalue condition).</li>
            <li><strong>Planar symmetry:</strong> invariance along x–y suggests Fourier separation <span class="muted">e^{i(kx+ky)−iωt}</span> and exponential decay in z.</li>
          </ul>

          <h3>Mini intuition examples (conceptual)</h3>
          <ul>
            <li><strong>Metal–vacuum:</strong> a single metal next to vacuum supports a surface plasmon at <span class="muted">ω=ω<sub>p</sub>/√2</span> (in the same quasi-static limit).</li>
            <li><strong>Metal–dielectric:</strong> replacing vacuum (<span class="muted">ε=1</span>) with a dielectric (<span class="muted">ε=ε<sub>d</sub></span>) shifts the surface plasmon frequency downward.</li>
            <li><strong>Metal–metal:</strong> both sides are “plasmon-active,” so the boundary condition blends both plasma frequencies.</li>
          </ul>

          <div class="callout">
            <div class="tag warn"><span class="dot"></span><span>What to watch for (pitfalls)</span></div>
            <ul class="tiny">
              <li><strong>Sign conventions:</strong> be consistent with decay: for <span class="muted">z&gt;0</span> use <span class="muted">e^{-kz}</span>; for <span class="muted">z&lt;0</span> use <span class="muted">e^{+kz}</span>.</li>
              <li><strong>Boundary conditions:</strong> at an interface with no externally imposed free surface charge, enforce continuity of <span class="muted">φ</span> (tangential E) and continuity of <span class="muted">D<sub>n</sub></span>.</li>
              <li><strong>Regime:</strong> this derivation is the <em>electrostatic limit</em>; full retarded SPP dispersion adds <span class="muted">c</span> and frequency-dependent wave propagation.</li>
              <li><strong>Identical metals:</strong> mathematically gives <span class="muted">ω=ω<sub>p</sub></span>, but physical “localization” becomes degenerate (the interface is not a true contrast).</li>
            </ul>
          </div>

          <div class="callout">
            <div class="tag"><span class="dot"></span><span>Math Insight</span></div>
            <p class="tiny">
              This is an <strong>eigenvalue problem</strong> for <span class="muted">ω</span> arising from a <strong>boundary-value problem</strong>:
              Laplace’s equation <span class="muted">∇²φ=0</span> admits decaying solutions, and the interface boundary conditions yield a
              <strong>nontrivial-solution condition</strong> (determinant = 0) that becomes the dispersion/eigenfrequency relation
              <span class="muted">ε₁(ω)+ε₂(ω)=0</span>.
            </p>
          </div>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <!-- PART 0B -->
        <section id="part0b">
          <h2>PART 0B — Industry & Applied Physics Perspective</h2>

          <h3>Where interface plasmons show up (real applications)</h3>
          <ul>
            <li><strong>Thin-film stacks & coatings:</strong> metal–metal multilayers (e.g., adhesion layers, diffusion barriers) can host interface modes affecting optical absorption and heating.</li>
            <li><strong>Plasmonic sensors:</strong> resonance shifts are used for refractive index sensing; metal–metal interfaces appear in robust electrode/sensing architectures.</li>
            <li><strong>Nanofabrication & interconnects:</strong> plasmonic losses and field localization can influence electromigration hot spots and local Joule heating in dense metal lines.</li>
            <li><strong>Photothermal devices:</strong> engineered absorption in layered metals for thermal emitters, IR camouflage, and localized heating.</li>
          </ul>

          <h3>Why engineers care</h3>
          <ul>
            <li><strong>Performance:</strong> interface plasmon frequencies set where energy is concentrated at boundaries (useful for enhancement or harmful for loss).</li>
            <li><strong>Reliability:</strong> strong interfacial fields can accelerate diffusion, oxidation, or local heating—important in manufacturing tolerances and lifetime.</li>
            <li><strong>Cost & manufacturability:</strong> multilayer metal stacks are common; understanding interface resonances can avoid “mystery absorption” and yield variation.</li>
          </ul>

          <h3>Typical measurement/validation methods</h3>
          <ul>
            <li><strong>Optical spectroscopy / ellipsometry:</strong> to infer effective <span class="muted">ε(ω)</span> and resonant features.</li>
            <li><strong>EELS (electron energy-loss spectroscopy):</strong> in TEM for nanoscale plasmon mapping (very direct for interface modes).</li>
            <li><strong>Near-field probes (SNOM/NSOM):</strong> to image localized plasmonic fields at interfaces.</li>
          </ul>

          <h3>Design trade-offs & non-idealities</h3>
          <ul>
            <li><strong>Damping (γ):</strong> real Drude metals have finite loss → resonance broadening and reduced Q.</li>
            <li><strong>Interband transitions:</strong> at optical frequencies, <span class="muted">ε(ω)</span> deviates from Drude; shifts the mode.</li>
            <li><strong>Roughness & interdiffusion:</strong> the “sharp interface” idealization breaks; the mode can hybridize or smear out.</li>
            <li><strong>Finite thickness:</strong> in thin films, two interfaces couple → symmetric/antisymmetric plasmon splitting.</li>
          </ul>

          <details>
            <summary>From lab to product: how the idealized model is adapted</summary>
            <p class="tiny">
              In engineering workflows, the clean condition <span class="muted">ε₁(ω)+ε₂(ω)=0</span> becomes a starting point.
              Designers replace Drude parameters by measured optical constants, include damping (<span class="muted">ε(ω)=1−ωp²/(ω²+iγω)</span>),
              add finite-thickness transfer-matrix modeling, and include roughness via effective-medium or scattering loss terms.
              The “interface plasmon frequency” remains a useful anchor for intuition and first-pass design.
            </p>
          </details>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <!-- PART 1 -->
        <section id="part1">
          <h2>PART 1 — Problem Analysis (No Solving Yet)</h2>

          <h3>Restating the problem</h3>
          <p>
            We have a planar interface at <span class="muted">z=0</span> between two semi-infinite metals:
            metal 1 for <span class="muted">z&gt;0</span> with bulk plasma frequency <span class="muted">ω<sub>p1</sub></span>, and
            metal 2 for <span class="muted">z&lt;0</span> with bulk plasma frequency <span class="muted">ω<sub>p2</sub></span>.
            Each metal is modeled as a free-electron gas (Drude). Show that the interface supports a surface plasmon with frequency
            <span class="muted">ω = [ (ω<sub>p1</sub><sup>2</sup> + ω<sub>p2</sub><sup>2</sup>)/2 ]<sup>1/2</sup></span>.
          </p>

          <h3>Given, unknowns, and target</h3>
          <ul>
            <li><strong>Given:</strong> <span class="muted">ω<sub>p1</sub>, ω<sub>p2</sub></span>; planar geometry; Drude free-electron dielectric in each region.</li>
            <li><strong>Unknown:</strong> eigenfrequency <span class="muted">ω</span> of a bound interface mode (and its field shape up to constants).</li>
            <li><strong>Must show:</strong> the above formula for <span class="muted">ω</span>.</li>
          </ul>

          <h3>Relevant principles and why they apply</h3>
          <ul>
            <li><strong>Electrostatic/quasi-static Maxwell form:</strong> for surface plasmons in the large-k (non-retarded) limit, fields are primarily longitudinal and described by a scalar potential.</li>
            <li><strong>Boundary conditions at z=0:</strong> continuity of <span class="muted">φ</span> and continuity of <span class="muted">D<sub>n</sub></span> (no externally imposed free surface charge).</li>
            <li><strong>Drude response:</strong> provides <span class="muted">ε(ω)</span> so the boundary condition becomes an equation for <span class="muted">ω</span>.</li>
          </ul>
          <p class="muted tiny">
            We do <em>not</em> need full electromagnetic wave propagation (retardation) to get this frequency; Laplace’s equation suffices.
          </p>

          <div class="callout">
            <div class="tag ok"><span class="dot"></span><span>Assumptions (explicit)</span></div>
            <ul class="tiny">
              <li>Semi-infinite half-spaces; perfectly planar interface at <span class="muted">z=0</span>.</li>
              <li>Linear, local dielectric response: <span class="muted">D = ε₀ ε(ω) E</span>.</li>
              <li>Lossless Drude model (no damping): <span class="muted">ε(ω)=1−ωp²/ω²</span>.</li>
              <li>Electrostatic (non-retarded) limit: <span class="muted">∇×E=0</span> and <span class="muted">∇²φ=0</span> in each region.</li>
              <li>No externally imposed free surface charge at the interface (eigenmode condition): <span class="muted">D<sub>n</sub></span> continuous.</li>
            </ul>
          </div>

          <h3>Possible approaches (compare)</h3>
          <ol>
            <li><strong>Electrostatic potential method (best here):</strong> Solve <span class="muted">∇²φ=0</span> with decaying exponentials and apply boundary conditions → simple eigenvalue condition <span class="muted">ε₁+ε₂=0</span>. <em>Pros:</em> short, rigorous, highlights math structure. <em>Cons:</em> limited to quasi-static regime.</li>
            <li><strong>Full Maxwell SPP dispersion:</strong> Use wave equations and obtain general dispersion <span class="muted">k(ω)</span>; then take large-k limit to extract the same frequency. <em>Pros:</em> more general. <em>Cons:</em> heavier algebra, unnecessary for this prompt.</li>
            <li><strong>Energy/variational viewpoint:</strong> Use electrostatic energy and continuity constraints to infer resonance when boundary condition flips sign. <em>Pros:</em> intuition. <em>Cons:</em> less direct to a clean formula without more setup.</li>
          </ol>
          <p><strong>Choice:</strong> We use the electrostatic potential method because the problem asks only for the frequency and provides Drude metals.</p>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <!-- PART 2 -->
        <section id="part2">
          <h2>PART 2 — Strategy & Tips (Roadmap Only)</h2>

          <ol>
            <li><strong>Set geometry & coordinates:</strong> choose interface plane <span class="muted">z=0</span>, in-plane direction <span class="muted">x</span>. <span class="muted">(Goal: exploit translational symmetry.)</span></li>
            <li><strong>Adopt quasi-static Maxwell:</strong> <span class="muted">∇×E=0 ⇒ E=−∇φ</span>, and in each region <span class="muted">∇·D=0</span> with <span class="muted">D=ε₀ε(ω)E</span>. <span class="muted">(Goal: get PDE for φ.)</span></li>
            <li><strong>Reduce to Laplace:</strong> since each region has constant <span class="muted">εi(ω)</span>, obtain <span class="muted">∇²φi=0</span> for <span class="muted">z≷0</span>. <span class="muted">(Goal: solvable BVP.)</span></li>
            <li><strong>Separate variables with planar wave:</strong> try <span class="muted">φi(x,z,t)=Φi(z) e^{ikx−iωt}</span>. <span class="muted">(Goal: convert PDE → ODE in z.)</span></li>
            <li><strong>Enforce bound-state decay:</strong> choose <span class="muted">Φ1∝e^{−kz}</span> for <span class="muted">z&gt;0</span> and <span class="muted">Φ2∝e^{+kz}</span> for <span class="muted">z&lt;0</span>. <span class="muted">(Goal: localization.)</span></li>
            <li><strong>Apply boundary conditions at z=0:</strong> continuity of <span class="muted">φ</span> and continuity of <span class="muted">D<sub>n</sub>=ε₀ε ∂φ/∂n</span>. <span class="muted">(Goal: eigenfrequency condition.)</span></li>
            <li><strong>Get interface condition:</strong> obtain <span class="muted">ε1(ω)+ε2(ω)=0</span>. <span class="muted">(Goal: scalar equation for ω.)</span></li>
            <li><strong>Insert Drude ε(ω):</strong> solve algebraically for <span class="muted">ω</span> in terms of <span class="muted">ωp1, ωp2</span>.</li>
            <li><strong>Sanity checks:</strong> dimensions, limiting cases (<span class="muted">ωp2→0</span>, <span class="muted">ωp1=ωp2</span>).</li>
          </ol>

          <div class="callout">
            <div class="tag warn"><span class="dot"></span><span>Common mistakes</span></div>
            <ul class="tiny">
              <li>Using <span class="muted">∇²φ=0</span> globally without acknowledging it’s piecewise (different ε in each half-space).</li>
              <li>Choosing the wrong sign in the exponential decay (leading to fields blowing up as <span class="muted">|z|→∞</span>).</li>
              <li>Mixing up continuity of <span class="muted">E<sub>n</sub></span> vs <span class="muted">D<sub>n</sub></span>: it is <span class="muted">D<sub>n</sub></span> that is continuous when there’s no free surface charge.</li>
              <li>Forgetting the Drude “1” (background) term: <span class="muted">ε(ω)=1−ωp²/ω²</span>, not just <span class="muted">−ωp²/ω²</span>.</li>
            </ul>
          </div>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <!-- PART 3 -->
        <section id="part3">
          <h2>PART 3 — Full Solution (Detailed + Teaching)</h2>

          <h3>Physical intuition first (what we expect)</h3>
          <p>
            A surface plasmon at an interface is like a “capacitor-like” oscillation:
            charges accumulate on the interface, creating an electric field that decays away from the plane.
            For a metal–vacuum interface, the restoring field is partly in vacuum, giving <span class="muted">ω=ωp/√2</span>.
            For metal–metal, both sides contribute to screening/restoring, so the frequency should depend on both <span class="muted">ωp1</span> and <span class="muted">ωp2</span>, and reduce to the metal–vacuum value when one side is effectively vacuum-like.
          </p>

          <h3>Step 1: Mathematical model (domains, variables, boundary conditions)</h3>
          <div class="callout">
            <div class="tag"><span class="dot"></span><span>Model Setup</span></div>
            <ul class="tiny">
              <li><strong>Domains:</strong> Region 1: <span class="muted">Ω1={z&gt;0}</span>, Region 2: <span class="muted">Ω2={z&lt;0}</span>.</li>
              <li><strong>Coordinates:</strong> Cartesian <span class="muted">(x,y,z)</span>, interface at <span class="muted">z=0</span>.</li>
              <li><strong>Unknown field:</strong> scalar potential <span class="muted">φ(x,y,z,t)</span>.</li>
              <li><strong>Time dependence:</strong> harmonic <span class="muted">e^{-iωt}</span>.</li>
              <li><strong>Boundary conditions at z=0 (no external free σ):</strong>
                <ul>
                  <li>(BC1) continuity of potential: <span class="muted">φ1 = φ2</span> at <span class="muted">z=0</span>.</li>
                  <li>(BC2) continuity of normal displacement: <span class="muted">D1n = D2n</span> at <span class="muted">z=0</span>, i.e.
                    <span class="muted">ε1(ω) ∂φ1/∂z = ε2(ω) ∂φ2/∂z</span> (because <span class="muted">D = ε0 ε E</span> and <span class="muted">E = −∇φ</span>).</li>
                </ul>
              </li>
              <li><strong>Decay condition:</strong> <span class="muted">φ</span> must remain bounded and decay as <span class="muted">z→±∞</span> (localized interface mode).</li>
            </ul>
          </div>

          <h3>Step 2: Governing PDE from quasi-static Maxwell</h3>
          <p>
            In the electrostatic limit, we use:
            <span class="muted">∇×E = 0</span> so <span class="muted">E = −∇φ</span>.
            In each metal bulk (away from the interface) we assume no free volume charge for the eigenmode, so
            <span class="muted">∇·D = 0</span>, with <span class="muted">D = ε₀ ε(ω) E</span>.
          </p>

          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq1">In region i (i = 1 for z>0, i = 2 for z<0):
D_i = ε0 ε_i(ω) E_i
E_i = −∇φ_i

∇·D_i = 0  ⇒  ∇·(ε0 ε_i(ω) (−∇φ_i)) = 0
Since ε0 is constant and ε_i(ω) is constant within each region:
ε_i(ω) ∇²φ_i = 0  ⇒  ∇²φ_i = 0</pre>
              <button class="btn small" data-copy="#eq1">Copy equation</button>
            </div>
          </div>

          <p class="tiny muted">
            <strong>Why this step is valid:</strong> linear constitutive relation, homogeneous half-spaces (ε constant in each region),
            and using the electrostatic identity that irrotational fields admit a scalar potential.
          </p>

          <h3>Step 3: Use planar symmetry and separate variables</h3>
          <p>
            The interface is translationally invariant in <span class="muted">x</span> and <span class="muted">y</span>.
            Therefore we seek a single in-plane Fourier component (without loss of generality, take propagation along x):
          </p>

          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq2">Ansatz (harmonic in x and t):
φ_i(x,z,t) = Φ_i(z) e^{ikx} e^{-iωt}
(k is the in-plane wavevector magnitude, units: 1/m)</pre>
              <button class="btn small" data-copy="#eq2">Copy equation</button>
            </div>
          </div>

          <p>
            Insert into Laplace’s equation. Since <span class="muted">∇² = ∂²/∂x² + ∂²/∂z²</span> (we can ignore y for this mode),
            we get:
          </p>

          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq3">∇²φ_i = 0 ⇒ (∂²/∂x² + ∂²/∂z²)[Φ_i(z)e^{ikx}] = 0
Compute derivatives:
∂²/∂x² (Φ_i e^{ikx}) = (−k²) Φ_i e^{ikx}
∂²/∂z² (Φ_i e^{ikx}) = (Φ_i''(z)) e^{ikx}

So:
(−k² Φ_i + Φ_i'') e^{ikx} = 0  ⇒  Φ_i''(z) − k² Φ_i(z) = 0</pre>
              <button class="btn small" data-copy="#eq3">Copy equation</button>
            </div>
          </div>

          <p class="tiny muted">
            <strong>Math note:</strong> We reduced a PDE to a constant-coefficient ODE by separability and planar symmetry.
          </p>

          <h3>Step 4: Impose localization (decay away from z=0)</h3>
          <p>
            The ODE <span class="muted">Φ'' − k²Φ = 0</span> has solutions <span class="muted">e^{±kz}</span>.
            A bound interface mode must decay as <span class="muted">z→+∞</span> in region 1 and as <span class="muted">z→−∞</span> in region 2:
          </p>

          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq4">Region 1 (z > 0): choose decaying solution  Φ1(z) = A e^{−k z}
Region 2 (z < 0): choose decaying solution  Φ2(z) = B e^{+k z}
Therefore:
φ1 = A e^{−k z} e^{ikx} e^{−iωt},   z>0
φ2 = B e^{+k z} e^{ikx} e^{−iωt},   z<0</pre>
              <button class="btn small" data-copy="#eq4">Copy equation</button>
            </div>
          </div>

          <h3>Step 5: Boundary conditions at z=0</h3>
          <p>
            (BC1) continuity of <span class="muted">φ</span> at <span class="muted">z=0</span> gives:
          </p>
          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq5">φ1(z=0) = φ2(z=0)  ⇒  A = B</pre>
              <button class="btn small" data-copy="#eq5">Copy equation</button>
            </div>
          </div>

          <p>
            (BC2) continuity of normal displacement <span class="muted">D_n</span>.
            The unit normal along +z is <span class="muted">n = +ẑ</span>, so <span class="muted">D_n = D·ẑ = ε0 ε E_z</span>.
            And <span class="muted">E_z = −∂φ/∂z</span>.
            Thus continuity of <span class="muted">D_n</span> is:
          </p>

          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq6">D1n = D2n  ⇒  ε0 ε1 E1z = ε0 ε2 E2z  ⇒  ε1 E1z = ε2 E2z
With Eiz = −∂φi/∂z:
ε1 (−∂φ1/∂z) = ε2 (−∂φ2/∂z)  ⇒  ε1 ∂φ1/∂z = ε2 ∂φ2/∂z</pre>
              <button class="btn small" data-copy="#eq6">Copy equation</button>
            </div>
          </div>

          <p>Compute the z-derivatives at <span class="muted">z=0</span>:</p>
          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq7">φ1 = A e^{−kz} e^{ikx} e^{−iωt}  ⇒  ∂φ1/∂z = (−k) A e^{−kz} e^{ikx} e^{−iωt}
At z=0:  (∂φ1/∂z)|0 = −k A e^{ikx} e^{−iωt}

φ2 = B e^{+kz} e^{ikx} e^{−iωt}  ⇒  ∂φ2/∂z = (+k) B e^{+kz} e^{ikx} e^{−iωt}
At z=0:  (∂φ2/∂z)|0 = +k B e^{ikx} e^{−iωt}</pre>
              <button class="btn small" data-copy="#eq7">Copy equation</button>
            </div>
          </div>

          <p>Insert into the boundary condition <span class="muted">ε1 ∂φ1/∂z = ε2 ∂φ2/∂z</span> at <span class="muted">z=0</span>:</p>
          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq8">ε1 (−k A e^{ikx} e^{−iωt}) = ε2 (+k B e^{ikx} e^{−iωt})
Cancel common nonzero factors (k, e^{ikx}, e^{−iωt}):
−ε1 A = ε2 B
Using A = B from continuity of φ:
−ε1 = ε2  ⇒  ε1(ω) + ε2(ω) = 0</pre>
              <button class="btn small" data-copy="#eq8">Copy equation</button>
            </div>
          </div>

          <p class="tiny muted">
            <strong>Why cancellation is valid:</strong> We seek a nontrivial mode (<span class="muted">A≠0</span>), with <span class="muted">k&gt;0</span>.
            The exponential/time factors are never identically zero, so the remaining coefficient equation must hold.
          </p>

          <h3>Step 6: Insert Drude dielectrics and solve for ω</h3>
          <p>
            For a lossless free-electron metal:
            <span class="muted">εi(ω) = 1 − ω<sub>pi</sub><sup>2</sup>/ω<sup>2</sup></span>, for <span class="muted">i=1,2</span>.
            Plug into <span class="muted">ε1(ω)+ε2(ω)=0</span>:
          </p>

          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="eq9">ε1 + ε2 = 0
(1 − ωp1^2/ω^2) + (1 − ωp2^2/ω^2) = 0
2 − (ωp1^2 + ωp2^2)/ω^2 = 0

Rearrange:
(ωp1^2 + ωp2^2)/ω^2 = 2
⇒ ω^2 = (ωp1^2 + ωp2^2)/2
⇒ ω = sqrt( (ωp1^2 + ωp2^2)/2 )</pre>
              <button class="btn small" data-copy="#eq9">Copy equation</button>
            </div>
          </div>

          <div class="eqbox" style="border-color: rgba(167,139,250,.35); background: rgba(167,139,250,.08);">
            <div class="eqrow">
              <pre class="eq" id="finalAnswer">FINAL RESULT (interface plasmon frequency):
ω = [ (ωp1^2 + ωp2^2)/2 ]^(1/2)</pre>
              <button class="btn small" data-copy="#finalAnswer">Copy final answer</button>
            </div>
          </div>

          <h3>Sanity checks</h3>
          <div class="grid2">
            <div class="callout">
              <div class="tag ok"><span class="dot"></span><span>Units / dimensional analysis</span></div>
              <p class="tiny">
                <span class="muted">ωp1</span> and <span class="muted">ωp2</span> have units rad/s, so <span class="muted">ωp1² + ωp2²</span> has (rad/s)².
                Dividing by 2 keeps (rad/s)², and square-root returns rad/s. ✅
              </p>
            </div>
            <div class="callout">
              <div class="tag ok"><span class="dot"></span><span>Limiting cases</span></div>
              <ul class="tiny">
                <li><strong>Metal–vacuum limit:</strong> if <span class="muted">ωp2→0</span>, then <span class="muted">ε2→1</span> and
                  <span class="muted">ω→ωp1/√2</span>, the standard surface plasmon frequency.</li>
                <li><strong>Symmetric metals:</strong> if <span class="muted">ωp1=ωp2</span>, then <span class="muted">ω=ωp1</span>.
                  (Mathematically consistent; physically the interface contrast vanishes, making localization degenerate.)</li>
                <li><strong>Strongly asymmetric:</strong> if <span class="muted">ωp2≫ωp1</span>, then <span class="muted">ω≈ωp2/√2</span>:
                  the “stiffer” plasma dominates.</li>
              </ul>
            </div>
          </div>

          <h3>Optional illustrative plot (normalized)</h3>
          <figure>
            <canvas id="plot" width="900" height="520" aria-label="Plot of normalized interface plasmon frequency"></canvas>
            <figcaption>
              Example visualization (dimensionless): with <span class="muted">r = ωp2/ωp1</span>, the formula becomes
              <span class="muted">ω/ωp1 = sqrt((1 + r²)/2)</span>. This shows how the interface frequency transitions as the second metal changes.
            </figcaption>
          </figure>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <!-- PART 4 -->
        <section id="part4">
          <h2>PART 4 — Deeper Understanding (Theory Around the Result)</h2>

          <h3>Re-interpreting the final formula</h3>
          <p>
            The frequency
            <span class="muted">ω = √((ωp1²+ωp2²)/2)</span>
            is an “RMS average” of the two bulk plasma frequencies scaled by <span class="muted">1</span> (inside the root) and <span class="muted">1/√2</span> overall.
            Physically, the interface mode’s restoring field “feels” both media; the boundary condition forces a balance between how each side polarizes.
          </p>

          <div class="callout">
            <div class="tag"><span class="dot"></span><span>Parameter dependence (qualitative)</span></div>
            <ul class="tiny">
              <li>Increasing <span class="muted">ωp1</span> increases <span class="muted">ω</span> monotonically (stronger electron density / stiffer plasma on side 1).</li>
              <li>Increasing <span class="muted">ωp2</span> also increases <span class="muted">ω</span> monotonically.</li>
              <li>Sensitivity: <span class="muted">∂ω/∂ωp1 = (ωp1)/(2ω)</span>, similarly for <span class="muted">ωp2</span>; the larger plasma frequency contributes more strongly.</li>
            </ul>
          </div>

          <h3>Alternative derivation idea (brief but meaningful)</h3>
          <details>
            <summary>Full Maxwell SPP → large-k limit</summary>
            <p class="tiny">
              In a fully retarded treatment, you solve wave equations in each medium and impose electromagnetic boundary conditions.
              For a TM surface mode, the dispersion has the general form
              <span class="muted">k(ω) = (ω/c) √(ε1 ε2/(ε1+ε2))</span> (schematically; for planar interfaces).
              In the <span class="muted">k→∞</span> limit (strong localization), the denominator must approach zero to make <span class="muted">k</span> large,
              forcing <span class="muted">ε1(ω)+ε2(ω)≈0</span>—the same condition we used directly in the quasi-static approach.
            </p>
          </details>

          <h3>Concept check (self-test with answers)</h3>
          <ul>
            <li><strong>Q:</strong> Why do we use <span class="muted">∇²φ=0</span> rather than a wave equation?<br/>
                <strong>A:</strong> In the electrostatic (non-retarded) limit, the field is longitudinal (<span class="muted">∇×E=0</span>) and governed by charge continuity via <span class="muted">∇·D=0</span>, giving Laplace’s equation in each homogeneous region.</li>
            <li><strong>Q:</strong> What mathematical condition ensures the mode is “surface-bound”?<br/>
                <strong>A:</strong> Exponential decay away from the interface: <span class="muted">φ1∝e^{−kz}</span> for <span class="muted">z&gt;0</span> and <span class="muted">φ2∝e^{+kz}</span> for <span class="muted">z&lt;0</span>.</li>
            <li><strong>Q:</strong> Which boundary condition produces the frequency equation?<br/>
                <strong>A:</strong> Continuity of <span class="muted">D_n</span> together with continuity of <span class="muted">φ</span> yields <span class="muted">ε1+ε2=0</span>.</li>
            <li><strong>Q:</strong> What changes if damping is included?<br/>
                <strong>A:</strong> <span class="muted">ε(ω)</span> becomes complex, so the eigenfrequency becomes complex (decay in time), and the resonance broadens (finite linewidth).</li>
          </ul>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <!-- PART 5 -->
        <section id="part5">
          <h2>PART 5 — Optional Plot Guide (Because a Plot Exists)</h2>

          <h3>What the plot shows (and why it’s useful)</h3>
          <p>
            The plot graphs the <strong>dimensionless</strong> relationship
            <span class="muted">ω/ωp1 = √((1 + r²)/2)</span> versus <span class="muted">r = ωp2/ωp1</span>.
            This is useful because it visually confirms:
            (i) the metal–vacuum limit <span class="muted">r→0 ⇒ ω/ωp1→1/√2</span>,
            and (ii) symmetry for large <span class="muted">r</span> where <span class="muted">ω≈ωp2/√2</span>.
          </p>

          <h3>Axes and units</h3>
          <ul>
            <li><strong>x-axis:</strong> <span class="muted">r = ωp2/ωp1</span> (unitless).</li>
            <li><strong>y-axis:</strong> <span class="muted">ω/ωp1</span> (unitless).</li>
          </ul>

          <h3>Example values note</h3>
          <p class="tiny muted">
            The curve is purely symbolic but plotted in normalized variables (no numerical material constants were inserted).
            It is therefore an “example visualization” of the formula’s dependence, not a fit to a particular pair of metals.
          </p>

          <h3>Features to notice</h3>
          <ul>
            <li>At <span class="muted">r=0</span>, the intercept is <span class="muted">1/√2</span>.</li>
            <li>The curve is convex upward because of the square root of a quadratic.</li>
            <li>At <span class="muted">r=1</span>, <span class="muted">ω/ωp1 = 1</span> (the symmetric case).</li>
          </ul>

          <a class="backtop" href="#top">↑ Back to top</a>
        </section>

        <section>
          <h2>Copy-friendly summary</h2>
          <div class="eqbox">
            <div class="eqrow">
              <pre class="eq" id="copyBlock">Interface plasmon at a metal–metal boundary (z=0):

Quasi-static model:
E = −∇φ,   ∇·D = 0,   D = ε0 ε(ω) E
⇒ in each region (constant ε): ∇²φ = 0

Bound solution (propagation along x):
φ1 = A e^{−kz} e^{ikx} e^{−iωt},  z>0
φ2 = B e^{+kz} e^{ikx} e^{−iωt},  z<0

Boundary conditions at z=0:
(1) φ1 = φ2  ⇒ A = B
(2) Dn continuous ⇒ ε1 ∂φ1/∂z = ε2 ∂φ2/∂z
Using derivatives ⇒ ε1 + ε2 = 0

Drude metals (lossless):
εi(ω) = 1 − ωpi^2/ω^2

Solve:
(1 − ωp1^2/ω^2) + (1 − ωp2^2/ω^2) = 0
⇒ ω = sqrt( (ωp1^2 + ωp2^2)/2 )</pre>
              <button class="btn" data-copy="#copyBlock">Copy final answer (plain text)</button>
            </div>
          </div>
        </section>

      </article>
    </main>
  </div>

  <footer>
    <div>
      <strong>Note:</strong> This derivation is the standard electrostatic-interface-plasmon result for lossless Drude metals.
      In real materials, damping and interband effects shift and broaden the resonance; in thin films, coupled interfaces split the mode.
    </div>
  </footer>

  <script>
    // Copy buttons
    (function(){
      const buttons = document.querySelectorAll('[data-copy]');
      async function copyTextFromSelector(sel){
        const el = document.querySelector(sel);
        if(!el) return false;
        const text = el.innerText.replace(/\u00A0/g,' ');
        try{
          await navigator.clipboard.writeText(text);
          return true;
        }catch(e){
          // Fallback
          const ta = document.createElement('textarea');
          ta.value = text;
          ta.style.position = 'fixed';
          ta.style.left = '-9999px';
          document.body.appendChild(ta);
          ta.select();
          try{
            document.execCommand('copy');
            document.body.removeChild(ta);
            return true;
          }catch(err){
            document.body.removeChild(ta);
            return false;
          }
        }
      }
      buttons.forEach(btn=>{
        btn.addEventListener('click', async ()=>{
          const sel = btn.getAttribute('data-copy');
          const ok = await copyTextFromSelector(sel);
          const old = btn.textContent;
          if(ok){
            btn.classList.add('copy-ok');
            btn.textContent = 'Copied ✓';
          }else{
            btn.textContent = 'Copy failed';
          }
          setTimeout(()=>{
            btn.classList.remove('copy-ok');
            btn.textContent = old;
          }, 1200);
        });
      });
    })();

    // Simple static plot: y = sqrt((1+r^2)/2), r in [0, 3]
    (function(){
      const canvas = document.getElementById('plot');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');

      function draw(){
        const dpr = Math.max(1, Math.floor(window.devicePixelRatio || 1));
        const rect = canvas.getBoundingClientRect();
        const cssW = rect.width;
        const cssH = Math.max(280, Math.round(cssW * 0.56));
        canvas.style.height = cssH + 'px';
        canvas.width = Math.round(cssW * dpr);
        canvas.height = Math.round(cssH * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);

        const W = cssW, H = cssH;
        ctx.clearRect(0,0,W,H);

        // Plot frame
        const padL = 62, padR = 18, padT = 42, padB = 52;
        const x0 = padL, y0 = H - padB;
        const x1 = W - padR, y1 = padT;

        // Scales
        const rMin = 0, rMax = 3.0;
        const yMin = 0.65, yMax = 2.2; // fits the curve up to r=3: sqrt((1+9)/2)=sqrt(5)=2.236
        const xToPix = r => x0 + (r - rMin) * (x1 - x0) / (rMax - rMin);
        const yToPix = y => y0 - (y - yMin) * (y0 - y1) / (yMax - yMin);

        // Background
        ctx.fillStyle = 'rgba(7,11,20,0.55)';
        ctx.fillRect(0,0,W,H);

        // Title
        ctx.fillStyle = 'rgba(233,238,252,0.95)';
        ctx.font = '700 16px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillText('Normalized Interface Plasmon Frequency', padL, 22);
        ctx.font = '500 12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillStyle = 'rgba(184,194,227,0.92)';
        ctx.fillText('Curve:  ω/ωp1 = sqrt((1 + r²)/2),  r = ωp2/ωp1', padL, 38);

        // Gridlines + ticks
        ctx.strokeStyle = 'rgba(255,255,255,0.10)';
        ctx.lineWidth = 1;

        // x ticks
        const xTicks = [0, 0.5, 1, 1.5, 2, 2.5, 3];
        xTicks.forEach(t=>{
          const x = xToPix(t);
          ctx.beginPath();
          ctx.moveTo(x, y0);
          ctx.lineTo(x, y1);
          ctx.stroke();
        });

        // y ticks
        const yTicks = [0.7, 1.0, 1.4, 1.8, 2.2];
        yTicks.forEach(t=>{
          const y = yToPix(t);
          ctx.beginPath();
          ctx.moveTo(x0, y);
          ctx.lineTo(x1, y);
          ctx.stroke();
        });

        // Axes
        ctx.strokeStyle = 'rgba(255,255,255,0.35)';
        ctx.lineWidth = 1.5;
        ctx.beginPath();
        ctx.moveTo(x0, y0);
        ctx.lineTo(x1, y0);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(x0, y0);
        ctx.lineTo(x0, y1);
        ctx.stroke();

        // Tick labels
        ctx.fillStyle = 'rgba(184,194,227,0.95)';
        ctx.font = '12px ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace';

        xTicks.forEach(t=>{
          const x = xToPix(t);
          ctx.fillText(String(t), x - 8, y0 + 18);
        });
        yTicks.forEach(t=>{
          const y = yToPix(t);
          ctx.fillText(String(t), x0 - 46, y + 4);
        });

        // Axis labels
        ctx.fillStyle = 'rgba(233,238,252,0.92)';
        ctx.font = '700 13px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillText('r = ωp2 / ωp1 (unitless)', Math.round((x0+x1)/2) - 85, H - 18);

        // y label (rotated)
        ctx.save();
        ctx.translate(18, Math.round((y0+y1)/2) + 60);
        ctx.rotate(-Math.PI/2);
        ctx.fillText('ω / ωp1 (unitless)', 0, 0);
        ctx.restore();

        // Plot curve
        ctx.strokeStyle = 'rgba(125,211,252,0.95)';
        ctx.lineWidth = 2.5;
        ctx.beginPath();
        const N = 300;
        for(let i=0;i<=N;i++){
          const r = rMin + (rMax - rMin)*i/N;
          const y = Math.sqrt((1 + r*r)/2);
          const px = xToPix(r);
          const py = yToPix(y);
          if(i===0) ctx.moveTo(px, py);
          else ctx.lineTo(px, py);
        }
        ctx.stroke();

        // A highlight point at r=1
        const rH = 1;
        const yH = Math.sqrt((1 + rH*rH)/2); // = 1
        const pxH = xToPix(rH), pyH = yToPix(yH);
        ctx.fillStyle = 'rgba(167,139,250,0.95)';
        ctx.beginPath();
        ctx.arc(pxH, pyH, 4.2, 0, Math.PI*2);
        ctx.fill();

        // Legend
        const lx = x1 - 245, ly = y1 + 10;
        ctx.fillStyle = 'rgba(255,255,255,0.06)';
        ctx.strokeStyle = 'rgba(255,255,255,0.12)';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.roundRect(lx, ly, 230, 44, 10);
        ctx.fill();
        ctx.stroke();

        ctx.strokeStyle = 'rgba(125,211,252,0.95)';
        ctx.lineWidth = 2.5;
        ctx.beginPath();
        ctx.moveTo(lx+12, ly+16);
        ctx.lineTo(lx+52, ly+16);
        ctx.stroke();
        ctx.fillStyle = 'rgba(233,238,252,0.92)';
        ctx.font = '600 12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
        ctx.fillText('ω/ωp1 = sqrt((1 + r²)/2)', lx+62, ly+20);

        ctx.fillStyle = 'rgba(167,139,250,0.95)';
        ctx.beginPath();
        ctx.arc(lx+32, ly+33, 4.2, 0, Math.PI*2);
        ctx.fill();
        ctx.fillStyle = 'rgba(233,238,252,0.92)';
        ctx.fillText('Marker: r=1 → ω/ωp1=1', lx+62, ly+37);
      }

      // roundRect polyfill-ish for older browsers
      if(!CanvasRenderingContext2D.prototype.roundRect){
        CanvasRenderingContext2D.prototype.roundRect = function(x, y, w, h, r){
          r = Math.min(r, w/2, h/2);
          this.beginPath();
          this.moveTo(x+r, y);
          this.arcTo(x+w, y, x+w, y+h, r);
          this.arcTo(x+w, y+h, x, y+h, r);
          this.arcTo(x, y+h, x, y, r);
          this.arcTo(x, y, x+w, y, r);
          this.closePath();
          return this;
        }
      }

      draw();
      window.addEventListener('resize', () => draw(), {passive:true});
    })();
  </script>
</body>
</html>